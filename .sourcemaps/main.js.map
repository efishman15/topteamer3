{"version":3,"sources":["../../src/providers/analytics.ts","../../src/providers/sound.ts","../../src/components/contest-list/contest-list.ts","../../node_modules/@angular/core/@angular lazy","../../src lazy","../../src/components/loading-modal/loading-modal.ts","../../src/components/player-info/player-info.ts","../../src/objects/objects.ts","../../src/providers/contests.ts","../../src/pages/contest/contest.ts","../../src/components/contest-chart/contest-chart.ts","../../src/pages/contest-participants/contest-participants.ts","../../src/components/leaders/leaders.ts","../../src/pages/contest-type/contest-type.ts","../../src/pages/share-success/share-success.ts","../../src/pages/leaderboards/leaderboards.ts","../../src/pages/login/login.ts","../../src/pages/main-tabs/main-tabs.ts","../../src/pages/my-contests/my-contests.ts","../../src/pages/new-rank/new-rank.ts","../../src/pages/purchase-success/purchase-success.ts","../../src/pages/question-editor/question-editor.ts","../../src/pages/question-stats/question-stats.ts","../../src/pages/quiz/quiz.ts","../../src/pages/running-contests/running-contests.ts","../../src/pages/search-questions/search-questions.ts","../../src/pages/server-popup/server-popup.ts","../../src/pages/set-contest/set-contest.ts","../../src/pages/set-contest-admin/set-contest-admin.ts","../../src/pages/set-user/set-user.ts","../../src/pages/settings/settings.ts","../../src/pages/share/share.ts","../../src/providers/share.ts","../../src/pages/system-tools/system-tools.ts","../../src/components/simple-tab/simple-tab.ts","../../src/app/main.ts","../../src/app/app.module.ts","../../src/providers/alert.ts","../../src/providers/connect.ts","../../src/app/app.component.ts","../../src/providers/client.ts","../../src/providers/facebook.ts","../../src/providers/classes.ts","../../src/providers/leaderboards.ts","../../src/providers/quiz.ts","../../src/providers/payments.ts","../../src/components/date-picker/date-picker.ts","../../src/components/simple-tabs/simple-tabs.ts"],"names":[],"mappings":"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","file":"main.js","sourcesContent":["import {Client} from './client';\r\n\r\nfunction trackingEnabled() : boolean {\r\n  var client = Client.getInstance();\r\n  return client.settings.analytics.track.events || client.settings.analytics.track.errors;\r\n}\r\nexport let init = (token:string) => {\r\n  if (!trackingEnabled()) {\r\n    return;\r\n  }\r\n  window.mixpanel.init(token);\r\n\r\n};\r\n\r\nexport let register = (superProperties:any) => {\r\n  if (!trackingEnabled()) {\r\n    return;\r\n  }\r\n  window.mixpanel.register(superProperties);\r\n}\r\n\r\nexport let identify = (userId:string) => {\r\n  if (!trackingEnabled()) {\r\n    return;\r\n  }\r\n  window.mixpanel.identify(userId);\r\n}\r\n\r\nexport let track = (eventName:string, eventProperties?:any) => {\r\n  var client = Client.getInstance();\r\n  if (!client.settings.analytics.track.events) {\r\n    return;\r\n  }\r\n  window.mixpanel.track(eventName, eventProperties);\r\n}\r\n\r\nexport let setUserPermanentData = (data:any) => {\r\n  if (!trackingEnabled()) {\r\n    return;\r\n  }\r\n  window.mixpanel.people.set(data);\r\n}\r\n\r\n//Currently implementing loggin errors to the same mixpanel analytics tool\r\n//All errros will be recorded under a single event: 'error' with data of the error in the event properties\r\nexport let logError = (type:string, error:any) => {\r\n  var client = Client.getInstance();\r\n  if (!client.settings.analytics.track.errors) {\r\n    return;\r\n  }\r\n  this.track('error', {type: type, error: JSON.stringify(error)});\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/analytics.ts","import {Client} from './client';\r\n\r\nvar audio = new Audio();\r\nvar playOgg = !!(audio.canPlayType && audio.canPlayType(\"audio/ogg; codecs='vorbis'\").replace(/no/, ''));\r\nvar playMp3 = !!(audio.canPlayType && audio.canPlayType(\"audio/mpeg\").replace(/no/, ''));\r\n\r\n//Play\r\nexport let play = (sound) => {\r\n\r\n  var client = Client.getInstance();\r\n\r\n  if (!client.session.settings.sound) {\r\n    return;\r\n  }\r\n\r\n  if (playMp3) {\r\n    audio.src = sound + '.mp3';\r\n    audio.play();\r\n    return true;\r\n  }\r\n  else if (playOgg) {\r\n    audio.src = sound + '.ogg';\r\n    audio.play();\r\n    return true;\r\n  }\r\n  else {\r\n    return false;\r\n  }\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/sound.ts","import {Component, Input} from '@angular/core';\r\nimport {Client} from '../../providers/client';\r\nimport * as contestsService from '../../providers/contests';\r\nimport {Contest} from \"../../objects/objects\";\r\n\r\n@Component({\r\n  selector: 'contest-list',\r\n  templateUrl: 'contest-list.html'\r\n})\r\n\r\nexport class ContestListComponent {\r\n  @Input() tab:String;\r\n\r\n  contests:Array<Contest>;\r\n  client:Client;\r\n  lastRefreshTime;\r\n\r\n  constructor() {\r\n    this.client = Client.getInstance();\r\n    this.lastRefreshTime = 0;\r\n  }\r\n\r\n  refresh(forceRefresh?:boolean) {\r\n    return new Promise((resolve, reject) => {\r\n      var now = (new Date()).getTime();\r\n\r\n      //Check if refresh frequency reached\r\n      if (now - this.lastRefreshTime < this.client.settings.lists.contests.refreshFrequencyInMilliseconds && !forceRefresh) {\r\n        resolve();\r\n        return;\r\n      }\r\n\r\n      contestsService.list(this.tab).then((contests:Array<Contest>) => {\r\n        this.lastRefreshTime = now;\r\n        this.contests = contests;\r\n        resolve();\r\n      }, () => {\r\n        reject();\r\n      });\r\n    });\r\n  }\r\n\r\n  onContestSelected(data:any) {\r\n    this.showContest(data, false);\r\n  }\r\n\r\n  onMyTeamSelected(data:any) {\r\n    this.showContest(data, true);\r\n  }\r\n\r\n  showContest(data:any, tryRun:boolean) {\r\n    data.source = this.tab + '/' + data.source;\r\n    this.client.showContest(data.contest, data.source, tryRun).then((contest:Contest) => {\r\n      if (contest) {\r\n        //A new copy from the server\r\n        this.updateContest(contest);\r\n      }\r\n    }, () => {\r\n    });\r\n  }\r\n\r\n  onContestButtonClick(data:any) {\r\n    switch (data.contest.status) {\r\n      case 'finished':\r\n      case 'starting':\r\n        this.showContest(data, false);\r\n        break;\r\n      default:\r\n        this.showContest(data, true);\r\n        break;\r\n    }\r\n  }\r\n\r\n  findContestIndex(contestId:string) {\r\n    if (this.contests && this.contests.length > 0) {\r\n      for (var i = 0; i < this.contests.length; i++) {\r\n        if (this.contests[i]._id === contestId) {\r\n          return i;\r\n        }\r\n      }\r\n    }\r\n    return -1;\r\n  }\r\n\r\n  updateContest(contest:Contest) {\r\n    var index = this.findContestIndex(contest._id);\r\n    if (index > -1) {\r\n      this.contests[index] = contest;\r\n    }\r\n  }\r\n\r\n  removeContest(contestId:string) {\r\n    var index = this.findContestIndex(contestId);\r\n    if (index > -1) {\r\n      this.contests.splice(index, 1);\r\n    }\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/contest-list/contest-list.ts","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncatched exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = 150;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/@angular/core/@angular lazy\n// module id = 150\n// module chunks = 0","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncatched exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = 193;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src lazy\n// module id = 193\n// module chunks = 0","import {Component} from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'loading-modal',\r\n  templateUrl: 'loading-modal.html'\r\n})\r\nexport class LoadingModalComponent {\r\n\r\n  isBusy: boolean;\r\n\r\n  constructor() {\r\n    this.isBusy = false;\r\n  }\r\n\r\n  show(){\r\n    this.isBusy = true;\r\n  }\r\n\r\n  hide(){\r\n    this.isBusy = false;\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/loading-modal/loading-modal.ts","import {Component,ViewChild, ElementRef} from '@angular/core';\r\nimport {Client} from '../../providers/client';\r\nimport {XpProgress} from '../../objects/objects';\r\n\r\n@Component({\r\n  selector: 'player-info',\r\n  templateUrl: 'player-info.html'\r\n})\r\nexport class PlayerInfoComponent {\r\n\r\n  client:Client;\r\n  @ViewChild('playerInfoCanvas') canvasElementRef:ElementRef;\r\n  canvas: HTMLCanvasElement;\r\n  context: CanvasRenderingContext2D;\r\n  canvasCenterX:number;\r\n  canvasCenterY:number;\r\n\r\n  circle:number = Math.PI * 2;\r\n  quarter:number = Math.PI / 2;\r\n  height:number = 0;\r\n  hidden:boolean;\r\n\r\n  constructor() {\r\n    this.hidden = true;\r\n  }\r\n\r\n  ngAfterViewInit() {\r\n    this.canvas = this.canvasElementRef.nativeElement;\r\n    this.context = this.canvas.getContext('2d');\r\n\r\n    this.canvasCenterX = this.canvas.width / 2;\r\n    this.canvasCenterY = this.canvas.height / 2;\r\n  }\r\n\r\n  init(client:Client) {\r\n    this.client = client;\r\n    this.initXp();\r\n    this.hidden = false;\r\n  }\r\n\r\n  clearXp() {\r\n    this.context.clearRect(0, 0, this.canvas.width, this.canvas.height);\r\n  }\r\n\r\n  initXp() {\r\n    this.clearXp();\r\n\r\n    //-------------------------------------------------------------------------------------\r\n    // Draw the full circle representing the entire xp required for the next level\r\n    //-------------------------------------------------------------------------------------\r\n    this.context.beginPath();\r\n\r\n    this.context.arc(this.canvasCenterX, this.canvasCenterY, this.client.settings.xpControl.radius, 0, this.circle, false);\r\n    this.context.fillStyle = this.client.settings.xpControl.fillColor;\r\n    this.context.fill();\r\n\r\n    //Full line color\r\n    this.context.lineWidth = this.client.settings.xpControl.lineWidth;\r\n    this.context.strokeStyle = this.client.settings.xpControl.fullLineColor;\r\n    this.context.stroke();\r\n    this.context.closePath();\r\n\r\n    //-------------------------------------------------------------------------------------\r\n    //Draw the arc representing the xp in the current level\r\n    //-------------------------------------------------------------------------------------\r\n    this.context.beginPath();\r\n\r\n    // line color\r\n    this.context.arc(this.canvasCenterX, this.canvasCenterY, this.client.settings.xpControl.radius, -(this.quarter), ((this.client.session.xpProgress.current / this.client.session.xpProgress.max) * this.circle) - this.quarter, false);\r\n    this.context.strokeStyle = this.client.settings.xpControl.progressLineColor;\r\n    this.context.stroke();\r\n\r\n    //Rank Text\r\n    var font = '';\r\n    if (this.client.settings.xpControl.font.bold) {\r\n      font += 'bold ';\r\n    }\r\n\r\n    var fontSize;\r\n    if (this.client.session.rank < 10) {\r\n      //1 digit font\r\n      fontSize = this.client.settings.xpControl.font.d1;\r\n    }\r\n    else if (this.client.session.rank < 100) {\r\n      //2 digits font\r\n      fontSize = this.client.settings.xpControl.font.d2;\r\n    }\r\n    else {\r\n      fontSize = this.client.settings.xpControl.font.d3;\r\n    }\r\n    font += fontSize + ' ';\r\n\r\n    font += this.client.settings.xpControl.font.name;\r\n\r\n    this.context.font = font;\r\n\r\n    // Move it down by half the text height and left by half the text width\r\n    var rankText = '' + this.client.session.rank;\r\n    var textWidth = this.context.measureText(rankText).width;\r\n    var textHeight = this.context.measureText('w').width;\r\n\r\n    this.context.fillStyle = this.client.settings.xpControl.textColor;\r\n    let direction:number;\r\n    if (this.client.currentLanguage.direction === 'ltr') {\r\n      direction = 1;\r\n    }\r\n    else {\r\n      direction = -1;\r\n    }\r\n    this.context.fillText(rankText, this.canvasCenterX - (direction * (textWidth / 2)), this.canvasCenterY + (textHeight / 2));\r\n\r\n    this.context.closePath();\r\n  }\r\n\r\n  animateXpAddition(startPoint, endPoint) {\r\n\r\n    this.context.beginPath();\r\n    this.context.arc(this.canvasCenterX, this.canvasCenterY, this.client.settings.xpControl.radius, (this.circle * startPoint) - this.quarter, (this.circle * endPoint) - this.quarter, false);\r\n    this.context.strokeStyle = this.client.settings.xpControl.progressLineColor;\r\n    this.context.stroke();\r\n    this.context.closePath();\r\n  }\r\n\r\n  addXp(xpProgress:XpProgress) {\r\n\r\n    return new Promise((resolve, reject) => {\r\n\r\n      var startPoint = this.client.session.xpProgress.current / this.client.session.xpProgress.max;\r\n\r\n      //Occurs after xp has already been added to the session\r\n      var addition = xpProgress.addition;\r\n      for (var i = 1; i <= addition; i++) {\r\n        window.myRequestAnimationFrame(() => {\r\n          var endPoint = (this.client.session.xpProgress.current + i) / this.client.session.xpProgress.max;\r\n          this.animateXpAddition(startPoint, endPoint);\r\n\r\n          //Last iteration should be performed after the animation frame event happened\r\n          if (i >= addition) {\r\n\r\n            //Add the actual xp to the client side\r\n            this.client.session.xpProgress = xpProgress;\r\n\r\n            //Zero the addition\r\n            this.client.session.xpProgress.addition = 0;\r\n\r\n            if (xpProgress.rankChanged) {\r\n              this.client.session.rank = xpProgress.rank;\r\n              this.initXp();\r\n            }\r\n          }\r\n        })\r\n      }\r\n      resolve();\r\n    });\r\n\r\n  }\r\n\r\n  myAvatarClick(event: Event) {\r\n      //Avoid opening 'SetUserPage' twice\r\n      if (this.client.nav.getActive().component.name !== 'SetUserPage') {\r\n        this.client.openPage('SetUserPage');\r\n    }\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/player-info/player-info.ts","import { DocumentDirection } from 'ionic-angular/platform/platform';\r\n\r\nexport class BasicListSettings {\r\n    refreshFrequencyInMilliseconds: number;\r\n}\r\n\r\nexport class LeaderboardListSettings {\r\n    friends: BasicListSettings;\r\n    weekly: BasicListSettings;\r\n    contest: BasicListSettings;\r\n}\r\n\r\nexport class ListSettings {\r\n    contests: BasicListSettings;\r\n    leaderboards: LeaderboardListSettings;\r\n}\r\n\r\nexport class Settings {\r\n    general: GeneralSettings;\r\n    facebook: FacebookSettings;\r\n    quiz: QuizSettings;\r\n    charts: ChartsSettings;\r\n    platforms: Array<Object>;\r\n    xpControl: XpControl;\r\n    google: GoogleSettings;\r\n    languages: Array<Language>;\r\n    ui: Array<Array<Object>>;\r\n    newContest: NewContestSettings;\r\n    lists: ListSettings;\r\n    share: ShareSettings;\r\n    contest: ContestSettings;\r\n    branch: BranchSettings;\r\n    admin: AdminSettings;\r\n    analytics: AnalyticsSettings;\r\n}\r\n\r\nexport class GeneralInputsSettings {\r\n    name: FormInputSettings;\r\n}\r\n\r\nexport class AnalyticsSettings {\r\n    track: AnalyticsTrackSettings;\r\n    mixpanel: MixpanelAnalyticsSettings;\r\n}\r\n\r\nexport class AnalyticsTrackSettings {\r\n    events: boolean;\r\n    errors: boolean;\r\n}\r\n\r\nexport class MixpanelAnalyticsSettings {\r\n    token: string;\r\n}\r\n\r\nexport class AdminSettings {\r\n    commands: Array<AdminCommand>;\r\n}\r\n\r\nexport class AdminCommand {\r\n    id: string;\r\n    text: string;\r\n    action: string;\r\n    type: string;\r\n    confirm: string;\r\n    returnValue: string;\r\n}\r\n\r\nexport class BranchSettings {\r\n    key: string;\r\n}\r\n\r\nexport class ContestSettings {\r\n    refreshTresholdInMilliseconds: number;\r\n    maxTeamsLengthForLargeFonts: number;\r\n}\r\n\r\nexport class ShareSettings {\r\n    web: ShareWebSettings;\r\n    mobile: ShareMobileSettings;\r\n    iconSize: Size;\r\n}\r\n\r\nexport class ShareWebSettings {\r\n    networks: Array<Array<ShareWebNetwork>>;\r\n}\r\n\r\nexport class ShareWebNetwork {\r\n    name: string;\r\n    url: string;\r\n    image: string;\r\n}\r\n\r\nexport class ShareMobileSettings {\r\n    discoverApps: Array<ClientShareDiscoverApp>;\r\n    extraApps: Array<ClientShareApp>;\r\n    maxsApps: number;\r\n}\r\n\r\nexport class NewContestSettings {\r\n    privateQuestions: NewContestPrivateQuestionsSettings;\r\n    contestTypes: any;\r\n    endOptions: any;\r\n    selectableContestTypes: Array<Array<string>>;\r\n    inputs: NewContestInputSettings;\r\n}\r\n\r\nexport class NewContestInputSettings {\r\n    team: FormInputSettings;\r\n    subject: FormInputSettings;\r\n}\r\n\r\nexport class FormInputSettings {\r\n    maxLength: number;\r\n}\r\n\r\nexport class NewContestPrivateQuestionsSettings {\r\n    min: number;\r\n    max: number;\r\n}\r\n\r\nexport class GoogleSettings {\r\n    gcm: GoogleGcmSettings;\r\n}\r\n\r\nexport class GoogleGcmSettings {\r\n    senderID: string;\r\n    sound: boolean;\r\n    vibrate: boolean;\r\n}\r\n\r\nexport class XpControl {\r\n    radius: number;\r\n    fillColor: string;\r\n    lineWidth: number;\r\n    fullLineColor: string;\r\n    progressLineColor: string;\r\n    textColor: string;\r\n    font: XpControlFont;\r\n}\r\n\r\nexport class XpControlFont {\r\n    name: string;\r\n    bold: boolean;\r\n    d1: string;\r\n    d2: string;\r\n    d3: string;\r\n}\r\n\r\nexport class GeneralSettings {\r\n    webCanvasWidth: number;\r\n    facebookFanPage: string;\r\n    postErrors: boolean;\r\n    network: GeneralNetworkSettings;\r\n    avatarTemplate: string;\r\n    allowGuest: boolean;\r\n    avatars: Array<string>;\r\n    inputs: GeneralInputsSettings;\r\n}\r\n\r\nexport class GeneralNetworkSettings {\r\n    retries: number;\r\n    initialDelay: number;\r\n}\r\n\r\nexport class FacebookSettings {\r\n    friendsPermissions: Array<string>;\r\n    appId: string;\r\n    version: string;\r\n    sdk: string;\r\n    avatarTemplate: string;\r\n}\r\n\r\nexport class QuizSettings {\r\n    canvas: QuizCanvasSettings;\r\n    question: QuizQuestionSettings;\r\n    questions: QuizQuestionsSettings;\r\n    finish: FinishQuizSettings;\r\n}\r\n\r\nexport class FinishQuizSettings {\r\n    animateResultsTimeout: number;\r\n    animateResultsExitTimeout: number;\r\n    exitAnimation: string;\r\n}\r\n\r\nexport class QuizQuestionsSettings {\r\n    score: Array<number>;\r\n}\r\n\r\nexport class QuizCanvasSettings {\r\n    font: QuizCanvasFontsSettings;\r\n    scores: QuizCanvasScoresSettings;\r\n    circle: QuizCanvasCircleSettings;\r\n    size: QuizCanvasSizeSettings;\r\n    line: QuizCanvasLineSettings;\r\n}\r\n\r\nexport class QuizCanvasFontsSettings {\r\n    scores: QuizCanvasFontSettings;\r\n    signs: QuizCanvasFontSettings;\r\n}\r\n\r\nexport class QuizCanvasFontSettings {\r\n    bold: boolean;\r\n    size: string; //e.g 20px\r\n    name: string;\r\n}\r\n\r\nexport class QuizCanvasSizeSettings {\r\n    height: number;\r\n    topOffset: number;\r\n    widthRatio: number;\r\n}\r\n\r\nexport class QuizCanvasScoresSettings {\r\n    size: QuizCanvasScoresSizeSettings;\r\n    colors: QuizCanvasScoresColorsSettings;\r\n}\r\n\r\nexport class QuizCanvasScoresSizeSettings {\r\n    top: number;\r\n}\r\n\r\nexport class QuizCanvasScoresColorsSettings {\r\n    default: string;\r\n    correct: string;\r\n}\r\n\r\nexport class QuizCanvasCircleSettings {\r\n    radius: QuizCanvasCircleRadiusSettings;\r\n    states: QuizCanvasCircleStatesSettings;\r\n}\r\n\r\nexport class QuizCanvasCircleRadiusSettings {\r\n    min: number;\r\n    max: number;\r\n    spaceRatio: number;\r\n    outerBorderRatio: number;\r\n}\r\n\r\nexport class QuizCanvasCircleStateSettings {\r\n    innerColor: string;\r\n    outerColor: string;\r\n    text: string;\r\n    textFillStyle: string;\r\n}\r\n\r\nexport class QuizCanvasLineSettings {\r\n    color: string;\r\n    width: number;\r\n}\r\n\r\nexport class QuizCanvasCircleStatesSettings {\r\n    previous: QuizCanvasCircleStatePreviousSettings;\r\n    current: QuizCanvasCircleStateCurrentSettings;\r\n    next: QuizCanvasCircleStateSettings;\r\n}\r\n\r\nexport class QuizCanvasCircleStatePreviousSettings {\r\n    correct: QuizCanvasCircleStateSettings;\r\n    incorrect: QuizCanvasCircleStateSettings;\r\n}\r\n\r\nexport class QuizCanvasCircleStateCurrentSettings {\r\n    stats: QuizCanvasCircleStateSettings;\r\n    noStats: QuizCanvasCircleStateSettings;\r\n}\r\n\r\nexport class QuizQuestionSettings {\r\n    maxLength: number;\r\n    answer: QuizQuestionAnswerSettings;\r\n    wrongAnswerMillisecondsDelay: number;\r\n}\r\n\r\nexport class QuizQuestionAnswerSettings {\r\n    maxLength: number;\r\n}\r\n\r\nexport class ChartsSettings {\r\n    contest: ContestChartSettings;\r\n    questionStats: QuestionStatsChartSettings;\r\n}\r\n\r\nexport class Size {\r\n    width: number;\r\n    height: number;\r\n}\r\n\r\nexport class ChartSizeSettings extends Size {\r\n    widthRatio: number;\r\n    heightRatio: number;\r\n    heightRatioFromWidth: number;\r\n}\r\n\r\nexport class ContestChartSizeSettings extends ChartSizeSettings {\r\n    labelsPadding: number;\r\n    barPercentRatio;\r\n}\r\n\r\n\r\nexport class ContestChartSettings {\r\n    size: ContestChartSizeSettings;\r\n}\r\n\r\nexport class QuestionStatsChartSettings {\r\n    size: QuestionStatsChartSizeSettings;\r\n    colors: QuestionStatsChartSettingsColors;\r\n}\r\n\r\nexport class QuestionStatsChartSizeSettings extends ChartSizeSettings {\r\n    radiusRatio: number;\r\n    innerDoughnutRadiusRatio: number;\r\n}\r\n\r\nexport class QuestionStatsChartSettingsColors {\r\n    correct: string;\r\n    incorrect: string;\r\n    innerDoughnut: string;\r\n}\r\n\r\nexport class Question {\r\n    _id: string;\r\n    deleted: boolean;\r\n    checked: boolean;\r\n    text: string;\r\n    answers: Array<string>;\r\n\r\n    constructor() {\r\n        this._id = null;\r\n        this.text = null;\r\n        this.answers = [null, null, null, null];\r\n    }\r\n}\r\n\r\nexport class Questions {\r\n    list: Array<Question>;\r\n    visibleCount: number;\r\n\r\n    constructor() {\r\n        this.visibleCount = 0;\r\n        this.list = [];\r\n    }\r\n}\r\n\r\nexport class User {\r\n    clientInfo: ClientInfo;\r\n    settings: UserSettings;\r\n    geoInfo: Object;\r\n    credentials: ConnectInfo;\r\n    gcmRegistrationId: string;\r\n\r\n    constructor(language: string, clientInfo: ClientInfo, geoInfo?: Object) {\r\n        this.settings = new UserSettings(language, (new Date).getTimezoneOffset());\r\n        this.clientInfo = clientInfo;\r\n\r\n        if (geoInfo) {\r\n            this.geoInfo = geoInfo;\r\n        }\r\n    }\r\n}\r\n\r\nexport class UserSettings {\r\n    language: string;\r\n    timezoneOffset: number;\r\n    sound: boolean;\r\n    notifications: NotificationSettings;\r\n\r\n    constructor(language: string, timezoneOffset: number) {\r\n        this.language = language;\r\n        this.timezoneOffset = timezoneOffset;\r\n        this.sound = true;\r\n        this.notifications = new NotificationSettings();\r\n    }\r\n}\r\n\r\nexport class NotificationSettings {\r\n    on: boolean;\r\n    sound: boolean;\r\n    vibrate: boolean;\r\n    endingContests: boolean;\r\n    myTeamLosing: boolean;\r\n\r\n    constructor() {\r\n        this.on = true;\r\n        this.sound = true;\r\n        this.vibrate = true;\r\n        this.endingContests = true;\r\n        this.myTeamLosing = true;\r\n    }\r\n\r\n}\r\n\r\nexport class ClientInfo {\r\n    appVersion: string;\r\n    platform: string;\r\n    mobile: boolean;\r\n    device: any;\r\n}\r\n\r\nexport class Session {\r\n    name: string;\r\n    rank: number;\r\n    features: any;\r\n    score: number;\r\n    settings: SessionSettings;\r\n    isAdmin: boolean;\r\n    xpProgress: XpProgress;\r\n    gcmRegistrationId: string;\r\n    token: string;\r\n    avatar: Avatar;\r\n    dob: number;\r\n}\r\n\r\nexport class ClientShareApp {\r\n    name: string;\r\n    title: string;\r\n    image: string;\r\n\r\n    constructor(name: string, title: string, image: string) {\r\n        this.name = name;\r\n        this.title = title;\r\n        this.image = image;\r\n    }\r\n}\r\n\r\nexport class ClientShareDiscoverApp extends ClientShareApp {\r\n    package: ClientShareAppPackage;\r\n}\r\n\r\nexport class ClientShareAppPackage {\r\n    android: ClientShareAppPlatformPackage;\r\n    ios: ClientShareAppPlatformPackage;\r\n}\r\n\r\nexport class ClientShareAppPlatformPackage {\r\n    name: string;\r\n    installed: boolean;\r\n}\r\n\r\nexport class SessionSettings {\r\n    sound: boolean;\r\n    language: string;\r\n    notifications: NotificationSettings;\r\n}\r\n\r\nexport class Feature {\r\n    name: string;\r\n    lockText: string;\r\n    unlockText: string;\r\n    purchaseProductId: string;\r\n    purchaseData: PurchaseData;\r\n}\r\n\r\nexport class PurchaseData {\r\n    productId: string;\r\n    status: string;\r\n    url: string;\r\n}\r\n\r\nexport class PaymentData {\r\n    method: string;\r\n    data: PurchaseData;\r\n\r\n    constructor(method: string, data: PurchaseData) {\r\n        this.method = method;\r\n        this.data = data;\r\n    }\r\n}\r\n\r\nexport class View {\r\n    name: string;\r\n    isRoot: boolean;\r\n    params: Object;\r\n}\r\n\r\nexport class Language {\r\n    value: string;\r\n    direction: DocumentDirection;\r\n    align: string;\r\n    oppositeAlign: string;\r\n    displayNames: Object;\r\n    wiki: string;\r\n    oppositeDirection: string;\r\n    localeDateOptions: LocaleDateOptions;\r\n    locale: string;\r\n    backButtonIcon: string;\r\n}\r\n\r\nexport class LocaleDateOptions {\r\n    month: string;\r\n    day: string;\r\n    year: string;\r\n}\r\n\r\nexport class ContestChart {\r\n    contest: Contest;\r\n}\r\n\r\nexport class CalendarCell {\r\n    dateObject: Date;\r\n    date: number;\r\n    month: number;\r\n    year: number;\r\n    day: number;\r\n    dateString: string;\r\n    epochLocal: number;\r\n    epochUTC: number;\r\n    inMonth: boolean;\r\n    disabled: boolean;\r\n    selected: boolean;\r\n    today: boolean;\r\n}\r\n\r\nexport class Contest {\r\n    _id: string;\r\n    name: ContestName;\r\n    subject: string;\r\n    startDate: number;\r\n    endDate: number;\r\n    status: string;\r\n    link: string;\r\n    myTeam: number;\r\n    participants: number;\r\n    systemParticipants;\r\n    rating: number;\r\n    teams: Array<Team>;\r\n    type: ContestType;\r\n    endOption: string;\r\n    questions: Questions;\r\n    state: string;\r\n    owner: boolean;\r\n    leadingTeam: number;\r\n    time: ContestTime;\r\n    lastUpdated: number;\r\n    buttonText: string;\r\n\r\n    constructor(typeId: string, startDate: number, endDate?: number, endOption?: string) {\r\n        this.startDate = startDate;\r\n        if (endDate == null || endDate === undefined) {\r\n            this.endDate = this.startDate + 1 * 24 * 60 * 60 * 1000;\r\n        }\r\n        else {\r\n            this.endDate = endDate;\r\n        }\r\n\r\n        if (endOption !== undefined && endOption != null) {\r\n            this.endOption = endOption;\r\n        }\r\n        this.type = new ContestType(typeId);\r\n        this.teams = [new Team(null), new Team(null)];\r\n    }\r\n}\r\n\r\nexport class ContestTimeData {\r\n    text: string;\r\n    color: string;\r\n}\r\n\r\nexport class ContestTime {\r\n    start: ContestTimeData;\r\n    end: ContestTimeData;\r\n}\r\n\r\nexport class ContestName {\r\n    short: string;\r\n    long: string;\r\n}\r\n\r\nexport class Team {\r\n    name: string;\r\n    score: number;\r\n    chartValue: number;\r\n    chartPercent: number;\r\n    adminScoreAddition: number;\r\n\r\n    constructor(name: string) {\r\n        this.name = name;\r\n    }\r\n}\r\n\r\nexport class ContestType {\r\n    id: string;\r\n    randomOrder: boolean;\r\n    questions: Questions;\r\n    userQuestions: Array<string>;\r\n\r\n    constructor(typeId: string) {\r\n        this.id = typeId;\r\n        this.randomOrder = false;\r\n    }\r\n}\r\n\r\nexport class ContestTypeImage {\r\n    url: string;\r\n    width: number;\r\n    height: number;\r\n}\r\n\r\nexport class ContestTypeText {\r\n    title: string;\r\n    description: string;\r\n    name: string;\r\n    titleColor: string;\r\n}\r\n\r\nexport class QuizResults {\r\n    data: QuizResultsData;\r\n    contest: Contest;\r\n    facebookPost: FacebookPostData;\r\n}\r\n\r\nexport class QuizResultsData {\r\n    score: number;\r\n    sound: string;\r\n    clientKey: string;\r\n    clientValues: Object;\r\n    animation: string;\r\n    facebookPost: FacebookPostData;\r\n}\r\n\r\nexport class FacebookPostData {\r\n    action: string;\r\n    object: string;\r\n    dialogImage: FacebookPostDialogImage;\r\n}\r\n\r\nexport class FacebookPostDialogImage {\r\n    url: string;\r\n    width: number;\r\n    height: number;\r\n}\r\n\r\nexport class QuizData {\r\n    currentQuestion: QuizQuestion;\r\n    reviewMode: QuizReviewMode;\r\n    currentQuestionIndex: number;\r\n    totalQuestions: number;\r\n    results: QuizResults;\r\n    xpProgress: XpProgress;\r\n    finished: boolean;\r\n}\r\n\r\nexport class QuizQuestion {\r\n    _id: string;\r\n    text: string;\r\n    answered: boolean;\r\n    currentQuestionIndex: number;\r\n    hintUsed: boolean;\r\n    answerUsed: boolean;\r\n    score: number;\r\n    answers: Array<QuizAnswer>;\r\n    doAnimation: boolean;\r\n    correctRatio: number;\r\n    wikipediaHint: string;\r\n    wikipediaAnswer: string;\r\n    hintCost: number;\r\n    answerCost: number;\r\n\r\n    constructor(score: number) {\r\n        this.score = score;\r\n    }\r\n}\r\n\r\nexport class QuizAnswer {\r\n    answeredCorrectly: boolean;\r\n    text: string;\r\n    originalIndex: number;\r\n    correct: boolean;\r\n}\r\n\r\nexport class QuizReviewMode {\r\n    reason: string;\r\n}\r\n\r\nexport class XpProgress {\r\n    current: number;\r\n    max: number;\r\n    addition: number;\r\n    rankChanged: number;\r\n    rank: number;\r\n}\r\n\r\nexport class ServerPopup {\r\n    title: string;\r\n    message: string;\r\n    preventBack: boolean;\r\n    image: string;\r\n    buttons: Array<ServerPopupButton>;\r\n}\r\n\r\nexport class ServerPopupButton {\r\n    action: string;\r\n    link: string;\r\n    text: string;\r\n}\r\n\r\nexport class ShareVariables {\r\n    shareUrl: string;\r\n    shareSubject: string;\r\n    shareBody: string;\r\n    shareBodyEmail: string;\r\n    shareBodyNoUrl: string;\r\n    shareImage: string;\r\n}\r\n\r\nexport class AppPage {\r\n    page: string;\r\n    params: any;\r\n\r\n    constructor(page: string, params: any) {\r\n        this.page = page;\r\n        this.params = params;\r\n    }\r\n}\r\n\r\nexport class FacebookInfo {\r\n    accessToken: string;\r\n    userId: string;\r\n\r\n    constructor(accessToken: string, userId: string) {\r\n        this.accessToken = accessToken;\r\n        this.userId = userId;\r\n    }\r\n}\r\n\r\nexport class GuestInfo {\r\n    uuid: string;\r\n\r\n    constructor(uuid: string) {\r\n        this.uuid = uuid;\r\n    }\r\n}\r\n\r\nexport class ConnectInfo {\r\n    type: string;\r\n    facebookInfo: FacebookInfo;\r\n    guestInfo: GuestInfo;\r\n\r\n    constructor(type: string) {\r\n        this.type = type;\r\n    }\r\n}\r\n\r\nexport class Avatar {\r\n    type: number;\r\n    id: string;\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/objects/objects.ts","import {Client} from './client';\r\nimport {Contest, Team, ContestName} from '../objects/objects';\r\n\r\n//------------------------------------------------------\r\n//-- Private Functions\r\n//------------------------------------------------------\r\n\r\n//------------------------------------------------------\r\n//-- list\r\n//------------------------------------------------------\r\nexport let list = (tab:String) => {\r\n  var postData = {'tab': tab};\r\n  return new Promise((resolve, reject) => {\r\n    var client = Client.getInstance();\r\n    client.serverPost('contests/list', postData).then((contests: Array<Contest>) => {\r\n      contests.forEach((contest:Contest) => {\r\n        setContestClientData(contest);\r\n      });\r\n      resolve(contests);\r\n    }, (err) => {\r\n      reject(err);\r\n    });\r\n  });\r\n}\r\n\r\n//------------------------------------------------------\r\n//-- join\r\n//------------------------------------------------------\r\nexport let join = (contestId:string, teamId:number) => {\r\n  var postData = {'contestId': contestId, 'teamId': teamId};\r\n  var client = Client.getInstance();\r\n  return new Promise((resolve, reject) => {\r\n    client.serverPost('contests/join', postData).then((data : any) => {\r\n      setContestClientData(data.contest);\r\n      resolve(data);\r\n    }, (err) => {\r\n      reject(err);\r\n    })\r\n  });\r\n\r\n}\r\n\r\n//------------------------------------------------------\r\n//-- getContest\r\n//------------------------------------------------------\r\nexport let getContest = (contestId:string) => {\r\n\r\n  var postData = {'contestId': contestId};\r\n  var client = Client.getInstance();\r\n  return new Promise((resolve, reject) => {\r\n    client.serverPost('contests/get', postData).then((contest: Contest) => {\r\n      setContestClientData(contest);\r\n      resolve(contest);\r\n    }, (err) => {\r\n      reject(err)\r\n    });\r\n  });\r\n}\r\n\r\n//------------------------------------------------------\r\n//-- openContest\r\n//------------------------------------------------------\r\nexport let removeContest = (contestId:string) => {\r\n  var postData = {'contestId': contestId};\r\n  var client = Client.getInstance();\r\n  return client.serverPost('contests/remove', postData);\r\n}\r\n\r\n//------------------------------------------------------\r\n//-- openContest\r\n//------------------------------------------------------\r\nexport let setContest = (contest:Object, mode:string) => {\r\n  var postData = {'contest': contest, 'mode': mode};\r\n\r\n  var client = Client.getInstance();\r\n  return new Promise((resolve, reject) => {\r\n    client.serverPost('contests/set', postData).then((contest : Contest) => {\r\n      setContestClientData(contest);\r\n      resolve(contest);\r\n    }, (err) => {\r\n      reject(err);\r\n    })\r\n  });\r\n}\r\n\r\n//------------------------------------------------------\r\n//-- searchMyQuestions\r\n//------------------------------------------------------\r\nexport let searchMyQuestions = (text:String, existingQuestionIds:Array<String>) => {\r\n  var postData = {'text': text, 'existingQuestionIds': existingQuestionIds};\r\n  var client = Client.getInstance();\r\n  return client.serverPost('contests/searchMyQuestions', postData);\r\n};\r\n\r\n//------------------------------------------------------\r\n//-- getQuestions\r\n//------------------------------------------------------\r\nexport let getQuestions = (userQuestions) => {\r\n  var postData = {'userQuestions': userQuestions};\r\n  var client = Client.getInstance();\r\n  return client.serverPost('contests/getQuestions', postData);\r\n};\r\n\r\n//------------------------------------------------------\r\n//-- setContestClientData\r\n//-- Sets the contest.time object, state, status\r\n//------------------------------------------------------\r\nexport let setContestClientData = (contest:Contest) => {\r\n\r\n  var client = Client.getInstance();\r\n  var now = (new Date()).getTime();\r\n\r\n  //-----------------------------------------------------------------------------------------------\r\n  // lastUpdated - a mechanism to avoid retrieving the contest object again\r\n  // in the client based on its id - to force refresh from the server\r\n  // There will be a client settings threshold that will control if refreshing from the\r\n  // server is neccessary (e.g. - X milliseconds from last refresh)\r\n  //-----------------------------------------------------------------------------------------------\r\n  contest.lastUpdated = now;\r\n\r\n  //-------------------\r\n  // status, state\r\n  //-------------------\r\n  contest.status = getContestStatus(contest, now);\r\n  if (contest.status === 'finished') {\r\n    contest.state = 'finished';\r\n    contest.buttonText = client.translate('VIEW');\r\n  }\r\n  else {\r\n    if (contest.myTeam === 0 || contest.myTeam === 1) {\r\n      contest.state = 'play';\r\n      contest.buttonText = client.translate('PLAY_FOR_TEAM', {'team': contest.teams[contest.myTeam].name});\r\n    }\r\n    else {\r\n      contest.state = 'join';\r\n      contest.buttonText = client.translate('PLAY_CONTEST');\r\n    }\r\n  }\r\n\r\n  var term;\r\n  var number;\r\n  var units;\r\n  var color;\r\n  var minutes;\r\n\r\n  contest.time = {\r\n    'start': {\r\n      'text': null,\r\n      'color': null\r\n    },\r\n    'end': {\r\n      'text': null,\r\n      'color': null\r\n    }\r\n  };\r\n\r\n  //-------------------\r\n  // time.start\r\n  //-------------------\r\n  minutes = Math.abs(now - contest.startDate) / 1000 / 60;\r\n  if (minutes >= 60 * 24) {\r\n    number = Math.ceil(minutes / 24 / 60);\r\n    units = 'DAYS';\r\n  }\r\n  else if (minutes >= 60) {\r\n    number = Math.ceil(minutes / 60);\r\n    units = 'HOURS';\r\n  }\r\n  else {\r\n    number = Math.ceil(minutes);\r\n    units = 'MINUTES';\r\n  }\r\n  if (now > contest.startDate) {\r\n    term = 'CONTEST_STARTED';\r\n    color = client.settings.charts.contest.time.running.color;\r\n  }\r\n  else {\r\n    term = 'CONTEST_STARTING';\r\n    color = client.settings.charts.contest.time.starting.color;\r\n  }\r\n  contest.time.start.text = client.translate(term, {\r\n    number: number,\r\n    units: client.translate(units)\r\n  });\r\n  contest.time.start.color = color;\r\n\r\n  //-------------------\r\n  // time.end\r\n  //-------------------\r\n  minutes = Math.abs(contest.endDate - now) / 1000 / 60;\r\n  if (minutes >= 60 * 24) {\r\n    number = Math.ceil(minutes / 24 / 60);\r\n    units = 'DAYS';\r\n  }\r\n  else if (minutes >= 60) {\r\n    number = Math.ceil(minutes / 60);\r\n    units = 'HOURS';\r\n  }\r\n  else {\r\n    number = Math.ceil(minutes);\r\n    units = 'MINUTES';\r\n  }\r\n  if (now < contest.endDate) {\r\n    term = 'CONTEST_ENDS_IN';\r\n    color = client.settings.charts.contest.time.running.color;\r\n  }\r\n  else {\r\n    term = 'CONTEST_ENDED';\r\n    color = client.settings.charts.contest.time.finished.color;\r\n  }\r\n  contest.time.end.text = client.translate(term, {\r\n    number: number,\r\n    units: client.translate(units)\r\n  });\r\n  contest.time.end.color = color;\r\n\r\n  //Chart values\r\n  if (contest.teams[0].score === 0 && contest.teams[1].score === 0) {\r\n    contest.teams[0].chartValue = 0.5;\r\n    contest.teams[1].chartValue = 0.5;\r\n    contest.leadingTeam = -1;\r\n  }\r\n  else {\r\n    //Do relational compute\r\n    var sum = contest.teams[0].score + contest.teams[1].score;\r\n    contest.teams[0].chartValue = Math.round(contest.teams[0].score * 100 / sum) / 100;\r\n    contest.teams[1].chartValue = 1-contest.teams[0].chartValue;\r\n\r\n    if (contest.teams[0].score > contest.teams[1].score) {\r\n      contest.leadingTeam = 0;\r\n    }\r\n    else {\r\n      contest.leadingTeam = 1;\r\n    }\r\n  }\r\n\r\n  contest.teams[0].chartPercent = Math.round(contest.teams[0].chartValue * 100);\r\n  contest.teams[1].chartPercent = Math.round(contest.teams[1].chartValue * 100);\r\n\r\n  //-------------------\r\n  // Contest name\r\n  //-------------------\r\n  contest.name = new ContestName();\r\n  contest.name.long = client.translate('CONTEST_NAME_LONG', {\r\n    'team0': contest.teams[0].name,\r\n    'team1': contest.teams[1].name,\r\n    'subject': contest.subject\r\n  });\r\n  contest.name.short = client.translate('CONTEST_NAME_SHORT', {\r\n    'team0': contest.teams[0].name,\r\n    'team1': contest.teams[1].name\r\n  });\r\n\r\n}\r\n\r\nexport let cloneForEdit = (contest: Contest) => {\r\n  let newContest = new Contest(contest.type.id, contest.startDate, contest.endDate);\r\n  newContest._id = contest._id;\r\n  newContest.teams = [new Team(contest.teams[0].name), new Team(contest.teams[1].name)];\r\n\r\n  if (this.questions) {\r\n    newContest.questions = JSON.parse(JSON.stringify(contest.questions));\r\n  }\r\n\r\n  newContest.subject = contest.subject;\r\n\r\n  if (contest.systemParticipants) {\r\n    newContest.systemParticipants = contest.systemParticipants;\r\n  }\r\n\r\n  if (contest.rating) {\r\n    newContest.rating = contest.rating;\r\n  }\r\n\r\n  if (contest.type.id === 'userTrivia') {\r\n    newContest.type = JSON.parse(JSON.stringify(contest.type));\r\n  }\r\n\r\n  return newContest;\r\n}\r\n\r\n//-------------------\r\n// status\r\n//-------------------\r\nexport let getContestStatus = (contest: Contest, now?: number) => {\r\n\r\n  if (now === undefined) {\r\n    now = (new Date()).getTime();\r\n  }\r\n\r\n  if (contest.endDate < now) {\r\n    return 'finished';\r\n  }\r\n  else {\r\n    if (contest.startDate > now) {\r\n      return 'starting';\r\n    }\r\n    else {\r\n      return 'running';\r\n    }\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/contests.ts","import {Component,ViewChild} from '@angular/core';\r\nimport {NavParams,Modal} from 'ionic-angular';\r\nimport {ContestChartComponent} from '../../components/contest-chart/contest-chart';\r\nimport {Client} from '../../providers/client';\r\nimport * as contestsService from '../../providers/contests';\r\nimport * as analyticsService from '../../providers/analytics';\r\nimport * as connectService from '../../providers/connect';\r\nimport * as soundService from '../../providers/sound';\r\nimport {Contest,QuizResults} from '../../objects/objects';\r\n\r\n@Component({\r\n    templateUrl: 'contest.html'\r\n})\r\n\r\nexport class ContestPage {\r\n\r\n  client:Client;\r\n  contest:Contest;\r\n  lastQuizResults:QuizResults = null;\r\n  animateLastResults:number = 0; //0=no animation, 1=enter animation, 2=exit animation\r\n  private quizFinishedHandler : (eventData:any) => void;\r\n  private contestUpdatedHandler: (eventData:any) => void;\r\n\r\n  @ViewChild(ContestChartComponent) contestChartComponent:ContestChartComponent;\r\n\r\n  constructor(params:NavParams) {\r\n    this.client = Client.getInstance();\r\n    this.contest = params.data.contest;\r\n  }\r\n\r\n  ionViewDidLoad() {\r\n    this.quizFinishedHandler = (eventData:any) => {\r\n      //Prepare some client calculated fields on the contest\r\n      contestsService.setContestClientData(eventData[0].contest);\r\n\r\n      //Refresh the contest chart and the contest details\r\n      //This is the only case where we want to animate the chart\r\n      //right after a quiz so the user will notice the socre changes\r\n      this.refreshContestChart(eventData[0].contest, eventData[0].data.animation);\r\n\r\n      //Event data comes as an array of data objects - we expect only one (last quiz results)\r\n      this.lastQuizResults = eventData[0];\r\n\r\n      if (this.lastQuizResults.data.facebookPost) {\r\n        let shareSuccessModal:Modal = this.client.createModalPage('ShareSuccessPage', {quizResults: this.lastQuizResults})\r\n        shareSuccessModal.onDidDismiss((action:string)=> {\r\n          switch (action) {\r\n            case 'post':\r\n              connectService.post(this.lastQuizResults.data.facebookPost).then(()=> {\r\n              }, ()=> {\r\n              });\r\n              break;\r\n            case 'share':\r\n              this.client.share(this.contest, 'shareSuccess');\r\n              break;\r\n          }\r\n        });\r\n        shareSuccessModal.present();\r\n      }\r\n      else {\r\n        this.animateLastResults = 1; //Enter animation\r\n        setTimeout(() => {\r\n          this.animateLastResults = 2; //Exit animation\r\n          setTimeout(() => {\r\n            this.animateLastResults = 0; //No animation\r\n          }, this.client.settings.quiz.finish.animateResultsExitTimeout)\r\n        }, this.client.settings.quiz.finish.animateResultsTimeout);\r\n      }\r\n\r\n      var soundFile = this.lastQuizResults.data.sound;\r\n      setTimeout(() => {\r\n        soundService.play(soundFile);\r\n      }, 500);\r\n    }\r\n    this.contestUpdatedHandler = (eventData:any) => {\r\n      this.refreshContestChart(eventData[0]);\r\n    }\r\n    this.client.events.subscribe('app:quizFinished', this.quizFinishedHandler);\r\n    this.client.events.subscribe('app:contestUpdated', this.contestUpdatedHandler);\r\n  }\r\n\r\n  ionViewWillUnload() {\r\n    this.client.events.unsubscribe('app:quizFinished', this.quizFinishedHandler);\r\n    this.client.events.unsubscribe('app:contestUpdated', this.contestUpdatedHandler);\r\n  }\r\n\r\n  ionViewWillEnter() {\r\n    analyticsService.track('page/contest', {contestId: this.contest._id});\r\n  }\r\n\r\n  showParticipants(source) {\r\n    this.client.openPage('ContestParticipantsPage', {'contest': this.contest, 'source': source});\r\n  }\r\n\r\n  refreshContestChart(contest:Contest, animation?:string) {\r\n    this.contest = contest;\r\n    this.contestChartComponent.refresh(contest, animation);\r\n  }\r\n\r\n  share(source) {\r\n    this.client.share(this.contest.status !== 'finished' ? this.contest : null, source);\r\n  }\r\n\r\n  onContestSelected() {\r\n    this.playOrLeaderboard('contest/chart');\r\n  }\r\n\r\n  onMyTeamSelected() {\r\n    this.playContest('contest/myTeam');\r\n  }\r\n\r\n  onContestButtonClick(data) {\r\n    this.playOrLeaderboard('contest/button');\r\n  }\r\n\r\n  playOrLeaderboard(source:string) {\r\n    if (this.contest.state === 'play') {\r\n      this.playContest(source);\r\n    }\r\n    else if (this.contest.state === 'finished') {\r\n      this.showParticipants(source);\r\n    }\r\n  }\r\n\r\n  playContest(source) {\r\n\r\n    analyticsService.track('contest/play', {\r\n      contestId: this.contest._id,\r\n      team: '' + this.contest.myTeam,\r\n      sourceClick: source\r\n    });\r\n\r\n    this.client.openPage('QuizPage', {contest: this.contest, source: source});\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/contest/contest.ts","import {Component, Input, EventEmitter, Output} from '@angular/core';\r\nimport {Modal} from 'ionic-angular';\r\nimport {Client} from '../../providers/client';\r\nimport * as analyticsService from '../../providers/analytics';\r\nimport * as alertService from '../../providers/alert';\r\nimport * as contestsService from '../../providers/contests';\r\nimport {Contest} from '../../objects/objects';\r\n\r\n@Component({\r\n  selector: 'contest-chart',\r\n  templateUrl: 'contest-chart.html'\r\n})\r\n\r\nexport class ContestChartComponent {\r\n\r\n  @Input() contest:Contest;\r\n  @Input() alternateButtonText:string;\r\n\r\n  client:Client;\r\n\r\n  @Output() contestSelected = new EventEmitter();\r\n  @Output() myTeamSelected = new EventEmitter();\r\n  @Output() contestButtonClick = new EventEmitter();\r\n\r\n  animation:string;\r\n  lastEventTimeStamp:number;\r\n\r\n  constructor() {\r\n    this.client = Client.getInstance();\r\n    this.animation = null;\r\n    this.lastEventTimeStamp = 0;\r\n  }\r\n\r\n  onContestSelected(event:Event, source:string) {\r\n    if (event.timeStamp === this.lastEventTimeStamp) {\r\n      return;\r\n    }\r\n    this.lastEventTimeStamp = event.timeStamp;\r\n    this.contestSelected.emit({'contest': this.contest, 'source': source});\r\n  }\r\n\r\n  teamSelected(event:Event, teamId:number, source:string) {\r\n    this.lastEventTimeStamp = event.timeStamp;\r\n    if (this.contest.state === 'play') {\r\n      if (teamId !== this.contest.myTeam) {\r\n        this.switchTeams(source);\r\n      }\r\n      else {\r\n        //My team - start the game\r\n        analyticsService.track('contest/myTeam', {\r\n          'contestId': this.contest._id,\r\n          'team': '' + this.contest.myTeam,\r\n          'sourceClick': source\r\n        });\r\n        this.myTeamSelected.emit({'contest': this.contest, 'source': source});\r\n      }\r\n    }\r\n    else if (this.contest.state !== 'finished') {\r\n      this.joinContest(teamId, source, false, true, false).then(()=> {\r\n      }, ()=> {\r\n      });\r\n    }\r\n\r\n  }\r\n\r\n  refresh(contest:Contest, animation?:string) {\r\n    this.contest = contest;\r\n    this.animation = animation;\r\n  }\r\n\r\n  isOwner() {\r\n    if (\r\n      (this.contest && this.contest.owner && this.contest.status !== 'finished') ||\r\n      (this.client && this.client.session && this.client.session.isAdmin)\r\n    ) {\r\n      return true;\r\n    }\r\n    else {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  joinContest(team:number, source:string, switchTeams:boolean, showAlert:boolean, delayRankModal:boolean) {\r\n\r\n    return new Promise((resolve:any, reject:any) => {\r\n\r\n      contestsService.join(this.contest._id, team).then((data:any) => {\r\n\r\n        this.refresh(data.contest);\r\n\r\n        analyticsService.track('contest/' + (!switchTeams ? 'join' : 'switchTeams'), {\r\n          contestId: this.contest._id,\r\n          team: '' + this.contest.myTeam,\r\n          sourceClick: source\r\n        });\r\n\r\n        //Notify outside that contest changed\r\n        this.client.events.publish('app:contestUpdated', data.contest, data.contest.status, data.contest.status);\r\n\r\n        //Should get xp if fresh join\r\n        var rankModal;\r\n        if (data.xpProgress && data.xpProgress.addition > 0) {\r\n          //Adds the xp with animation\r\n          if (data.xpProgress.rankChanged) {\r\n            rankModal = this.client.createModalPage('NewRankPage', {\r\n              'xpProgress': data.xpProgress\r\n            });\r\n            if (!delayRankModal) {\r\n              rankModal.onDidDismiss(()=> {\r\n                resolve();\r\n              });\r\n            }\r\n            else {\r\n              resolve(rankModal);\r\n            }\r\n            this.client.playerInfoComponent.addXp(data.xpProgress).then(() => {\r\n            }, () => {\r\n              reject();\r\n            })\r\n          }\r\n        }\r\n\r\n        if (showAlert) {\r\n          alertService.alert({\r\n            'type': 'SELECT_TEAM_ALERT',\r\n            'additionalInfo': {'team': this.contest.teams[this.contest.myTeam].name}\r\n          }).then(() => {\r\n            if (rankModal && !delayRankModal) {\r\n              rankModal.present();\r\n            }\r\n            else {\r\n              resolve(rankModal);\r\n            }\r\n          }, ()=> {\r\n          });\r\n        }\r\n        else {\r\n          if (rankModal && !delayRankModal) {\r\n            //resolve will be called upon dismiss\r\n            rankModal.present();\r\n          }\r\n          else {\r\n            resolve(rankModal);\r\n          }\r\n        }\r\n      }, () => {\r\n        reject();\r\n      })\r\n    });\r\n  }\r\n\r\n  switchTeams(source:string) {\r\n    this.joinContest(1 - this.contest.myTeam, source, true, true, false).then(()=> {\r\n    }, ()=> {\r\n    });\r\n  }\r\n\r\n  onContestButtonClick(event:Event) {\r\n    this.lastEventTimeStamp = event.timeStamp;\r\n    if (this.contest.state === 'join') {\r\n      //Will prompt an alert with 2 buttons with the team names\r\n      //Upon selecting a team - send the user directly to play\r\n      let cssClass:string;\r\n      if (this.contest.teams[0].name.length + this.contest.teams[1].name.length > this.client.settings.contest.maxTeamsLengthForLargeFonts) {\r\n        cssClass = 'chart-popup-button-team-small';\r\n      }\r\n      else {\r\n        cssClass = 'chart-popup-button-team-normal';\r\n      }\r\n      alertService.alert({'type': 'PLAY_CONTEST_CHOOSE_TEAM'}, [\r\n        {\r\n          'text': this.contest.teams[0].name,\r\n          'cssClass': cssClass + '-0',\r\n          'handler': () => {\r\n            this.joinContest(0, 'button', false, false, true).then((rankModal:Modal) => {\r\n              this.contestButtonClick.emit({'contest': this.contest, 'source': 'button'});\r\n              if (rankModal) {\r\n                rankModal.present();\r\n              }\r\n            }, ()=> {\r\n            });\r\n          }\r\n        },\r\n        {\r\n          'text': this.contest.teams[1].name,\r\n          'cssClass': cssClass + '-1',\r\n          'handler': () => {\r\n            this.joinContest(1, 'button', false, false, true).then((rankModal:Modal) => {\r\n              this.contestButtonClick.emit({'contest': this.contest, 'source': 'button'});\r\n              if (rankModal) {\r\n                rankModal.present();\r\n              }\r\n            }, ()=> {\r\n            });\r\n          }\r\n        },\r\n      ]);\r\n    }\r\n    else {\r\n      this.contestButtonClick.emit({'contest': this.contest, 'source': 'button'});\r\n    }\r\n  }\r\n\r\n  onContestEdit(event:Event) {\r\n    analyticsService.track('contest/edit/click', {contestId: this.contest._id});\r\n    this.client.openPage('SetContestPage', {mode: 'edit', contest: this.contest});\r\n  }\r\n\r\n  onContestParticipantsClick(event:Event) {\r\n    this.lastEventTimeStamp = event.timeStamp;\r\n    //this.client.openPage('ContestParticipantsPage', { contest: this.contest, source: 'contest/participants' });\r\n    this.client.openPage('LeaderboardsPage');\r\n  }\r\n\r\n  onContestShareClick(event:Event) {\r\n    this.client.openPage('SharePage', {contest: this.contest, source: 'contest/share'});\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/contest-chart/contest-chart.ts","import {Component} from '@angular/core';\r\nimport {NavParams, Refresher} from 'ionic-angular';\r\nimport {LeadersComponent} from '../../components/leaders/leaders';\r\nimport {ViewChild} from '@angular/core';\r\nimport {Client} from '../../providers/client';\r\nimport * as analyticsService from '../../providers/analytics';\r\n\r\n@Component({\r\n  templateUrl: 'contest-participants.html'\r\n})\r\nexport class ContestParticipantsPage {\r\n\r\n  client:Client;\r\n  params:NavParams;\r\n  tabId:number; //-1=general contest, 0=team0, 1=team1\r\n  private leaderboardsUpdatedHandler:() => void;\r\n\r\n  @ViewChild(LeadersComponent) leadersComponent:LeadersComponent;\r\n\r\n  constructor(params:NavParams) {\r\n    this.client = Client.getInstance();\r\n    this.params = params;\r\n  }\r\n\r\n  ionViewDidLoad() {\r\n    this.leaderboardsUpdatedHandler = () => {\r\n      switch (this.tabId) {\r\n        case -1:\r\n          this.showContestParticipants(true).then(() => {\r\n          }, () => {\r\n          });\r\n          break;\r\n        case 0:\r\n        case 1:\r\n          this.showTeamParticipants(this.tabId, true).then(() => {\r\n          }, () => {\r\n          });\r\n          break;\r\n      }\r\n    }\r\n    this.client.events.subscribe('app:leaderboardsUpdated', this.leaderboardsUpdatedHandler);\r\n  }\r\n\r\n  ionViewWillUnload() {\r\n    this.client.events.unsubscribe('app:leaderboardsUpdated', this.leaderboardsUpdatedHandler);\r\n  }\r\n\r\n  ionViewWillEnter() {\r\n    analyticsService.track('page/contestParticipants', {contestId: this.params.data.contest._id});\r\n    if (this.leadersComponent) {\r\n      return this.tabGeneralParticipants();\r\n    }\r\n  }\r\n\r\n  tabGeneralParticipants() {\r\n    this.tabId = -1;\r\n    return this.showContestParticipants(false);\r\n  }\r\n\r\n  tabTeamParticipants(teamId:number) {\r\n    this.tabId = teamId;\r\n    return this.showTeamParticipants(teamId, false);\r\n  }\r\n\r\n  showContestParticipants(forceRefresh?:boolean) {\r\n    analyticsService.track('contest/participants/' + this.params.data.source + '/leaderboard/all');\r\n    return this.leadersComponent.showContestParticipants(this.params.data.contest._id, null, forceRefresh)\r\n  }\r\n\r\n  showTeamParticipants(teamId, forceRefresh?:boolean) {\r\n    analyticsService.track('contest/participants/' + this.params.data.source + '/leaderboard/team' + teamId);\r\n    return this.leadersComponent.showContestParticipants(this.params.data.contest._id, teamId, forceRefresh);\r\n  }\r\n\r\n  doRefresh(refresher:Refresher) {\r\n    switch (this.tabId) {\r\n      case -1:\r\n        this.showContestParticipants(true).then(() => {\r\n          refresher.complete();\r\n        }, () => {\r\n          refresher.complete();\r\n        });\r\n        break;\r\n      case 0:\r\n      case 1:\r\n        this.showTeamParticipants(this.tabId, true).then(() => {\r\n          refresher.complete();\r\n        }, () => {\r\n          refresher.complete();\r\n        });\r\n        break;\r\n    }\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/contest-participants/contest-participants.ts","import {Client} from '../../providers/client';\r\nimport {Component} from '@angular/core';\r\nimport * as leaderboardsService from '../../providers/leaderboards';\r\nimport * as connectService from '../../providers/connect';\r\n\r\n\r\n@Component({\r\n  selector: 'leaders',\r\n  templateUrl: 'leaders.html'\r\n})\r\n\r\nexport class LeadersComponent {\r\n\r\n  leaders:Array<Object>;\r\n  lastFriendsLeaders:Array<Object>;\r\n  lastWeeklyLeaders:Array<Object>;\r\n  lastGeneralContestLeaders:Array<Object>;\r\n  lastTeam0ContestLeaders:Array<Object>;\r\n  lastTeam1ContestLeaders:Array<Object>;\r\n  client:Client;\r\n  friendsLastRefreshTime;\r\n  weeklyLastRefreshTime;\r\n  generalContestLastRefreshTime;\r\n  team0ContestLastRefreshTime;\r\n  team1ContestLastRefreshTime;\r\n  mode:string;\r\n\r\n  constructor() {\r\n    this.client = Client.getInstance();\r\n    this.friendsLastRefreshTime = 0;\r\n    this.weeklyLastRefreshTime = 0;\r\n    this.generalContestLastRefreshTime = 0; //should apply only to the contest currently shown - when view closes and another contest appears - should refresh from server again\r\n    this.team0ContestLastRefreshTime = 0; //should apply only to the contest currently shown - when view closes and another contest appears - should refresh from server again\r\n    this.team1ContestLastRefreshTime = 0; //should apply only to the contest currently shown - when view closes and another contest appears - should refresh from server again\r\n  }\r\n\r\n  showFriends(forceRefresh?:boolean) {\r\n\r\n    return new Promise((resolve, reject) => {\r\n      this.innerShowFriends(resolve, reject, forceRefresh);\r\n    })\r\n  }\r\n\r\n  innerShowFriends(resolve:any, reject:any, forceRefresh?:boolean) {\r\n    var now = (new Date()).getTime();\r\n\r\n    //Check if refresh frequency reached\r\n    if (now - this.friendsLastRefreshTime < this.client.settings.lists.leaderboards.friends.refreshFrequencyInMilliseconds && !forceRefresh) {\r\n      this.leaders = this.lastFriendsLeaders;\r\n      this.mode = 'friends';\r\n      resolve();\r\n      return;\r\n    }\r\n    leaderboardsService.friends().then((leaders) => {\r\n      this.friendsLastRefreshTime = now;\r\n      this.leaders = leaders;\r\n      this.mode = 'friends';\r\n      this.lastFriendsLeaders = leaders;\r\n      resolve();\r\n    }, (err) => {\r\n      if (err.type === 'SERVER_ERROR_MISSING_FRIENDS_PERMISSION' && err.additionalInfo && err.additionalInfo.confirmed) {\r\n        connectService.login(this.client.settings.facebook.friendsPermissions, true).then(() => {\r\n          this.innerShowFriends(resolve, reject, forceRefresh);\r\n        }, () => {\r\n          reject();\r\n        })\r\n      }\r\n      else {\r\n        reject();\r\n      }\r\n    });\r\n  }\r\n\r\n  showWeekly(forceRefresh?:boolean) {\r\n\r\n    return new Promise((resolve, reject) => {\r\n\r\n      var now = (new Date()).getTime();\r\n\r\n      //Check if refresh frequency reached\r\n      if (now - this.weeklyLastRefreshTime < this.client.settings.lists.leaderboards.weekly.refreshFrequencyInMilliseconds && !forceRefresh) {\r\n        this.leaders = this.lastWeeklyLeaders;\r\n        this.mode = 'weekly';\r\n        resolve();\r\n        return;\r\n      }\r\n      leaderboardsService.weekly().then((leaders) => {\r\n        this.weeklyLastRefreshTime = now;\r\n        this.leaders = leaders;\r\n        this.mode = 'weekly';\r\n        this.lastWeeklyLeaders = leaders;\r\n        resolve();\r\n      }, () => {\r\n        reject();\r\n      });\r\n    });\r\n  }\r\n\r\n  //If teamId is not passed - general contest leaderboard is shown\r\n  showContestParticipants(contestId:string, teamId?:number, forceRefresh?:boolean) {\r\n\r\n    return new Promise((resolve, reject) => {\r\n\r\n      var now = (new Date()).getTime();\r\n\r\n      var lastRefreshTime;\r\n      var lastLeaders;\r\n      switch (teamId) {\r\n        case 0:\r\n          lastRefreshTime = this.team0ContestLastRefreshTime;\r\n          lastLeaders = this.lastTeam0ContestLeaders;\r\n          break;\r\n        case 1:\r\n          lastRefreshTime = this.team1ContestLastRefreshTime;\r\n          lastLeaders = this.lastTeam1ContestLeaders;\r\n          break;\r\n\r\n        default:\r\n          lastRefreshTime = this.generalContestLastRefreshTime;\r\n          lastLeaders = this.lastGeneralContestLeaders;\r\n          break;\r\n      }\r\n\r\n      //Check if refresh frequency reached\r\n      if (now - lastRefreshTime < this.client.settings.lists.leaderboards.contest.refreshFrequencyInMilliseconds && !forceRefresh) {\r\n        this.leaders = lastLeaders;\r\n        this.mode = 'contest';\r\n        resolve();\r\n        return;\r\n      }\r\n      leaderboardsService.contest(contestId, teamId).then((leaders) => {\r\n        this.leaders = leaders;\r\n        this.mode = 'contest';\r\n        switch (teamId) {\r\n          case 0:\r\n            this.lastTeam0ContestLeaders = leaders;\r\n            this.team0ContestLastRefreshTime = now;\r\n            break;\r\n          case 1:\r\n            this.lastTeam1ContestLeaders = leaders;\r\n            this.team1ContestLastRefreshTime = now;\r\n            break;\r\n\r\n          default:\r\n            this.lastGeneralContestLeaders = leaders;\r\n            this.generalContestLastRefreshTime = now;\r\n            break;\r\n        }\r\n        resolve();\r\n      }, () => {\r\n        reject();\r\n      });\r\n    });\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/leaders/leaders.ts","import {Component} from '@angular/core';\r\nimport {ViewController} from 'ionic-angular';\r\nimport {Client} from '../../providers/client';\r\nimport * as analyticsService from '../../providers/analytics';\r\n\r\n@Component({\r\n  templateUrl: 'contest-type.html'\r\n})\r\nexport class ContestTypePage {\r\n\r\n  client:Client;\r\n  viewController: ViewController;\r\n\r\n  constructor(viewController: ViewController) {\r\n    this.client = Client.getInstance();\r\n    this.viewController = viewController;\r\n  }\r\n\r\n  //The only life cycle event currently called in modals\r\n  ngAfterViewInit() {\r\n    analyticsService.track('page/contestType');\r\n  }\r\n\r\n  selectContestContent(contestTypeId) {\r\n    if (contestTypeId && this.client.settings.newContest.contestTypes[contestTypeId].disabled) {\r\n      return;\r\n    }\r\n    analyticsService.track('newContest/type/' + (contestTypeId ? contestTypeId : 'cancel'));\r\n    this.viewController.dismiss(contestTypeId);\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/contest-type/contest-type.ts","import {Component} from '@angular/core';\r\nimport {NavParams,ViewController} from 'ionic-angular';\r\nimport {Client} from '../../providers/client';\r\nimport * as analyticsService from '../../providers/analytics';\r\nimport {QuizResults} from '../../objects/objects';\r\n\r\n@Component({\r\n  templateUrl: 'share-success.html'\r\n})\r\nexport class ShareSuccessPage {\r\n\r\n  client:Client;\r\n  quizResults:QuizResults;\r\n  viewController:ViewController;\r\n\r\n  constructor(params:NavParams, viewController:ViewController) {\r\n    this.client = Client.getInstance();\r\n    this.quizResults = params.data.quizResults;\r\n    this.viewController = viewController;\r\n  }\r\n\r\n  ionViewWillEnter() {\r\n    analyticsService.track('page/shareSuccess', {'contestId': this.quizResults.contest._id, 'story': this.quizResults.data.clientKey});\r\n  }\r\n\r\n  share() {\r\n    if (this.client.user.credentials.type === 'facebook') {\r\n      analyticsService.track('contest/shareSuccess/facebookPost/click');\r\n      this.close('post');\r\n    }\r\n    else {\r\n      analyticsService.track('contest/shareSuccess/share/click');\r\n      this.close('share');\r\n    }\r\n  }\r\n\r\n  close(action:string) {\r\n    if (action === 'cancel') {\r\n      analyticsService.track('contest/shareSuccess/cancel/click');\r\n    }\r\n    this.viewController.dismiss(action).then(()=>{\r\n    },()=>{\r\n    });\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/share-success/share-success.ts","import {Component} from '@angular/core';\r\nimport {Client} from '../../providers/client';\r\n\r\n@Component({\r\n    templateUrl: 'leaderboards.html'\r\n})\r\n\r\nexport class LeaderboardsPage {\r\n\r\n    client: Client;\r\n    mode: string;\r\n\r\n    constructor() {\r\n        this.client = Client.getInstance();\n        this.mode = 'contests';\r\n    }\r\n\r\n    tabSelected(mode: string) {\r\n        this.mode = mode;\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/leaderboards/leaderboards.ts","import {Component} from '@angular/core';\r\nimport {Client} from '../../providers/client';\r\nimport * as connectService from '../../providers/connect';\r\nimport * as analyticsService from '../../providers/analytics';\r\nimport {ConnectInfo} from '../../objects/objects';\r\n\r\n@Component({\r\n  templateUrl: 'login.html'\r\n})\r\nexport class LoginPage {\r\n\r\n  client:Client;\r\n  private serverPopupHandler:(eventData:any) => Promise<any>;\r\n\r\n  constructor() {\r\n    this.client = Client.getInstance();\r\n  }\r\n\r\n  ionViewDidLoad() {\r\n    this.client.setPageTitle('GAME_NAME');\r\n    this.serverPopupHandler = (eventData:any) => {\r\n      return this.client.showModalPage('ServerPopupPage', {serverPopup: eventData[0]});\r\n    }\r\n    this.client.events.subscribe('app:serverPopup', this.serverPopupHandler);\r\n  }\r\n\r\n  ionViewWillUnload() {\r\n    this.client.events.unsubscribe('app:serverPopup', this.serverPopupHandler);\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.client.hidePreloader();\r\n  }\r\n\r\n  ionViewWillEnter() {\r\n    analyticsService.track('page/login');\r\n  }\r\n\r\n  ionViewDidEnter() {\r\n    //Events here could be serverPopup just as the app loads - the page should be fully visible\r\n    this.client.processInternalEvents();\r\n  }\r\n\r\n  loginToServer(connectInfo:ConnectInfo) {\r\n    return new Promise((resolve,reject)=> {\r\n      this.client.serverConnect(connectInfo).then(() => {\r\n        this.client.playerInfoComponent.init(this.client);\r\n        this.client.setRootPage('MainTabsPage');\r\n        resolve();\r\n      }, () => {\r\n        reject();\r\n      })\r\n    });\r\n  }\r\n\r\n  facebookLogin() {\r\n    analyticsService.track('login/facebookLogin');\r\n    connectService.facebookLogin().then((connectInfo:ConnectInfo) => {\r\n      this.loginToServer(connectInfo).then(()=>{\r\n        connectService.storeCredentials(connectInfo);\r\n      });\r\n    }, ()=> {\r\n    });\r\n  };\r\n\r\n  registerGuest() {\r\n    analyticsService.track('login/guest');\r\n    connectService.guestLogin().then((connectInfo:ConnectInfo)=> {\r\n      this.loginToServer(connectInfo).then(()=> {\r\n      },()=>{\r\n      });\r\n    }, ()=> {\r\n    });\r\n  }\r\n\r\n  changeLanguage(language) {\r\n    this.client.user.settings.language = language;\r\n    localStorage.setItem('language', language);\r\n    analyticsService.track('login/changeLanguage', {language: language});\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/login/login.ts","import {Component,ViewChild} from '@angular/core';\r\nimport {Tabs} from 'ionic-angular';\r\nimport {Client} from '../../providers/client';\r\nimport {Contest} from '../../objects/objects';\r\n\nconst ACTION_UPDATE_CONTEST: string = 'contestUpdated';\r\nconst ACTION_REMOVE_CONTEST:string = 'contestRemoved';\r\nconst ACTION_FORCE_REFRESH:string = 'forceRefresh';\r\n\r\n@Component({\r\n  templateUrl: 'main-tabs.html'\r\n})\r\nexport class MainTabsPage {\r\n\r\n  client:Client;\r\n  @ViewChild(Tabs) mainTabs:Tabs;\r\n\r\n  private rootMyContestsPage;\r\n  private rootRunningContestsPage;\r\n  private rootLeaderboardsPage;\r\n\r\n  private contestCreatedHandler : () => void;\r\n  private contestUpdatedHandler : (eventData:any) => void;\r\n  private contestRemovedHandler : (eventData:any) => void;\r\n  private languageChangedHandler : (eventData:any) => void;\r\n  private switchedToFacebookHandler : () => void;\r\n  private serverPopupHandler : (eventData:any) => Promise<any>;\r\n  private noPersonalContestsHandler : () => void;\r\n  private showLeaderContestsHandler : () => void;\r\n\r\n  constructor() {\r\n\r\n    this.client = Client.getInstance();\r\n\r\n    // set the root pages for each tab\r\n    this.rootMyContestsPage = this.client.getPage('MyContestsPage');\r\n    this.rootRunningContestsPage = this.client.getPage('RunningContestsPage');\r\n    this.rootLeaderboardsPage = this.client.getPage('LeaderboardsPage');\r\n  }\r\n\r\n  ionViewDidLoad() {\r\n    this.contestCreatedHandler = () => {\r\n      //Force refresh my contests only - leading contests will hardly be influenced by a new\r\n      //contest just created\r\n      this.publishActionToTab(0,ACTION_FORCE_REFRESH);\r\n    }\r\n    this.contestUpdatedHandler = (eventData:any) => {\r\n\r\n      let contest:Contest = eventData[0];\r\n      let previousStatus:string = eventData[1];\r\n      let currentStatus:string = eventData[2];\r\n\r\n      if (previousStatus === currentStatus) {\r\n        //Was finished and remained finished, or was running and still running...\r\n        switch (currentStatus) {\r\n          case 'starting':\r\n            //For admins - future contests - appear only in \"my Contests\"\r\n            this.publishActionToTab(0,ACTION_UPDATE_CONTEST,contest);\r\n            break;\r\n          case 'running':\r\n            //Appears in my contests / running contests\r\n            this.publishActionToTab(0,ACTION_UPDATE_CONTEST,contest);\r\n            this.publishActionToTab(1,ACTION_UPDATE_CONTEST,contest);\r\n            break;\r\n          case 'finished':\r\n            //Appears in recently finished contests\r\n            this.publishActionToTab(2,ACTION_UPDATE_CONTEST,contest);\r\n            break;\r\n        }\r\n      }\r\n      else {\r\n        switch (previousStatus) {\r\n          case 'starting':\r\n            if (currentStatus === 'running') {\r\n\r\n              //Update my contests\r\n              this.publishActionToTab(0,ACTION_UPDATE_CONTEST,contest);\r\n\r\n              //Refresh running contests - might appear there\r\n              this.publishActionToTab(1,ACTION_FORCE_REFRESH);\r\n            }\r\n            else {\r\n              //finished\r\n\r\n              //Remove from my contests\r\n              this.publishActionToTab(0,ACTION_REMOVE_CONTEST,contest._id);\r\n\r\n              //Refresh recently finished contests\r\n              this.publishActionToTab(2,ACTION_FORCE_REFRESH);\r\n            }\r\n            break;\r\n          case 'running':\r\n            if (currentStatus === 'starting') {\r\n\r\n              //Update my contests\r\n              this.publishActionToTab(0,ACTION_UPDATE_CONTEST,contest);\r\n\r\n              //Remove from running contests\r\n              this.publishActionToTab(1,ACTION_REMOVE_CONTEST,contest._id);\r\n            }\r\n            else {\r\n              //finished\r\n\r\n              //Remove from my contests and from running contests\r\n              this.publishActionToTab(0,ACTION_REMOVE_CONTEST,contest._id);\r\n              this.publishActionToTab(1,ACTION_REMOVE_CONTEST,contest._id);\r\n\r\n              //Refresh recently finished contests\r\n              this.publishActionToTab(2,ACTION_FORCE_REFRESH);\r\n            }\r\n            break;\r\n          case 'finished':\r\n            //Remove from finished contests\r\n            this.publishActionToTab(2,ACTION_REMOVE_CONTEST,contest._id);\r\n\r\n            if (currentStatus === 'starting') {\r\n\r\n              //Refresh my contests\r\n              this.publishActionToTab(0,ACTION_FORCE_REFRESH);\r\n            }\r\n            else {\r\n              //running\r\n\r\n              //Refresh my contests\r\n              this.publishActionToTab(0,ACTION_FORCE_REFRESH);\r\n\r\n              //Refresh running contests\r\n              this.publishActionToTab(1,ACTION_FORCE_REFRESH);\r\n\r\n            }\r\n            break;\r\n        }\r\n      }\r\n    }\r\n    this.contestRemovedHandler = (eventData:any) => {\r\n\r\n      let contestId:string = eventData[0];\r\n      let finishedContest:boolean = eventData[1];\r\n\r\n      if (!finishedContest) {\r\n        //Try to remove it from 'my contests' and 'running contests' tabs\r\n        this.publishActionToTab(0,ACTION_REMOVE_CONTEST, contestId);\r\n        this.publishActionToTab(1,ACTION_REMOVE_CONTEST, contestId);\r\n      }\r\n      else {\r\n        //Try to remove it from the recently finished tab\r\n        this.publishActionToTab(2,ACTION_REMOVE_CONTEST, contestId);\r\n      }\r\n\r\n    }\r\n    this.languageChangedHandler = (eventData:any) => {\r\n      if (eventData[0]) {\r\n        window.location.reload();\r\n      }\r\n      else {\r\n        //Just refresh the contests to reflect the new language\r\n        this.publishActionToTab(0,ACTION_FORCE_REFRESH);\r\n        this.publishActionToTab(1,ACTION_FORCE_REFRESH);\r\n        this.publishActionToTab(2,ACTION_FORCE_REFRESH);\r\n      }\r\n    }\r\n    this.switchedToFacebookHandler = () => {\r\n      //Just refresh the contests to reflect the user\r\n      this.publishActionToTab(0,ACTION_FORCE_REFRESH);\r\n      this.publishActionToTab(1,ACTION_FORCE_REFRESH);\r\n      this.publishActionToTab(2,ACTION_FORCE_REFRESH);\r\n    }\r\n    this.serverPopupHandler = (eventData:any) => {\r\n      return this.client.showModalPage('ServerPopupPage', {'serverPopup': eventData[0]});\r\n    }\r\n    this.noPersonalContestsHandler = () => {\r\n      this.mainTabs.select(1); //Switch to \"Running contests\"\r\n    }\r\n    this.showLeaderContestsHandler = () => {\r\n      this.mainTabs.select(1); //Switch to \"Running contests\"\r\n    }\r\n\r\n    this.client.events.subscribe('app:contestCreated', this.contestCreatedHandler);\r\n    this.client.events.subscribe('app:contestUpdated', this.contestUpdatedHandler);\r\n    this.client.events.subscribe('app:contestRemoved', this.contestRemovedHandler);\r\n    this.client.events.subscribe('app:languageChanged', this.languageChangedHandler);\r\n    this.client.events.subscribe('app:switchedToFacebook', this.switchedToFacebookHandler);\r\n    this.client.events.subscribe('app:serverPopup', this.serverPopupHandler);\r\n    this.client.events.subscribe('app:noPersonalContests', this.noPersonalContestsHandler);\r\n    this.client.events.subscribe('app:showLeadingContests', this.showLeaderContestsHandler);\r\n  }\r\n\r\n  ionViewWillUnload() {\r\n    this.client.events.unsubscribe('app:contestCreated', this.contestCreatedHandler);\r\n    this.client.events.unsubscribe('app:contestUpdated', this.contestUpdatedHandler);\r\n    this.client.events.unsubscribe('app:contestRemoved', this.contestRemovedHandler);\r\n    this.client.events.unsubscribe('app:languageChanged', this.languageChangedHandler);\r\n    this.client.events.unsubscribe('app:switchedToFacebook', this.switchedToFacebookHandler);\r\n    this.client.events.unsubscribe('app:serverPopup', this.serverPopupHandler);\r\n    this.client.events.unsubscribe('app:noPersonalContests', this.noPersonalContestsHandler);\r\n    this.client.events.unsubscribe('app:showLeadingContests', this.showLeaderContestsHandler);\r\n  }\r\n\r\n  ionViewDidEnter() {\r\n    //Events here could be serverPopup just as the app loads - the page should be fully visible\r\n    this.client.processInternalEvents();\r\n\r\n    //Came from external deep linking - only for the case the the appp is running\r\n    if (this.client.deepLinkContestId) {\r\n      var contestId = this.client.deepLinkContestId;\r\n      this.client.deepLinkContestId = null;\r\n      this.client.displayContestById(contestId).then(() => {\r\n      }, () => {\r\n      });\r\n    }\r\n  }\r\n\r\n  publishActionToTab(index:number, action: string, param?: any) {\r\n\r\n    let eventName: string = 'app:';\r\n    switch (index) {\r\n      case 0:\r\n            eventName += 'myContests';\r\n            break;\r\n      case 1:\r\n        eventName += 'runningContests';\r\n        break;\r\n      case 2:\r\n        eventName += 'recentlyFinishedContests';\r\n        break;\r\n    }\r\n\r\n    eventName += ':' + action;\r\n\r\n    if (param) {\r\n      this.client.events.publish(eventName, param);\r\n    }\r\n    else {\r\n      this.client.events.publish(eventName);\r\n    }\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/main-tabs/main-tabs.ts","import {Component,ViewChild} from '@angular/core';\r\nimport {Refresher} from 'ionic-angular'\r\nimport {ContestListComponent} from '../../components/contest-list/contest-list';\r\nimport {Client} from '../../providers/client';\r\nimport * as analyticsService from '../../providers/analytics';\r\n\r\n@Component({\r\n  templateUrl: 'my-contests.html'\r\n})\r\n\r\nexport class MyContestsPage {\r\n\r\n  @ViewChild(ContestListComponent) contestList:ContestListComponent;\r\n  client:Client;\r\n  pageLoaded:boolean;\r\n\r\n  private updateContestHandler:(eventData:any) => void;\r\n  private removeContestHandler:(eventData:any) => void;\r\n  private forceRefreshHandler:() => void;\r\n\r\n  constructor() {\r\n    this.client = Client.getInstance();\r\n  }\r\n\r\n  ionViewDidLoad() {\r\n    this.updateContestHandler = (eventData:any) => {\r\n      this.contestList.updateContest(eventData[0]);\r\n    }\r\n    this.removeContestHandler = (eventData:any) => {\r\n      this.contestList.removeContest(eventData[0]);\r\n    }\r\n    this.forceRefreshHandler = () => {\r\n      this.refreshList(true).then(()=> {\r\n      }, ()=> {\r\n      });\r\n    }\r\n\r\n    this.client.events.subscribe('app:myContests:contestUpdated', this.updateContestHandler);\r\n    this.client.events.subscribe('app:myContests:contestRemoved', this.removeContestHandler);\r\n    this.client.events.subscribe('app:myContests:forceRefresh', this.forceRefreshHandler);\r\n  }\r\n\r\n  ionViewWillUnload() {\r\n    this.client.events.unsubscribe('app:myContests:contestUpdated', this.updateContestHandler);\r\n    this.client.events.unsubscribe('app:myContests:contestRemoved', this.removeContestHandler);\r\n    this.client.events.unsubscribe('app:myContests:forceRefresh', this.forceRefreshHandler);\r\n  }\r\n\r\n  ionViewWillEnter() {\r\n    analyticsService.track('page/myContests');\r\n    this.refreshList().then(() => {\r\n      if (this.contestList.contests.length === 0 && !this.pageLoaded) {\r\n        //On load only - switch to \"running contests\" if no personal contests\r\n        this.client.events.publish('app:noPersonalContests');\r\n      }\r\n      this.pageLoaded = true;\r\n    }, () => {\r\n\r\n    });\r\n  }\r\n\r\n  refreshList(forceRefresh?:boolean) {\r\n    return this.contestList.refresh(forceRefresh);\r\n  }\r\n\r\n  doRefresh(refresher:Refresher) {\r\n    this.refreshList(true).then(() => {\r\n      refresher.complete();\r\n    }, () => {\r\n      refresher.complete();\r\n    })\r\n  }\r\n\r\n  showLeadingContests() {\r\n    this.client.events.publish('app:showLeadingContests');\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/my-contests/my-contests.ts","import {Component} from '@angular/core';\r\nimport {NavParams,ViewController} from 'ionic-angular';\r\nimport {Client} from '../../providers/client';\r\nimport * as soundService from '../../providers/sound';\r\nimport * as analyticsService from '../../providers/analytics';\r\n\r\n@Component({\r\n  templateUrl: 'new-rank.html'\r\n})\r\nexport class NewRankPage {\r\n\r\n  client:Client;\r\n  xpProgress:Object;\r\n  viewController:ViewController;\r\n\r\n  constructor(params:NavParams, viewController: ViewController) {\r\n    this.client = Client.getInstance();\r\n    this.xpProgress = params.data.xpProgress;\r\n    this.viewController = viewController;\r\n    analyticsService.track('page/newRank', {'rank' : this.client.session.rank});\r\n  }\r\n\r\n  //The only life cycle eve currently called in modals\r\n  ngAfterViewInit() {\r\n    analyticsService.track('page/newRank', {'rank' : this.client.session.rank});\r\n    soundService.play('audio/finish_great_1');\r\n  }\r\n\r\n  dismiss(okPressed) {\r\n    this.viewController.dismiss(okPressed);\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/new-rank/new-rank.ts","import {Component} from '@angular/core';\r\nimport {NavParams} from 'ionic-angular';\r\nimport {Client} from '../../providers/client';\r\nimport * as analyticsService from '../../providers/analytics';\r\n\r\n@Component({\r\n  templateUrl: 'purchase-success.html'\r\n})\r\n\r\nexport class PurchaseSuccessPage {\r\n\r\n  client:Client;\r\n  params:NavParams;\r\n  unlockText:string;\r\n\r\n  constructor(params:NavParams) {\r\n    this.client = Client.getInstance();\r\n    this.params = params;\r\n  }\r\n\r\n  ionViewWillEnter() {\r\n    analyticsService.track('page/purchaseSuccess', {'feature' : this.params.data.featurePurchased});\r\n    this.unlockText = this.client.translate(this.client.session.features[this.params.data.featurePurchased].unlockText);\r\n  }\r\n\r\n  proceed() {\r\n    this.client.nav.popToRoot().then( () => {\r\n      switch (this.client.session.features[this.params.data.featurePurchased].view.name) {\r\n        case 'setContest':\r\n          this.client.openPage('SetContestPage', this.client.session.features[this.params.data.featurePurchased].view.params);\r\n          break;\r\n      }\r\n    },()=>{\r\n    });\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/purchase-success/purchase-success.ts","import {FormControl, FormGroup, Validators} from '@angular/forms';\r\nimport {Component,ViewChild,ElementRef} from '@angular/core';\r\nimport {NavParams,ViewController,Content} from 'ionic-angular';\r\nimport {Client} from '../../providers/client';\r\nimport {Question,Questions} from '../../objects/objects';\r\nimport * as analyticsService from '../../providers/analytics';\r\n\r\n@Component({\r\n  templateUrl: 'question-editor.html'\r\n})\r\nexport class QuestionEditorPage {\r\n\r\n  @ViewChild(Content) content: Content;\r\n\r\n  //Ionic bug - maxlength property is not copied to the native element, submitted:\r\n  //https://github.com/driftyco/ionic/issues/7635\r\n  @ViewChild('questionTextArea') questionTextArea:ElementRef;\r\n  @ViewChild('answer0TextArea') answer0TextArea:ElementRef;\r\n  @ViewChild('answer1TextArea') answer1TextArea:ElementRef;\r\n  @ViewChild('answer2TextArea') answer2TextArea:ElementRef;\r\n  @ViewChild('answer3TextArea') answer3TextArea:ElementRef;\r\n\r\n  client:Client;\r\n  question:Question;\r\n  mode:string;\r\n  viewController:ViewController;\r\n  title:String;\r\n  currentQuestions: Questions;\r\n  questionError:String;\r\n  answersError:String;\r\n  submitted:Boolean;\r\n\r\n  questionEditorForm: FormGroup;\r\n  fieldInFocus: number;\r\n\r\n  constructor(params:NavParams, viewController: ViewController) {\r\n    this.client = Client.getInstance();\r\n    this.viewController = viewController;\r\n    this.fieldInFocus = -1;\r\n    this.mode = params.data.mode;\r\n\r\n    if (this.mode === 'add') {\r\n      this.title = this.client.translate('NEW_QUESTION');\r\n      this.question =  new Question();\r\n    }\r\n    else if (this.mode === 'edit') {\r\n      this.title = this.client.translate('EDIT_QUESTION');\r\n      this.question = params.data.question;\r\n    }\r\n\r\n    this.questionEditorForm = new FormGroup({\r\n      question: new FormControl('',[Validators.required, Validators.maxLength(this.client.settings.quiz.question.maxLength)]),\r\n      answer0: new FormControl('',[Validators.required, Validators.maxLength(this.client.settings.quiz.question.answer.maxLength)]),\r\n      answer1: new FormControl('',[Validators.required, Validators.maxLength(this.client.settings.quiz.question.answer.maxLength)]),\r\n      answer2: new FormControl('',[Validators.required, Validators.maxLength(this.client.settings.quiz.question.answer.maxLength)]),\r\n      answer3: new FormControl('',[Validators.required, Validators.maxLength(this.client.settings.quiz.question.answer.maxLength)]),\r\n    });\r\n\r\n    this.currentQuestions = params.data.currentQuestions;\r\n    this.submitted = false;\r\n\r\n  }\r\n\n  ionViewWillEnter() {\n      var eventData = { 'mode': this.mode };\r\n      if (this.mode === 'edit') {\r\n          eventData['questionId'] = this.question._id;\r\n      }\r\n      analyticsService.track('page/questionEditor', eventData);\r\n  }\n\r\n  dismiss(applyChanges) {\r\n\r\n    analyticsService.track('question/' + (applyChanges ? 'set' : 'cancel'));\r\n    var result;\r\n    if (applyChanges) {\r\n\r\n      this.submitted = true;\r\n      if (!this.questionEditorForm.valid) {\r\n        return;\r\n      }\r\n\r\n      //Check for duplicate questions\r\n      if (this.currentQuestions && this.currentQuestions.list && this.currentQuestions.list.length > 0) {\r\n\r\n        //Check if question exists\r\n        var matchCount = 0;\r\n        for (var i = 0; i < this.currentQuestions.list.length; i++) {\r\n          if (this.question.text.trim() === this.currentQuestions.list[i].text.trim()) {\r\n            matchCount++;\r\n          }\r\n        }\r\n\r\n        if ((!this.question._id && matchCount > 0) || matchCount > 1) {\r\n          //In edit mode - the question text will be matched at least once - to the current question in the list\r\n          this.questionError = this.client.translate('SERVER_ERROR_QUESTION_ALREADY_EXISTS_MESSAGE');\r\n          return;\r\n        }\r\n      }\r\n\r\n      //Check for duplicate answers\r\n      var answersHash;\r\n      for (var j=0; i<this.question.answers.length; j++) {\r\n        if (!answersHash) {\r\n          answersHash = {};\r\n          answersHash[this.question.answers[j]] = true;\r\n        }\r\n        else if (answersHash[this.question.answers[j]]) {\r\n          this.answersError = this.client.translate('SERVER_ERROR_ENTER_DIFFERENT_ANSWERS_MESSAGE');\r\n          return;\r\n        }\r\n        else {\r\n          answersHash[this.question.answers[j]] = true;\r\n        }\r\n      }\r\n\r\n      result = {'question': this.question, 'mode': this.mode}\r\n    }\r\n\r\n    this.viewController.dismiss(result);\r\n  }\r\n\r\n  inputFocus(event: Event) {\r\n    this.content.scrollTo(0,event.target['offsetParent']['offsetTop']);\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/question-editor/question-editor.ts","import {Component,ViewChild, ElementRef} from '@angular/core';\r\nimport {NavParams,ViewController} from 'ionic-angular';\r\nimport {Client} from '../../providers/client';\r\nimport {QuizQuestion} from \"../../objects/objects\";\r\nimport * as analyticsService from '../../providers/analytics';\r\n\r\n@Component({\r\n  templateUrl: 'question-stats.html'\r\n})\r\nexport class QuestionStatsPage {\r\n\r\n  client:Client;\r\n  question:QuizQuestion;\r\n  viewController:ViewController;\r\n  correctRatioRounded:number;\r\n  private resizeHandler: () => void;\r\n\r\n  // get the element with the #chessCanvas on it\r\n  @ViewChild(\"questionStatsCanvas\") questionStatsCanvasElementRef:ElementRef;\r\n  questionStatsCanvas:HTMLCanvasElement;\r\n  questionStatsContext:CanvasRenderingContext2D;\r\n\r\n  constructor(params:NavParams, viewController:ViewController) {\r\n    this.client = Client.getInstance();\r\n    this.question = params.data.question;\r\n    this.viewController = viewController;\r\n\r\n\r\n  }\r\n\r\n  ionViewDidLoad() {\r\n    this.resizeHandler = () => {\r\n      if (this.question.correctRatio || this.question.correctRatio === 0) {\r\n        this.drawChart();\r\n      }\r\n    }\r\n    this.client.events.subscribe('app:resize', this.resizeHandler);\r\n  }\r\n\r\n  ionViewWillUnload() {\r\n    this.client.events.unsubscribe('app:resize', this.resizeHandler);\r\n  }\r\n\r\n  //The only life cycle eve currently called in modals\r\n  ngAfterViewInit() {\r\n    if (this.question.correctRatio || this.question.correctRatio === 0) {\r\n      this.questionStatsCanvas = this.questionStatsCanvasElementRef.nativeElement;\r\n      this.questionStatsContext = this.questionStatsCanvas.getContext('2d');\r\n      this.correctRatioRounded = Math.round(this.question.correctRatio * 100);\r\n    }\r\n  }\r\n\r\n  ionViewWillEnter() {\r\n    analyticsService.track('page/questionStats', {'questionId': this.question._id});\r\n    if (this.question.correctRatio || this.question.correctRatio === 0) {\r\n      this.drawChart();\r\n    }\r\n  }\r\n\r\n  drawChart() {\r\n\r\n    this.questionStatsCanvas.width = this.client.width * this.client.settings.charts.questionStats.size.widthRatio;\r\n    this.questionStatsCanvas.height = this.client.height * this.client.settings.charts.questionStats.size.heightRatio;\r\n\r\n    let radius:number;\r\n    if (this.questionStatsCanvas.width < this.questionStatsCanvas.height) {\r\n      radius = (this.questionStatsCanvas.width / 2) * this.client.settings.charts.questionStats.size.radiusRatio;\r\n    }\r\n    else {\r\n      radius = (this.questionStatsCanvas.height / 2) * this.client.settings.charts.questionStats.size.radiusRatio;\r\n    }\r\n\r\n    if (this.question.correctRatio === 1) {\r\n      //Draw full correct ratio\r\n      this.drawQuestionStatsCircle(radius, this.client.settings.charts.questionStats.colors.correct, -Math.PI / 2, Math.PI * 2 - Math.PI / 2, false);\r\n    }\r\n    else if (this.question.correctRatio === 0) {\r\n      //Draw full incorrect ratio\r\n      this.drawQuestionStatsCircle(radius, this.client.settings.charts.questionStats.colors.incorrect, -Math.PI / 2, Math.PI * 2 - Math.PI / 2, false);\r\n    }\r\n    else {\r\n      this.drawQuestionStatsCircle(radius, this.client.settings.charts.questionStats.colors.correct, -Math.PI / 2, this.question.correctRatio * Math.PI * 2 - Math.PI / 2, false);\r\n      this.drawQuestionStatsCircle(radius, this.client.settings.charts.questionStats.colors.incorrect, this.question.correctRatio * Math.PI * 2 - Math.PI / 2, -Math.PI / 2, false);\r\n    }\r\n\r\n    //Draw the inner circle in white - to make a doughnut\r\n    this.drawQuestionStatsCircle(radius * this.client.settings.charts.questionStats.size.innerDoughnutRadiusRatio, this.client.settings.charts.questionStats.colors.innerDoughnut);\r\n  }\r\n\r\n  dismiss(action) {\r\n    analyticsService.track('quiz/stats/' + (action ? action : 'cancel'));\r\n    this.viewController.dismiss(action);\r\n  }\r\n\r\n  drawQuestionStatsCircle(radius:number, color:string, startAngle?:any, endAngle?:any, counterClockwise?:any) {\r\n\r\n    if (startAngle == undefined) {\r\n      startAngle = 0;\r\n    }\r\n    if (endAngle == undefined) {\r\n      endAngle = Math.PI * 2;\r\n    }\r\n\r\n    if (counterClockwise == undefined) {\r\n      counterClockwise = false;\r\n    }\r\n\r\n    var x = this.questionStatsCanvas.width / 2;\r\n    var y = this.questionStatsCanvas.height / 2;\r\n\r\n    this.questionStatsContext.beginPath();\r\n    this.questionStatsContext.fillStyle = color;\r\n    this.questionStatsContext.moveTo(x, y);\r\n    this.questionStatsContext.arc(x, y, radius, startAngle, endAngle, counterClockwise);\r\n    this.questionStatsContext.fill();\r\n    this.questionStatsContext.closePath();\r\n\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/question-stats/question-stats.ts","//TODO: return [transitioned], [animated] in html\r\nimport { Component, ViewChild, ElementRef } from '@angular/core';\r\nimport {NavParams} from 'ionic-angular';\r\nimport {Client} from '../../providers/client';\r\nimport * as contestsService from '../../providers/contests';\r\nimport * as quizService from '../../providers/quiz';\r\nimport * as soundService from '../../providers/sound';\r\nimport * as analyticsService from '../../providers/analytics';\r\nimport * as alertService from '../../providers/alert';\r\nimport {QuizData,QuizQuestion,QuizCanvasCircleStateSettings} from '../../objects/objects';\r\n\r\n@Component({\r\n  templateUrl: 'quiz.html'\r\n})\r\n\r\nexport class QuizPage {\r\n\r\n  client:Client;\r\n  params:NavParams;\r\n  source:string;\r\n  quizData:QuizData;\r\n  questionHistory:Array<QuizQuestion> = [];\r\n  correctButtonName:string;\r\n\r\n  //Canvas vars\r\n  currentQuestionCircle:any;\r\n  pageInitiated:Boolean = false;\r\n  quizStarted:Boolean = false;\r\n  title:string;\r\n  circleOuterRadius:number;\r\n  circleInnerRadius:number;\r\n\r\n  @ViewChild('quizCanvas') quizCanvasElementRef:ElementRef;\r\n  quizCanvas:HTMLCanvasElement;\r\n  quizContext:CanvasRenderingContext2D;\r\n  private resizeHandler:() => void;\r\n\r\n  constructor(params:NavParams) {\r\n    this.client = Client.getInstance();\r\n    this.params = params;\r\n\r\n    if (this.params.data.contest.leadingTeam === -1) {\r\n      this.title = this.client.translate('TIE');\r\n    }\r\n    else {\r\n      this.title = this.client.translate('QUIZ_VIEW_TITLE', {'team': this.params.data.contest.teams[this.params.data.contest.leadingTeam].name});\r\n    }\r\n  }\r\n\r\n  ionViewDidLoad() {\r\n    this.resizeHandler = () => {\r\n      this.drawQuizProgress();\r\n    }\r\n    this.client.events.subscribe('app:resize', this.resizeHandler);\r\n  }\r\n\r\n  ionViewWillUnload() {\r\n    this.client.events.unsubscribe('app:resize', this.resizeHandler);\r\n  }\r\n\r\n  ngAfterViewInit() {\r\n    this.quizCanvas = this.quizCanvasElementRef.nativeElement;\r\n    this.quizContext = this.quizCanvas.getContext('2d');\r\n  }\r\n\r\n  ionViewWillEnter() {\r\n    analyticsService.track('page/quiz', {'contestId': this.params.data.contest._id});\r\n    this.startQuiz();\r\n  }\r\n\r\n  startQuiz() {\r\n\r\n    if (this.quizStarted) {\r\n      //could happen if view is cached or returning from questionStats\r\n      return;\r\n    }\r\n\r\n    this.clearQuizProgress(); //From previous time\r\n\r\n    analyticsService.track('quiz/started', {\r\n      'source': this.params.data.source,\r\n      'typeId': this.params.data.contest.type.id\r\n    });\r\n    quizService.start(this.params.data.contest._id).then((data) => {\r\n      this.quizStarted = true;\r\n      this.quizData = data.quiz;\r\n      this.quizData.currentQuestion.answered = false;\r\n\r\n      var radius = this.quizCanvas.width / (2 * data.quiz.totalQuestions + (data.quiz.totalQuestions - 1) * this.client.settings.quiz.canvas.circle.radius.spaceRatio);\r\n      if (radius > this.client.settings.quiz.canvas.circle.radius.max) {\r\n        radius = this.client.settings.quiz.canvas.circle.radius.max;\r\n      }\r\n      else if (radius < this.client.settings.quiz.canvas.circle.radius.min) {\r\n        radius = this.client.settings.quiz.canvas.circle.radius.min;\r\n      }\r\n      this.circleOuterRadius = radius;\r\n      this.circleInnerRadius = this.circleOuterRadius * (1 - this.client.settings.quiz.canvas.circle.radius.outerBorderRatio);\r\n\r\n      for (var i = 0; i < data.quiz.totalQuestions; i++) {\r\n        var score:number;\r\n        if (this.params.data.contest.type.id === 'systemTrivia') {\r\n          //System Trivia\r\n          score = this.client.settings.quiz.questions[this.params.data.contest.type.id].scores[i];\r\n        }\r\n        else if (this.params.data.contest.type.id === 'userTrivia') {\r\n          //User Trivia\r\n          score = this.client.settings.quiz.questions[this.params.data.contest.type.id].questionScore;\r\n        }\r\n        else {\r\n          score = 0;\r\n        }\r\n        this.questionHistory.push(new QuizQuestion(score));\r\n      }\r\n\r\n      this.drawQuizProgress();\r\n\r\n      if (this.quizData.reviewMode && this.quizData.reviewMode.reason) {\r\n        alertService.alert(this.client.translate(this.quizData.reviewMode.reason)).then(()=> {\r\n        }, ()=> {\r\n        });\r\n      }\r\n\r\n    }, (err:any) => {\r\n      switch (err.type) {\r\n        case 'SERVER_ERROR_GENERAL':\r\n          this.client.nav.pop();\r\n          break;\r\n        case 'SERVER_ERROR_CONTEST_ENDED':\r\n          //additionalInfo contains the updated contest object from the server\r\n          contestsService.setContestClientData(err.additionalInfo.contest);\r\n          setTimeout(()=> {\r\n            this.client.nav.pop().then(()=> {\r\n              console.log('quiz pop completed');\r\n              this.client.events.publish('app:contestUpdated', err.additionalInfo.contest, this.params.data.contest.status, err.additionalInfo.contest.status);\r\n              console.log('quiz results published to contest');\r\n            }, () => {\r\n            });\r\n          }, 1000);\r\n          break;\r\n        default:\r\n          //Allow the user to answer again - probably timeout error\r\n          this.quizData.currentQuestion.answered = false;\r\n          break;\r\n      }\r\n    });\r\n  }\r\n\r\n  submitAnswer(answerId) {\r\n\r\n    this.quizData.currentQuestion.answered = true;\r\n\r\n    quizService.answer(answerId, this.questionHistory[this.quizData.currentQuestionIndex].hintUsed, this.questionHistory[this.quizData.currentQuestionIndex].answerUsed).then((data) => {\r\n\r\n      var correctAnswerId;\r\n\r\n      this.questionHistory[this.quizData.currentQuestionIndex].answered = data.question.correct;\r\n\r\n      if (data.results) {\r\n        //Will get here when quiz is finished\r\n        this.quizData.results = data.results;\r\n      }\r\n\r\n      //Rank might change during quiz - and feature might open\r\n      if (data.features) {\r\n        this.client.session.features = data.features;\r\n      }\r\n\r\n      if (data.xpProgress) {\r\n        this.quizData.xpProgress = data.xpProgress;\r\n      }\r\n      else {\r\n        this.quizData.xpProgress = null;\r\n      }\r\n\r\n      if (data.question.correct) {\r\n\r\n        analyticsService.track('quiz/question' + (this.quizData.currentQuestionIndex + 1) + '/answered/correct');\r\n\r\n        correctAnswerId = answerId;\r\n        this.quizData.currentQuestion.answers[answerId].answeredCorrectly = true;\r\n\r\n        soundService.play('audio/click_ok');\r\n      }\r\n      else {\r\n        analyticsService.track('quiz/question' + (this.quizData.currentQuestionIndex + 1) + '/answered/incorrect');\r\n        soundService.play('audio/click_wrong');\r\n        correctAnswerId = data.question.correctAnswerId;\r\n        this.quizData.currentQuestion.answers[answerId].answeredCorrectly = false;\r\n        setTimeout(() => {\r\n          this.quizData.currentQuestion.answers[data.question.correctAnswerId].correct = true;\r\n        }, this.client.settings.quiz.question.wrongAnswerMillisecondsDelay)\r\n      }\r\n\r\n      this.correctButtonName = 'buttonAnswer' + correctAnswerId;\r\n\r\n    }, (err:any) => {\r\n      switch (err.type) {\r\n        case 'SERVER_ERROR_SESSION_EXPIRED_DURING_QUIZ':\r\n          this.startQuiz();\r\n          break;\r\n        case 'SERVER_ERROR_GENERAL':\r\n          this.client.nav.pop();\r\n          break;\r\n        default:\r\n          //Allow the user to answer again - probably timeout error\r\n          this.quizData.currentQuestion.answered = false;\r\n          break;\r\n      }\r\n    });\r\n  }\r\n\r\n  nextQuestion() {\r\n\r\n    quizService.nextQuestion().then((data) => {\r\n\r\n      this.quizData = data;\r\n      this.quizData.currentQuestion.answered = false;\r\n      this.quizData.currentQuestion.doAnimation = true; //Animation end will trigger quiz proceed\r\n\r\n      this.drawQuizProgress();\r\n\r\n      analyticsService.track('quiz/gotQuestion' + (this.quizData.currentQuestionIndex + 1));\r\n    }, () => {\r\n    });\r\n  }\r\n\r\n  questionTransitionEnd() {\r\n    if (this.quizData && this.quizData.currentQuestion) {\r\n      this.quizData.currentQuestion.doAnimation = false; //Animation end will trigger quiz proceed\r\n    }\r\n  }\r\n\r\n  buttonAnimationEnded(event:Event) {\r\n    if (this.quizData.xpProgress && this.quizData.xpProgress.addition > 0) {\r\n      this.client.playerInfoComponent.addXp(this.quizData.xpProgress).then(() => {\r\n        if (this.correctButtonName === event.srcElement['name']) {\r\n          if (!this.quizData.xpProgress.rankChanged) {\r\n            this.quizProceed();\r\n          }\r\n          else {\r\n            var modal = this.client.createModalPage('NewRankPage', {\r\n              'xpProgress': this.quizData.xpProgress\r\n            });\r\n\r\n            modal.onDidDismiss((okPressed) => {\r\n              this.quizProceed();\r\n            });\r\n\r\n            modal.present();\r\n\r\n          }\r\n        }\r\n      }, ()=> {\r\n      });\r\n    }\r\n    else if (this.correctButtonName === event.srcElement['name']) {\r\n      this.quizProceed();\r\n    }\r\n  }\r\n\r\n  quizProceed() {\r\n    if (this.quizData.finished) {\r\n\r\n      this.drawQuizProgress();\r\n      this.client.session.score += this.quizData.results.data.score;\r\n\r\n      analyticsService.track('quiz/finished',\r\n        {\r\n          'score': '' + this.quizData.results.data.score,\r\n          'message': this.quizData.results.data.clientKey\r\n        });\r\n\r\n      //Give enough time to draw the circle progress of the last question\r\n      setTimeout(() => {\r\n        this.client.nav.pop().then(() => {\r\n          this.client.events.publish('app:quizFinished', this.quizData.results);\r\n          //For next time if view remains cached\r\n          this.quizStarted = false;\r\n        }, ()=> {\r\n        });\r\n      }, 1000);\r\n\r\n    }\r\n    else {\r\n      this.nextQuestion();\r\n    }\r\n  }\r\n\r\n  canvasClick(event) {\r\n\r\n    if (this.currentQuestionCircle &&\r\n      event.offsetX <= this.currentQuestionCircle.right &&\r\n      event.offsetX >= this.currentQuestionCircle.left &&\r\n      event.offsetY >= this.currentQuestionCircle.top &&\r\n      event.offsetY <= this.currentQuestionCircle.bottom) {\r\n\r\n      if (this.quizData.currentQuestion.correctRatio ||\r\n        this.quizData.currentQuestion.correctRatio === 0 ||\r\n        this.quizData.currentQuestion.wikipediaHint ||\r\n        this.quizData.currentQuestion.wikipediaAnswer) {\r\n\r\n        var modal = this.client.createModalPage('QuestionStatsPage', {\r\n          'question': this.quizData.currentQuestion\r\n        });\r\n\r\n        modal.onDidDismiss((action) => {\r\n          switch (action) {\r\n            case 'hint':\r\n              this.questionHistory[this.quizData.currentQuestionIndex].hintUsed = true;\r\n              this.questionHistory[this.quizData.currentQuestionIndex].score -= this.quizData.currentQuestion.hintCost;\r\n              this.drawQuizScores();\r\n              window.open(this.client.currentLanguage.wiki + this.quizData.currentQuestion.wikipediaHint, '_system', 'location=yes');\r\n              break;\r\n\r\n            case 'answer':\r\n              this.questionHistory[this.quizData.currentQuestionIndex].answerUsed = true;\r\n              this.questionHistory[this.quizData.currentQuestionIndex].score -= this.quizData.currentQuestion.answerCost;\r\n              this.drawQuizScores();\r\n              window.open(this.client.currentLanguage.wiki + this.quizData.currentQuestion.wikipediaAnswer, '_system', 'location=yes');\r\n              break;\r\n          }\r\n        });\r\n\r\n        modal.present();\r\n      }\r\n    }\r\n  }\r\n\r\n  drawQuizProgress() {\r\n\r\n    this.quizCanvas.width = this.client.width * this.client.settings.quiz.canvas.size.widthRatio;\r\n\r\n    //Draw connecting line\r\n    this.quizContext.beginPath();\r\n    this.quizContext.moveTo(0, this.circleOuterRadius + this.client.settings.quiz.canvas.size.topOffset);\r\n    this.quizContext.lineTo(this.quizCanvas.width, this.circleOuterRadius + this.client.settings.quiz.canvas.size.topOffset);\r\n    this.quizContext.lineWidth = this.client.settings.quiz.canvas.line.width;\r\n\r\n    this.quizContext.strokeStyle = this.client.settings.quiz.canvas.line.color;\r\n    this.quizContext.stroke();\r\n    this.quizContext.fill();\r\n    this.quizContext.closePath();\r\n\r\n    //Set the initial X to draw\r\n    var currentX;\r\n    if (this.client.currentLanguage.direction === 'ltr') {\r\n      currentX = this.circleOuterRadius;\r\n    }\r\n    else {\r\n      currentX = this.quizCanvas.width - this.circleOuterRadius;\r\n    }\r\n\r\n    this.currentQuestionCircle = null;\r\n\r\n    //Calculate the space between the circles depending on the number of questions\r\n    var circleOffsets = (this.quizCanvas.width - this.quizData.totalQuestions * this.circleOuterRadius * 2) / (this.quizData.totalQuestions - 1);\r\n\r\n    for (var i = 0; i < this.quizData.totalQuestions; i++) {\r\n\r\n      if (i === this.quizData.currentQuestionIndex && this.questionHistory[i].answered == undefined) {\r\n\r\n        //--------------------------------------------------------------------//\r\n        // Current question (to be answered)\r\n        //--------------------------------------------------------------------//\r\n\r\n        //Current circle is clickable to get question stats\r\n        this.currentQuestionCircle = {\r\n          'top': this.client.settings.quiz.canvas.size.topOffset,\r\n          'left': currentX - this.circleOuterRadius,\r\n          'bottom': this.client.settings.quiz.canvas.size.topOffset + 2 * this.circleOuterRadius,\r\n          'right': currentX + this.circleOuterRadius\r\n        };\r\n\r\n        //Current question has statistics about success ratio\r\n        if (this.quizData.currentQuestion.correctRatio || this.quizData.currentQuestion.correctRatio === 0) {\r\n\r\n          //Draw the outer circle\r\n          this.drawQuestionCircle(currentX, this.circleOuterRadius, this.client.settings.quiz.canvas.circle.states.current.stats.outerColor);\r\n\r\n          if (this.quizData.currentQuestion.correctRatio === 1) {\r\n            //Draw full correct ratio (in the inner circle - partial arc)\r\n            this.drawQuestionCircle(currentX, this.circleInnerRadius, this.client.settings.quiz.canvas.circle.states.previous.correct.innerColor, -Math.PI / 2, Math.PI * 2 - Math.PI / 2, false);\r\n          }\r\n          else if (this.quizData.currentQuestion.correctRatio === 0) {\r\n            //Draw full incorrect ratio (in the inner circle - partial arc)\r\n            this.drawQuestionCircle(currentX, this.circleInnerRadius, this.client.settings.quiz.canvas.circle.states.previous.incorrect.innerColor, -Math.PI / 2, Math.PI * 2 - Math.PI / 2, false);\r\n\r\n          }\r\n          else {\r\n            this.drawQuestionCircle(currentX, this.circleInnerRadius, this.client.settings.quiz.canvas.circle.states.previous.correct.innerColor, -Math.PI / 2, this.quizData.currentQuestion.correctRatio * Math.PI * 2 - Math.PI / 2, false);\r\n            this.drawQuestionCircle(currentX, this.circleInnerRadius, this.client.settings.quiz.canvas.circle.states.previous.incorrect.innerColor, this.quizData.currentQuestion.correctRatio * Math.PI * 2 - Math.PI / 2, -Math.PI / 2, false);\r\n          }\r\n        }\r\n        else {\r\n          //Draw the \"current\" circle using the \"noStats\" state\r\n          this.drawQuestionState(currentX, this.client.settings.quiz.canvas.circle.states.current.noStats);\r\n        }\r\n      }\r\n      else if (i > this.quizData.currentQuestionIndex && this.questionHistory[i].answered == undefined) {\r\n        //--------------------------------------------------------------------//\r\n        // Next Question - not reached yet\r\n        //--------------------------------------------------------------------//\r\n        this.drawQuestionState(currentX, this.client.settings.quiz.canvas.circle.states.next);\r\n      }\r\n      else {\r\n        //--------------------------------------------------------------------//\r\n        // Previous Question - already answered\r\n        //--------------------------------------------------------------------//\r\n        //Draw correct/incorrect for answered\r\n        if (this.questionHistory[i].answered != undefined) {\r\n          if (this.questionHistory[i].answered) {\r\n            this.drawQuestionState(currentX, this.client.settings.quiz.canvas.circle.states.previous.correct);\r\n          }\r\n          else {\r\n            this.drawQuestionState(currentX, this.client.settings.quiz.canvas.circle.states.previous.incorrect);\r\n          }\r\n        }\r\n      }\r\n\r\n      //--------------------------------------------------------------------//\r\n      // Move the X offset to the next circle\r\n      //--------------------------------------------------------------------//\r\n      if (this.client.currentLanguage.direction === 'ltr') {\r\n        if (i < this.quizData.totalQuestions - 1) {\r\n          currentX += circleOffsets + this.circleOuterRadius * 2;\r\n        }\r\n        else {\r\n          currentX = this.quizCanvas.width - this.circleOuterRadius;\r\n        }\r\n      }\r\n      else {\r\n        if (i < this.quizData.totalQuestions - 1) {\r\n          currentX = currentX - circleOffsets - (this.circleOuterRadius * 2);\r\n        }\r\n        else {\r\n          currentX = this.circleOuterRadius;\r\n        }\r\n      }\r\n    }\r\n\r\n    this.drawQuizScores();\r\n\r\n  }\r\n\r\n  drawQuestionCircle(x:number, radius:number, color:string, startAngle?:any, endAngle?:any, counterClockwise?:any) {\r\n\r\n    if (startAngle == undefined) {\r\n      startAngle = 0;\r\n    }\r\n    if (endAngle == undefined) {\r\n      endAngle = Math.PI * 2;\r\n    }\r\n\r\n    if (counterClockwise == undefined) {\r\n      counterClockwise = false;\r\n    }\r\n\r\n    this.quizContext.beginPath();\r\n    this.quizContext.fillStyle = color;\r\n    this.quizContext.moveTo(x, this.circleOuterRadius + this.client.settings.quiz.canvas.size.topOffset);\r\n    this.quizContext.arc(x, this.circleOuterRadius + this.client.settings.quiz.canvas.size.topOffset, radius, startAngle, endAngle, counterClockwise);\r\n    this.quizContext.fill();\r\n    this.quizContext.closePath();\r\n\r\n  }\r\n\r\n  drawQuestionState(x:number, state:QuizCanvasCircleStateSettings) {\r\n\r\n    this.drawQuestionCircle(x, this.circleOuterRadius, state.outerColor);\r\n\r\n    if (state.innerColor) {\r\n      this.drawQuestionCircle(x, this.circleInnerRadius, state.innerColor);\r\n    }\r\n\r\n    if (state.text) {\r\n      this.quizContext.beginPath();\r\n      this.quizContext.fillStyle = state.textFillStyle;\r\n      this.quizContext.font = this.getCanvasFont(this.client.settings.quiz.canvas.font.signs.bold, this.circleOuterRadius + 'px', this.client.settings.quiz.canvas.font.signs.name);\r\n      var textWidth = this.quizContext.measureText(state.text).width;\r\n      var directionMultiplier = 1;\r\n      if (this.client.currentLanguage.direction === 'ltr') {\r\n        //For left to right - need to draw \"behind\" the x supplied, for rtl - \"after\"\r\n        directionMultiplier = -1;\r\n      }\r\n\r\n      //1.35 = 'magic number' - works for all resolutions\r\n      this.quizContext.fillText(state.text, x + (directionMultiplier * textWidth / 2), this.client.settings.quiz.canvas.size.topOffset + (1.35 * this.circleOuterRadius));\r\n      this.quizContext.closePath();\r\n    }\r\n\r\n  }\r\n\r\n  clearQuizScores() {\r\n    this.quizContext.clearRect(0, 0, this.quizCanvas.width, this.client.settings.quiz.canvas.scores.size.top);\r\n  }\r\n\r\n  clearQuizProgress() {\r\n    this.quizContext.clearRect(0, 0, this.quizCanvas.width, this.quizCanvas.height);\r\n  }\r\n\r\n  drawQuizScores() {\r\n\r\n    this.clearQuizScores();\r\n\r\n    this.quizContext.font = this.getCanvasFont(this.client.settings.quiz.canvas.font.scores.bold, this.client.settings.quiz.canvas.font.scores.size, this.client.settings.quiz.canvas.font.scores.name);\r\n\r\n    var currentX;\r\n    var directionMultiplier = 1;\r\n    if (this.client.currentLanguage.direction === 'ltr') {\r\n      currentX = this.circleOuterRadius;\r\n      directionMultiplier = -1;\r\n    }\r\n    else {\r\n      currentX = this.quizCanvas.width - this.circleOuterRadius;\r\n    }\r\n\r\n    var circleOffsets = 0;\r\n    if (this.quizData.totalQuestions > 1) {\r\n      circleOffsets = (this.quizCanvas.width - this.quizData.totalQuestions * this.circleOuterRadius * 2) / (this.quizData.totalQuestions - 1);\r\n    }\r\n    for (var i = 0; i < this.quizData.totalQuestions; i++) {\r\n\r\n      var questionScore;\r\n      if (!this.quizData.reviewMode) {\r\n        questionScore = '' + this.questionHistory[i].score;\r\n      }\r\n      else {\r\n        questionScore = '';\r\n      }\r\n\r\n      //Draw question score\r\n      var textWidth = this.quizContext.measureText(questionScore).width;\r\n      var scoreColor = this.client.settings.quiz.canvas.scores.colors.default;\r\n\r\n      if (this.questionHistory[i].answered && !this.questionHistory[i].answerUsed) {\r\n        scoreColor = this.client.settings.quiz.canvas.scores.colors.correct;\r\n      }\r\n\r\n      //Draw the score at the top of the circle\r\n      this.quizContext.beginPath();\r\n      this.quizContext.fillStyle = scoreColor;\r\n      this.quizContext.fillText(questionScore, currentX + directionMultiplier * textWidth / 2, this.client.settings.quiz.canvas.scores.size.top);\r\n      this.quizContext.closePath();\r\n\r\n      if (this.client.currentLanguage.direction === 'ltr') {\r\n        if (i < this.quizData.totalQuestions - 1) {\r\n          currentX += circleOffsets + this.circleOuterRadius * 2;\r\n        }\r\n        else {\r\n          currentX = this.quizCanvas.width - this.circleOuterRadius;\r\n        }\r\n      }\r\n      else {\r\n        if (i < this.quizData.totalQuestions - 1) {\r\n          currentX = currentX - circleOffsets - (this.circleOuterRadius * 2);\r\n        }\r\n        else {\r\n          currentX = this.circleOuterRadius;\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  openQuestionEditor() {\r\n\r\n    var question = {\r\n      '_id': this.quizData.currentQuestion._id,\r\n      'text': this.quizData.currentQuestion.text,\r\n      'answers': []\r\n    };\r\n\r\n    for (var i = 0; i < this.quizData.currentQuestion.answers.length; i++) {\r\n      question.answers[this.quizData.currentQuestion.answers[i].originalIndex] = this.quizData.currentQuestion.answers[i].text;\r\n    }\r\n    var modal = this.client.createModalPage('QuestionEditorPage', {'question': question, 'mode': 'edit'});\r\n    modal.onDidDismiss((result) => {\r\n      if (!result) {\r\n        return;\r\n      }\r\n\r\n      quizService.setQuestionByAdmin(result.question).then(() => {\r\n        this.quizData.currentQuestion.text = result.question.text;\r\n        for (var i = 0; i < result.question.answers.length; i++) {\r\n          this.quizData.currentQuestion.answers[i].text = result.question.answers[this.quizData.currentQuestion.answers[i].originalIndex];\r\n        }\r\n      }, () => {\r\n      })\r\n    })\r\n    modal.present();\r\n  }\r\n\r\n  share() {\r\n    this.client.share(this.params.data.contest, 'quiz');\r\n  }\r\n\r\n  getCanvasFont(bold:boolean, size:string, name:string) {\r\n    var font = '';\r\n    if (bold) {\r\n      font += 'bold ';\r\n    }\r\n    font += size + ' ' + name;\r\n\r\n    return font;\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/quiz/quiz.ts","import {Component,ViewChild} from '@angular/core';\r\nimport {Refresher} from 'ionic-angular'\r\nimport {ContestListComponent} from '../../components/contest-list/contest-list';\r\nimport {Client} from '../../providers/client';\r\nimport * as analyticsService from '../../providers/analytics';\r\n\r\n@Component({\r\n  templateUrl: 'running-contests.html'\r\n})\r\n\r\nexport class RunningContestsPage {\r\n\r\n  @ViewChild(ContestListComponent) contestList: ContestListComponent;\r\n  client: Client;\r\n  private updateContestHandler:(eventData:any) => void;\r\n  private removeContestHandler:(eventData:any) => void;\r\n  private forceRefreshHandler:() => void;\r\n\r\n  constructor() {\r\n    this.client = Client.getInstance();\r\n  }\r\n\r\n  ionViewDidLoad() {\r\n    this.updateContestHandler = (eventData:any) => {\r\n      this.contestList.updateContest(eventData[0]);\r\n    }\r\n    this.removeContestHandler = (eventData:any) => {\r\n      this.contestList.removeContest(eventData[0]);\r\n    }\r\n    this.forceRefreshHandler = () => {\r\n      this.refreshList(true).then(()=> {\r\n      }, ()=> {\r\n      });\r\n    }\r\n\r\n    this.client.events.subscribe('app:runningContests:contestUpdated', this.updateContestHandler);\r\n    this.client.events.subscribe('app:runningContests:contestRemoved', this.removeContestHandler);\r\n    this.client.events.subscribe('app:runningContests:forceRefresh', this.forceRefreshHandler);\r\n  }\r\n\r\n  ionViewWillUnload() {\r\n    this.client.events.unsubscribe('app:runningContests:contestUpdated', this.updateContestHandler);\r\n    this.client.events.unsubscribe('app:runningContests:contestRemoved', this.removeContestHandler);\r\n    this.client.events.unsubscribe('app:runningContests:forceRefresh', this.forceRefreshHandler);\r\n  }\r\n\r\n  ionViewWillEnter() {\r\n    analyticsService.track('page/runningContests');\r\n    this.refreshList().then (() => {\r\n    }, () => {\r\n    });\r\n  }\r\n\r\n  refreshList(forceRefresh? : boolean) {\r\n    return this.contestList.refresh(forceRefresh);\r\n  }\r\n\r\n  doRefresh(refresher: Refresher) {\r\n    this.refreshList(true).then(() => {\r\n      refresher.complete();\r\n    }, () => {\r\n      refresher.complete();\r\n    })\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/running-contests/running-contests.ts","import {Component} from '@angular/core';\r\nimport {NavParams,ViewController} from 'ionic-angular';\r\nimport {Client} from '../../providers/client';\r\nimport * as contestsService from '../../providers/contests';\r\nimport * as analyticsService from '../../providers/analytics';\r\nimport * as alertService from '../../providers/alert';\r\nimport {Questions,Question} from '../../objects/objects';\r\n\r\n@Component({\r\n  templateUrl: 'search-questions.html'\r\n})\r\nexport class SearchQuestionsPage {\r\n\r\n  client:Client;\r\n  viewController: ViewController;\r\n  currentQuestions: Questions;\r\n  searchText:String;\r\n  questions: Array<Question>;\r\n\r\n  constructor(params:NavParams, viewController: ViewController) {\r\n    this.client = Client.getInstance();\r\n    this.viewController = viewController;\r\n    this.currentQuestions = params.data.currentQuestions;\r\n    this.searchText = '';\r\n  }\r\n\r\n  //The only life cycle eve currently called in modals\r\n  ngAfterViewInit() {\r\n    analyticsService.track('page/searchQuestions');\r\n  }\r\n\r\n  search(event) {\r\n\r\n    //Clear list if empty text\r\n    if (!this.searchText || !(this.searchText.trim())) {\r\n      this.questions = [];\r\n      return;\r\n    }\r\n\r\n    var existingQuestionIds = [];\r\n    if (this.currentQuestions && this.currentQuestions.visibleCount > 0) {\r\n      for (var i = 0; i < this.currentQuestions.list.length; i++) {\r\n        if (this.currentQuestions.list[i]._id && this.currentQuestions.list[i]._id !== 'new' && !this.currentQuestions.list[i].deleted) {\r\n          existingQuestionIds.push(this.currentQuestions.list[i]._id);\r\n        }\r\n      }\r\n    }\r\n\r\n    contestsService.searchMyQuestions(this.searchText, existingQuestionIds).then ((questionsResult) => {\r\n      this.questions = questionsResult;\r\n    }, () => {\r\n\r\n    });\r\n\r\n  }\r\n\r\n  dismiss(applyChanges) {\r\n\r\n    analyticsService.track('questions/search/' + (applyChanges ? 'select' : 'cancel'));\r\n\r\n    if (applyChanges) {\r\n\r\n      //Find how many selected\r\n      var selectedCount = 0\r\n      for (var i = 0; i < this.questions.length; i++) {\r\n        if (this.questions[i].checked) {\r\n          selectedCount++;\r\n        }\r\n      }\r\n\r\n      //Check if max reached together with the current questions in the contest\r\n      if (selectedCount > 0 && this.currentQuestions.visibleCount + selectedCount > this.client.settings['newContest'].privateQuestions.max) {\r\n        alertService.alert(this.client.translate('MAX_USER_QUESTIONS_REACHED', {max: this.client.settings['newContest'].privateQuestions.max}))\r\n        return;\r\n      }\r\n\r\n      for (var j = 0; i < this.questions.length; j++) {\r\n        if (!this.questions[j].checked) {\r\n          continue;\r\n        }\r\n\r\n        var questionExist = false;\r\n        for (var k = 0; k < this.currentQuestions.list.length; k++) {\r\n          //Check if question was marked as 'deleted', and now re-instated\r\n          if (this.questions[j]._id === this.currentQuestions.list[k]._id && this.currentQuestions.list[k].deleted) {\r\n            this.currentQuestions.list[k].deleted = false;\r\n            this.currentQuestions.visibleCount++;\r\n            questionExist = true;\r\n            break;\r\n          }\r\n        }\r\n\r\n        if (!questionExist) {\r\n          this.currentQuestions.visibleCount++;\r\n          this.currentQuestions.list.push(JSON.parse(JSON.stringify(this.questions[j])));\r\n        }\r\n      }\r\n    }\r\n\r\n    this.viewController.dismiss();\r\n\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/search-questions/search-questions.ts","import {Component} from '@angular/core';\r\nimport {NavParams,ViewController} from 'ionic-angular';\r\nimport {Client} from '../../providers/client';\r\nimport * as analyticsService from '../../providers/analytics';\r\nimport * as contestsService from '../../providers/contests';\r\n\r\n@Component({\r\n  templateUrl: 'server-popup.html'\r\n})\r\nexport class ServerPopupPage {\r\n\r\n  client:Client;\r\n  params:NavParams;\r\n  viewController:ViewController;\r\n\r\n  constructor(params:NavParams, viewController: ViewController) {\r\n\r\n    this.client = Client.getInstance();\r\n    this.params = params;\r\n\r\n    //Look for special variables such as #storeLink (based on client's platform\r\n    for (var i=0; i<this.params.data.serverPopup.buttons.length; i++) {\r\n      if (this.params.data.serverPopup.buttons[i].link && this.params.data.serverPopup.buttons[i].link.indexOf('#storeLink') >= 0) {\r\n        this.params.data.serverPopup.buttons[i].link = this.params.data.serverPopup.buttons[i].link.replaceAll('#storeLink',this.client.settings.platforms[this.client.clientInfo.platform].storeLink);\r\n      }\r\n    }\r\n\r\n    this.viewController = viewController;\r\n  }\r\n\r\n  //The only life cycle eve currently called in modals\r\n  ngAfterViewInit() {\r\n    analyticsService.track('page/serverPopup', {title : this.params.data.serverPopup.title, message : this.params.data.serverPopup.message});\r\n  }\r\n\r\n  preventBack() {\r\n    return this.params.data.serverPopup.preventBack;\r\n  }\r\n\r\n  buttonAction(button) {\r\n    switch (button.action) {\r\n      case 'dismiss' :\r\n        this.viewController.dismiss(button);\r\n        break;\r\n\r\n      case 'link' :\r\n      {\r\n        window.open(button.link, '_system', 'location=yes');\r\n        this.viewController.dismiss(button);\r\n        break;\r\n      }\r\n\r\n      case 'linkExit' :\r\n      {\r\n        window.open(button.link, '_system', 'location=yes');\r\n        setTimeout(() => {\r\n          this.client.platform.exitApp();\r\n        }, 1000)\r\n        break;\r\n      }\r\n\r\n      case 'share' :\r\n      {\r\n        if (button.contestId) {\r\n          contestsService.getContest(button.contestId).then ((contest) => {\r\n            this.viewController.dismiss(button).then(() => {\r\n              this.client.openPage('SharePage', {'contest' : contest, 'source': 'serverPopup'});\r\n            },()=>{\r\n            });\r\n          }, () => {\r\n            this.viewController.dismiss(button);\r\n          });\r\n        }\r\n        else {\r\n          this.viewController.dismiss(button).then(() => {\r\n            this.client.openPage('SharePage', {'source': 'serverPopup'});\r\n          },()=>{\r\n          });\r\n        }\r\n        break;\r\n      }\r\n\r\n      case 'screen' :\r\n      {\r\n        this.viewController.dismiss(button).then(() => {\r\n          if (button.rootView) {\r\n            this.client.setRootPage(button.screen, button.params)\r\n          }\r\n          else {\r\n            this.client.openPage(button.screen, button.params)\r\n          }\r\n        },()=>{\r\n        });\r\n\r\n        break;\r\n      }\r\n    }\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/server-popup/server-popup.ts","import {Component,ViewChild,ElementRef} from '@angular/core';\r\nimport { FormControl, FormGroup, Validators} from '@angular/forms';\r\nimport {NavParams} from 'ionic-angular';\r\nimport {Client} from '../../providers/client';\r\nimport * as analyticsService from '../../providers/analytics';\r\nimport * as contestsService from '../../providers/contests';\r\nimport * as paymentService from '../../providers/payments';\r\nimport * as alertService from '../../providers/alert';\r\nimport {Contest, Questions, PaymentData, AppPage} from '../../objects/objects';\r\n\r\n@Component({\r\n  templateUrl: 'set-contest.html'\r\n})\r\n\r\nexport class SetContestPage {\r\n\r\n  client:Client;\r\n  params:NavParams;\r\n\r\n  nowWithoutTimeEpoch:number;\r\n  currentTimeOnlyInMilliseconds:number;\r\n  contestLocalCopy:Contest;\r\n  buyInProgress:boolean;\r\n  endOptionKeys:Array<string>;\r\n  title:string;\r\n  userQuestionsInvalid:string;\r\n  submitted:boolean;\r\n  readOnlySubjectAlerted:boolean;\r\n  contestForm:FormGroup;\r\n\r\n  //Ionic bug - maxlength/readonly properties are not copied to the native element, submitted:\r\n  //https://github.com/driftyco/ionic/issues/7635\r\n  @ViewChild('team0Input') team0Input:ElementRef;\r\n  @ViewChild('team1Input') team1Input:ElementRef;\r\n  @ViewChild('subjectInput') subjectInput:ElementRef;\r\n\r\n  constructor(params:NavParams) {\r\n\r\n    this.client = Client.getInstance();\r\n    this.params = params;\r\n\r\n    this.endOptionKeys = Object.keys(this.client.settings.newContest.endOptions);\r\n\r\n    //Start date is today, end date is by default as set by the server\r\n    var nowWithTime = new Date();\r\n\r\n    var nowWithoutTime = new Date();\r\n    nowWithoutTime.clearTime();\r\n    this.currentTimeOnlyInMilliseconds = nowWithTime.getTime() - nowWithoutTime.getTime();\r\n    this.nowWithoutTimeEpoch = nowWithoutTime.getTime();\r\n\r\n    var endOption = '';\r\n    if (this.params.data.mode === 'edit') {\r\n      this.contestLocalCopy = contestsService.cloneForEdit(this.params.data.contest);\r\n\r\n      if (this.contestLocalCopy.type.id === 'userTrivia') {\r\n        this.retrieveUserQuestions();\r\n      }\r\n    }\r\n    else if (this.params.data.mode === 'add') {\r\n\r\n      for (var i = 0; i < this.endOptionKeys.length; i++) {\r\n        if (this.client.settings.newContest.endOptions[this.endOptionKeys[i]].isDefault) {\r\n          endOption = this.endOptionKeys[i];\r\n          break;\r\n        }\r\n      }\r\n      if (!endOption) {\r\n        //If no default - set the last as default\r\n        endOption = this.endOptionKeys[this.endOptionKeys.length - 1];\r\n      }\r\n\r\n      this.contestLocalCopy = new Contest(this.params.data.typeId, this.nowWithoutTimeEpoch + this.currentTimeOnlyInMilliseconds, null, endOption);\r\n\r\n      //Set contest subject\r\n      this.contestLocalCopy.subject = this.client.translate(this.client.settings.newContest.contestTypes[this.contestLocalCopy.type.id].text.name, {'name': this.client.session.name});\r\n\r\n      //Set user questions\r\n      if (this.contestLocalCopy.type.id === 'userTrivia') {\r\n        this.contestLocalCopy.type.questions = new Questions();\r\n      }\r\n\r\n    }\r\n\r\n    //Init form\r\n    this.contestForm = new FormGroup({\r\n        teams: new FormGroup({\r\n            team0: new FormControl({ value: this.contestLocalCopy.teams[0].name, disabled: this.client.session.features.newContest.locked}, [Validators.required, Validators.maxLength(this.client.settings.newContest.inputs.team.maxLength)]),\r\n            team1: new FormControl({ value: this.contestLocalCopy.teams[1].name, disabled: this.client.session.features.newContest.locked }, [Validators.required, Validators.maxLength(this.client.settings.newContest.inputs.team.maxLength)]),\r\n        }, null, this.matchingTeamsValidator),\r\n        subject: new FormControl(this.contestLocalCopy.subject, [Validators.required, Validators.maxLength(this.client.settings.newContest.inputs.subject.maxLength)]),\r\n        endOption: new FormControl(endOption),\r\n        randomOrder: new FormControl({ value: this.contestLocalCopy.type.randomOrder })\r\n    });\r\n\r\n    this.client.session.features['newContest'].purchaseData.retrieved = false;\r\n\r\n    //-------------------------------------------------------------------------------------------------------------\r\n    //Android Billing\r\n    //-------------------------------------------------------------------------------------------------------------\r\n    if (this.client.user.clientInfo.platform === 'android' && this.client.session.features['newContest'].locked) {\r\n      if (!this.client.session.features['newContest'].purchaseData.retrieved) {\r\n\r\n        //-------------------------------------------------------------------------------------------------------------\r\n        //pricing - replace cost/currency with the google store pricing (local currency, etc.)\r\n        //-------------------------------------------------------------------------------------------------------------\r\n        window.inappbilling.getProductDetails((products) => {\r\n            //In android - the price already contains the symbol\r\n            this.client.session.features['newContest'].purchaseData.formattedCost = products[0].price;\r\n            this.client.session.features['newContest'].purchaseData.cost = products[0].price_amount_micros / 1000000;\r\n            this.client.session.features['newContest'].purchaseData.currency = products[0].price_currency_code;\r\n\r\n            this.client.session.features['newContest'].purchaseData.retrieved = true;\r\n\r\n            //-------------------------------------------------------------------------------------------------------------\r\n            //Retrieve unconsumed items - and checking if user has an unconsumed 'new contest unlock key'\r\n            //-------------------------------------------------------------------------------------------------------------\r\n            window.inappbilling.getPurchases((unconsumedItems) => {\r\n                if (unconsumedItems && unconsumedItems.length > 0) {\r\n                  for (var i = 0; i < unconsumedItems.length; i++) {\r\n                    if (unconsumedItems[i].productId === this.client.session.features['newContest'].purchaseData.productId) {\r\n                      this.processAndroidPurchase(unconsumedItems[i]);\r\n                      break;\r\n                    }\r\n                  }\r\n                }\r\n              },\r\n              (error) => {\r\n                analyticsService.logError('AndroidBillingRetrieveUnconsumedItems', error);\r\n              });\r\n\r\n          },\r\n          function (msg) {\r\n            analyticsService.logError('AndroidBillingProductDetailsError', msg);\r\n          }, this.client.session.features['newContest'].purchaseData.productId);\r\n      }\r\n    }\r\n    else {\r\n      this.client.session.features['newContest'].purchaseData.retrieved = true;\r\n    }\r\n\r\n  }\r\n\r\n  ionViewWillEnter() {\r\n    var eventData = {'mode': this.params.data.mode};\r\n    if (this.params.data.mode === 'edit') {\r\n      eventData['contestId'] = this.params.data.contest._id;\r\n    }\r\n    analyticsService.track('page/setContest', eventData);\r\n    this.submitted = false;\r\n  }\r\n\r\n  //Reflect changes in UI to data model\r\n  formChanged(controlName: string) {\r\n      switch (controlName) {\r\n          case 'team0':\r\n              this.contestLocalCopy.teams[0].name = this.contestForm.controls['teams']['controls']['team0'].value;\r\n              break;\r\n          case 'team1':\r\n              this.contestLocalCopy.teams[1].name = this.contestForm.controls['teams']['controls']['team1'].value;\r\n              break;\r\n          case 'subject':\r\n              this.contestLocalCopy.subject = this.contestForm.controls[controlName].value;\r\n              break;\r\n          case 'endOption':\r\n              this.contestLocalCopy.endOption = this.contestForm.controls[controlName].value;\r\n              this.setEndsIn();\r\n              break;\r\n          case 'randomOrder':\r\n              this.contestLocalCopy.type.randomOrder = this.contestForm.controls[controlName].value;\r\n              break;\r\n      }\r\n  }\r\n\r\n  retrieveUserQuestions() {\r\n    contestsService.getQuestions(this.contestLocalCopy.type.userQuestions).then((questions) => {\r\n      this.contestLocalCopy.type.questions = {'visibleCount': questions.length, 'list': questions};\r\n    }, () => {\r\n    });\r\n  }\r\n\r\n  processAndroidPurchase(purchaseData) {\r\n\r\n    return new Promise<string>((resolve, reject) => {\r\n\r\n      var extraPurchaseData = {\r\n        'actualCost': this.client.session.features['newContest'].purchaseData.cost,\r\n        'actualCurrency': this.client.session.features['newContest'].purchaseData.currency,\r\n        'featurePurchased': this.client.session.features['newContest'].name\r\n      };\r\n\r\n      paymentService.processPayment('android', purchaseData, extraPurchaseData).then((serverPurchaseData) => {\r\n\r\n        this.client.showLoader();\r\n\r\n        window.inappbilling.consumePurchase((purchaseData) => {\r\n\r\n            this.client.hideLoader();\r\n\r\n            if (resolve) {\r\n              resolve(purchaseData);\r\n            }\r\n            paymentService.showPurchaseSuccess(serverPurchaseData);\r\n          }, (error) => {\r\n\r\n            this.client.hideLoader();\r\n            analyticsService.logError('AndroidBillingConsumeProductError', error);\r\n            if (reject) {\r\n              reject();\r\n            }\r\n          },\r\n          purchaseData.productId);\r\n      }, () => {\r\n      });\r\n\r\n    });\r\n  }\r\n\r\n  buyNewContestUnlockKey(isMobile) {\r\n    debugger;\r\n    this.buyInProgress = true;\r\n    paymentService.buy(this.client.session.features['newContest'], isMobile).then((result:PaymentData) => {\r\n        switch (result.method) {\r\n          case 'paypal':\r\n            location.replace(result.data.url);\r\n            break;\r\n\r\n          case 'facebook':\r\n            if (result.data.status === 'completed') {\r\n              paymentService.processPayment(result.method, result.data, null).then((serverPurchaseData) => {\r\n                  //Update local assets\r\n                  this.buyInProgress = false;\r\n                  paymentService.showPurchaseSuccess(serverPurchaseData);\r\n                }, () => {\r\n                  this.buyInProgress = false;\r\n                }\r\n              )\r\n            }\r\n            else if (result.data.status === 'initiated') {\r\n              //Payment might come later from server\r\n              alertService.alert({'type': 'SERVER_ERROR_PURCHASE_IN_PROGRESS'});\r\n            }\r\n            else {\r\n              //Probably user canceled\r\n              this.buyInProgress = false;\r\n            }\r\n            break;\r\n\r\n          case 'android':\r\n            this.processAndroidPurchase(result.data).then(() => {\r\n                this.buyInProgress = false;\r\n              },\r\n              () => {\r\n                this.buyInProgress = false;\r\n              })\r\n            break;\r\n        }\r\n      }, () => {\r\n        this.buyInProgress = false;\r\n      }\r\n    )\r\n  }\r\n\r\n  userQuestionsMinimumError() {\r\n\r\n    if (this.userQuestionsInvalid) {\r\n      return true;\r\n    }\r\n    else {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  maxQuestionsReached() {\r\n    return (this.contestLocalCopy.type.questions && this.contestLocalCopy.type.questions.visibleCount === this.client.settings['newContest'].privateQuestions.max);\r\n  }\r\n\r\n  openQuestionEditor(mode, question) {\r\n\r\n    if (mode === 'add') {\r\n      if (this.maxQuestionsReached()) {\r\n        alertService.alert(this.client.translate('MAX_USER_QUESTIONS_REACHED', {max: this.client.settings['newContest'].privateQuestions.max}));\r\n        return;\r\n      }\r\n    }\r\n\r\n    var modal = this.client.createModalPage('QuestionEditorPage', {\r\n      'question': question,\r\n      'mode': mode,\r\n      'currentQuestions': this.contestLocalCopy.type.questions\r\n    });\r\n    modal.onDidDismiss((result) => {\r\n      if (!result) {\r\n        return;\r\n      }\r\n\r\n      this.userQuestionsInvalid = null;\r\n\r\n      if (!result.question._id) {\r\n        //New questions\r\n        result.question._id = 'new';\r\n        this.contestLocalCopy.type.questions.list.push(result.question);\r\n        this.contestLocalCopy.type.questions.visibleCount++;\r\n      }\r\n      else if (result.question._id !== 'new') {\r\n        //Set dirty flag for the question - so server will update it in the db\r\n        result.question.isDirty = true;\r\n      }\r\n    });\r\n\r\n    modal.present();\r\n  }\r\n\r\n  openSearchQuestions() {\r\n\r\n    if (this.maxQuestionsReached()) {\r\n      alertService.alert(this.client.translate('MAX_USER_QUESTIONS_REACHED', {max: this.client.settings['newContest'].privateQuestions.max}));\r\n      return;\r\n    }\r\n\r\n    this.client.showModalPage('SearchQuestionsPage', {'currentQuestions': this.contestLocalCopy.type.questions});\r\n  }\r\n\r\n  removeQuestion(index) {\r\n\r\n    alertService.confirm('REMOVE_QUESTION', 'CONFIRM_REMOVE_QUESTION').then(() => {\r\n      if (this.contestLocalCopy.type.questions.list && index < this.contestLocalCopy.type.questions.list.length) {\r\n        if (this.contestLocalCopy.type.questions.list[index]._id && this.contestLocalCopy.type.questions.list[index]._id !== 'new') {\r\n          //Question has an id in the database - logically remove\r\n          this.contestLocalCopy.type.questions.list[index].deleted = true;\r\n        }\r\n        else {\r\n          //Question does not have an actual id in the database - physically remove\r\n          this.contestLocalCopy.type.questions.list.splice(index, 1);\r\n        }\r\n        this.contestLocalCopy.type.questions.visibleCount--;\r\n      }\r\n    }, () => {\r\n      //do nothing on cancel\r\n    });\r\n  }\r\n\r\n  setContest() {\r\n\r\n    analyticsService.track('contest/set');\r\n    this.submitted = true;\r\n    if (!this.contestForm.valid) {\r\n      return;\r\n    }\r\n\r\n    //Check min questions in user Trivia\r\n    if (this.contestLocalCopy.type.id === 'userTrivia') {\r\n      if (!this.contestLocalCopy.type.questions || this.contestLocalCopy.type.questions.visibleCount < this.client.settings['newContest'].privateQuestions.min) {\r\n\r\n        if (this.client.settings['newContest'].privateQuestions.min === 1) {\r\n          this.userQuestionsInvalid = this.client.translate('SERVER_ERROR_MINIMUM_USER_QUESTIONS_SINGLE_MESSAGE', {minimum: this.client.settings['newContest'].privateQuestions.min});\r\n        }\r\n        else {\r\n          this.userQuestionsInvalid = this.client.translate('SERVER_ERROR_MINIMUM_USER_QUESTIONS_SINGLE_MESSAGE', {minimum: this.client.settings['newContest'].privateQuestions.min});\r\n        }\r\n\r\n        return;\r\n      }\r\n    }\r\n\r\n    let isDirty:boolean = false;\r\n    if (this.params.data.mode === 'add') {\r\n      isDirty = true;\r\n    }\r\n    else {\r\n      //edit mode\r\n      if (this.contestLocalCopy.teams[0].name !== this.params.data.contest.teams[0].name ||\r\n        this.contestLocalCopy.teams[1].name !== this.params.data.contest.teams[1].name ||\r\n        this.contestLocalCopy.subject !== this.params.data.contest.subject) {\r\n        isDirty = true;\r\n      }\r\n      if (!isDirty &&\r\n        (this.contestLocalCopy.startDate !== this.params.data.contest.startDate ||\r\n        this.contestLocalCopy.endDate !== this.params.data.contest.endDate ||\r\n        (this.contestLocalCopy.teams[0].score !== undefined && this.params.data.contest.teams[0].score !== undefined && this.contestLocalCopy.teams[0].score !== this.params.data.contest.teams[0].score) ||\r\n        (this.contestLocalCopy.teams[1].score !== undefined && this.params.data.contest.teams[1].score !== undefined && this.contestLocalCopy.teams[1].score !== this.params.data.contest.teams[1].score) ||\r\n        (this.contestLocalCopy.systemParticipants !== undefined && this.params.data.contest.systemParticipants !== undefined && this.contestLocalCopy.systemParticipants !== this.params.data.contest.systemParticipants) ||\r\n        (this.contestLocalCopy.rating !== undefined && this.params.data.contest.rating !== undefined && this.contestLocalCopy.rating !== this.params.data.contest.rating))) {\r\n        isDirty = true;\r\n      }\r\n      if (!isDirty && this.contestLocalCopy.type.id === 'userTrivia' && JSON.stringify(this.contestLocalCopy.type) !== JSON.stringify(this.params.data.contest.type)) {\r\n        isDirty = true;\r\n      }\r\n    }\r\n\r\n    if (isDirty) {\r\n\r\n      if (this.client.session.isAdmin) {\r\n        //Check if scores have changed and update the deltas\r\n        if (this.contestLocalCopy.teams[0].score !== undefined) {\r\n          if (this.params.data.mode === 'edit' && this.contestLocalCopy.teams[0].score !== this.params.data.contest.teams[0].score) {\r\n            this.contestLocalCopy.teams[0].adminScoreAddition = this.contestLocalCopy.teams[0].score - this.params.data.contest.teams[0].score;\r\n          }\r\n          else if (this.params.data.mode === 'add') {\r\n            this.contestLocalCopy.teams[0].adminScoreAddition = this.contestLocalCopy.teams[0].score;\r\n          }\r\n          delete this.contestLocalCopy.teams[0].score;\r\n        }\r\n        if (this.contestLocalCopy.teams[1].score !== undefined) {\r\n          if (this.params.data.mode === 'edit' && this.contestLocalCopy.teams[1].score !== this.params.data.contest.teams[1].score) {\r\n            this.contestLocalCopy.teams[1].adminScoreAddition = this.contestLocalCopy.teams[1].score - this.params.data.contest.teams[1].score;\r\n          }\r\n          else if (this.params.data.mode === 'add') {\r\n            this.contestLocalCopy.teams[1].adminScoreAddition = this.contestLocalCopy.teams[1].score;\r\n          }\r\n          delete this.contestLocalCopy.teams[1].score;\r\n        }\r\n      }\r\n\r\n      contestsService.setContest(this.contestLocalCopy, this.params.data.mode).then((contest) => {\r\n\r\n        //Report to Analytics\r\n        var contestParams = {\r\n          'team0': this.contestLocalCopy.teams[0].name,\r\n          'team1': this.contestLocalCopy.teams[1].name,\r\n          'duration': this.contestLocalCopy.endOption,\r\n          'typeId': this.contestLocalCopy.type.id\r\n        };\r\n\r\n        if (this.params.data.mode === 'add') {\r\n          analyticsService.track('contest/created', contestParams);\r\n          this.client.events.publish('app:contestCreated', contest);\r\n          this.client.nav.pop({animate: false}).then(() => {\r\n            let appPages : Array<AppPage> = new Array<AppPage>();\r\n            appPages.push(new AppPage('ContestPage', {'contest': contest}));\r\n            appPages.push(new AppPage('SharePage', {'contest': contest, 'source': 'newContest'}));\r\n            this.client.insertPages(appPages);\r\n          }, () => {\r\n          });\r\n        }\r\n        else {\r\n          analyticsService.track('contest/updated', contestParams);\r\n          let currentStatus: string = contestsService.getContestStatus(this.contestLocalCopy);\r\n          let previousStatus: string = contestsService.getContestStatus(this.params.data.contest);\r\n\r\n          this.client.events.publish('app:contestUpdated', contest, previousStatus, currentStatus);\r\n          this.client.nav.pop();\r\n        }\r\n      }, () => {\r\n      });\r\n    }\r\n    else {\r\n      this.client.nav.pop();\r\n    }\r\n  }\r\n\r\n  matchingTeamsValidator(group: FormGroup) {\r\n\r\n      return new Promise((resolve, reject) => {\r\n          let value;\r\n          let valid = true;\r\n\r\n          for (var name in group.controls) {\r\n\r\n              //Empty value in one of the teams will be caught in the required validator\r\n              if (!group.controls[name].value) {\r\n                  resolve(null);\r\n              }\r\n\r\n              if (value === undefined) {\r\n                  value = group.controls[name].value;\r\n              }\r\n              else {\r\n                  if (value && group.controls[name].value && value.trim() === group.controls[name].value.trim()) {\r\n                      valid = false;\r\n                      break;\r\n                  }\r\n              }\r\n          }\r\n\r\n          if (valid) {\r\n              resolve(null);\r\n          }\r\n\r\n          resolve({ matchingTeams: true });\r\n      });\r\n  }\r\n\r\n  setEndsIn() {\r\n    this.contestLocalCopy.endDate = this.getEndDateAccordingToEndsIn(this.contestLocalCopy.endOption);\r\n    analyticsService.track('newContest/endsIn/click', {'endsIn': this.contestLocalCopy.endOption});\r\n  }\r\n\r\n  getEndDateAccordingToEndsIn(endsIn: string) {\r\n    var endOption = this.client.settings['newContest'].endOptions[endsIn];\r\n    var endDate = this.nowWithoutTimeEpoch + this.currentTimeOnlyInMilliseconds + (endOption.number * endOption.msecMultiplier);\r\n    return endDate;\r\n  }\r\n\r\n  setAdminInfo() {\r\n\r\n    if (!this.contestLocalCopy.systemParticipants) {\r\n      this.contestLocalCopy.systemParticipants = 0;\r\n    }\r\n\r\n    if (!this.contestLocalCopy.rating) {\r\n      this.contestLocalCopy.rating = 0;\r\n    }\r\n\r\n    if (!this.contestLocalCopy.teams[0].score && this.contestLocalCopy.teams[0].score !== 0) {\r\n      if (this.params.data.mode === 'edit') {\r\n        this.contestLocalCopy.teams[0].score = this.params.data.contest.teams[0].score;\r\n      }\r\n      else {\r\n        this.contestLocalCopy.teams[0].score = 0;\r\n      }\r\n      this.contestLocalCopy.teams[0].adminScoreAddition = 0;\r\n    }\r\n    if (!this.contestLocalCopy.teams[1].score && this.contestLocalCopy.teams[1].score !== 0) {\r\n      if (this.params.data.mode === 'edit') {\r\n        this.contestLocalCopy.teams[1].score = this.params.data.contest.teams[1].score;\r\n      }\r\n      else {\r\n        this.contestLocalCopy.teams[1].score = 0;\r\n      }\r\n      this.contestLocalCopy.teams[1].adminScoreAddition = 0;\r\n    }\r\n\r\n    var contestName;\r\n    if (this.params.data.mode === 'edit') {\r\n      contestName = this.params.data.contest.name.long;\r\n    }\r\n    else {\r\n      contestName = this.client.translate('CONTEST_NAME_LONG', {\r\n        'team0': this.contestLocalCopy.teams[0].name,\r\n        'team1': this.contestLocalCopy.teams[1].name,\r\n        'subject': this.contestLocalCopy.subject\r\n      });\r\n    }\r\n\r\n    this.client.openPage('SetContestAdminPage',\r\n      {\r\n        'contestLocalCopy': this.contestLocalCopy,\r\n        'mode': this.params.data.mode,\r\n        'title': this.title,\r\n        'contestName': contestName\r\n      });\r\n  }\r\n\r\n  endDateSelected(dateSelection) {\r\n    //Set the end date at the end of this day (e.g. 23:59:59.999)\r\n    this.contestLocalCopy.endDate = dateSelection.epochLocal + this.currentTimeOnlyInMilliseconds;\r\n    if (this.contestLocalCopy.endDate < this.contestLocalCopy.startDate) {\r\n      let startDate:Date = new Date(this.contestLocalCopy.startDate);\r\n      startDate.clearTime(); //Start of the day\r\n      this.contestLocalCopy.endDate = startDate.getTime() + 24*60*60*1000 - 1; //The end of the day of the start date (e.g. 23:59:59.999)\r\n    }\r\n  }\r\n\r\n  getMaxEndDate() {\r\n    if (!this.client.session.isAdmin) {\r\n      //Allow extending by the maximum end date option in the list\r\n      var endOption = this.client.settings['newContest'].endOptions[this.endOptionKeys[this.endOptionKeys.length - 1]];\r\n      return this.nowWithoutTimeEpoch + this.currentTimeOnlyInMilliseconds + (endOption.number * endOption.msecMultiplier);\r\n    }\r\n    else {\r\n      //Unlimited\r\n      return null;\r\n    }\r\n  }\r\n\r\n  subjectFocus() {\r\n    if (!this.readOnlySubjectAlerted && this.contestLocalCopy.type.id === 'systemTrivia' && !this.client.session.isAdmin) {\r\n      this.readOnlySubjectAlerted = true;\r\n      alertService.alert({\r\n        'type': 'SERVER_ERROR_SUBJECT_DISABLED_IN_SYSTEM_TRIVIA'\r\n      });\r\n    }\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/set-contest/set-contest.ts","import {Component} from '@angular/core';\r\nimport {NavParams, ViewController} from 'ionic-angular';\r\nimport {Client} from '../../providers/client';\r\nimport * as analyticsService from '../../providers/analytics';\r\nimport * as contestsService from '../../providers/contests';\r\nimport * as alertService from '../../providers/alert';\r\nimport {CalendarCell} from '../../objects/objects';\r\n\r\n@Component({\r\n  templateUrl: 'set-contest-admin.html'\r\n})\r\n\r\nexport class SetContestAdminPage {\r\n\r\n  client:Client;\r\n  params:NavParams;\r\n  viewController: ViewController;\r\n\r\n  showRemoveContest:Boolean;\r\n\r\n  constructor(params:NavParams, viewController: ViewController) {\r\n\r\n    this.client = Client.getInstance();\r\n    this.params = params;\r\n    this.viewController = viewController;\r\n\r\n    this.showRemoveContest = (this.params.data.mode === 'edit' && this.client.session.isAdmin);\r\n\r\n  }\r\n\r\n  ionViewWillEnter() {\r\n    var eventData = {'mode': this.params.data.mode};\r\n    if (this.params.data.mode === 'edit') {\r\n      eventData['contestId'] = this.params.data.contestLocalCopy._id;\r\n    }\r\n    analyticsService.track('page/setContestAdmin', eventData);\r\n  }\r\n\r\n  ionViewDidLeave() {\r\n    //For some reason manipulating the numbers and sliders turns them to strings in the model\r\n    this.params.data.contestLocalCopy.teams[0].score = parseInt(this.params.data.contestLocalCopy.teams[0].score);\r\n    this.params.data.contestLocalCopy.teams[1].score = parseInt(this.params.data.contestLocalCopy.teams[1].score);\r\n    this.params.data.contestLocalCopy.systemParticipants = parseInt(this.params.data.contestLocalCopy.systemParticipants);\r\n    this.params.data.contestLocalCopy.rating = parseInt(this.params.data.contestLocalCopy.rating);\r\n  }\r\n\r\n  startDateSelected(dateSelection: CalendarCell) {\r\n    var nowDateWithTime = new Date();\r\n    var nowDateWithoutTime = new Date();\r\n    nowDateWithoutTime .clearTime();\r\n    var nowEpochWithTime = nowDateWithTime.getTime();\r\n    var nowEpochWithoutTime = nowDateWithoutTime.getTime();\r\n    var currentTimeInMilliseconds = nowEpochWithTime - nowEpochWithoutTime;\r\n    if (this.params.data.mode === 'add') {\r\n      if (dateSelection.epochLocal > nowEpochWithoutTime) {\r\n        //Future date - move end date respectfully\r\n        this.params.data.contestLocalCopy.endDate += dateSelection.epochLocal - nowEpochWithoutTime + currentTimeInMilliseconds;\r\n      }\r\n    }\r\n\r\n    this.params.data.contestLocalCopy.startDate = dateSelection.epochLocal + currentTimeInMilliseconds;\r\n    if (this.params.data.contestLocalCopy.startDate > this.params.data.contestLocalCopy.endDate) {\r\n      this.params.data.contestLocalCopy.endDate = this.params.data.contestLocalCopy.startDate + 24*60*60*1000; //add additional 24 hours\r\n    }\r\n  }\r\n\r\n  removeContest() {\r\n    analyticsService.track('contest/remove/click', {'contestId': this.params.data.contestLocalCopy._id});\r\n    alertService.confirm('CONFIRM_REMOVE_TITLE', 'CONFIRM_REMOVE_TEMPLATE', {name: this.params.data.contestName}).then(() => {\r\n      analyticsService.track('contest/removed', {'contestId': this.params.data.contestLocalCopy._id});\r\n      contestsService.removeContest(this.params.data.contestLocalCopy._id).then(() => {\r\n        let now: number = (new Date()).getTime();\r\n        let finishedContest: boolean = (this.params.data.contestLocalCopy.endDate < now);\r\n        this.client.events.publish('app:contestRemoved', this.params.data.contestLocalCopy._id, finishedContest);\r\n        setTimeout(() => {\r\n          this.client.nav.popToRoot({animate: false});\r\n        }, 1000);\r\n      }, () => {\r\n\r\n      });\r\n    }, () => {\r\n      //Do nothing on cancel\r\n    });\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/set-contest-admin/set-contest-admin.ts","import {Component,ViewChild,ElementRef} from '@angular/core';\r\nimport {FormControl, FormGroup, Validators} from '@angular/forms';\r\nimport {Client} from '../../providers/client';\r\nimport * as analyticsService from '../../providers/analytics';\r\nimport * as connectService from '../../providers/connect';\r\nimport {ConnectInfo,Contest} from '../../objects/objects';\r\n\r\n@Component({\r\n  templateUrl: 'set-user.html'\r\n})\r\n\r\nexport class SetUserPage {\r\n\r\n  client:Client;\r\n  userForm:FormGroup;\r\n  avatars:Array<any>;\r\n  user:any;\r\n  submitted:boolean;\r\n\r\n  //Ionic bug - maxlength property is not copied to the native element, submitted:\r\n  //https://github.com/driftyco/ionic/issues/7635\r\n  @ViewChild('nameInput') nameInput:ElementRef;\r\n\r\n  constructor() {\r\n\r\n    this.client = Client.getInstance();\r\n    this.avatars = new Array<any>();\r\n    this.addAvatar(this.client.session.avatar.id, true);\r\n    for (var i=0; i<this.client.settings.general.avatars.length; i++) {\r\n      if (this.client.settings.general.avatars[i] !== this.client.session.avatar.id) {\r\n        this.addAvatar(this.client.settings.general.avatars[i], false);\r\n      }\r\n    }\r\n\r\n    this.user = {\r\n      avatar: this.client.session.avatar.id,\r\n      //If session has a dob - the profile was already updated once - show the name\r\n      //Otherwise - display an empty name to force the user to enter a name\r\n      name: this.client.session.dob ? this.client.session.name : '',\r\n      dob: this.client.session.dob ? this.client.session.dob : (new Date(2000,0,1)).getTime()\r\n    }\r\n\r\n    //Init form\r\n    this.userForm = new FormGroup({\r\n      name: new FormControl(this.user.name, [Validators.required, Validators.maxLength(this.client.settings.general.inputs.name.maxLength)])\r\n    });\r\n\r\n  }\r\n\r\n  ngAfterViewInit() {\r\n    this.nameInput['_native']._elementRef.nativeElement.maxLength = this.client.settings.general.inputs.name.maxLength;\r\n  }\r\n\r\n  ionViewWillEnter() {\r\n    analyticsService.track('page/setUser');\r\n    this.submitted = false;\r\n  }\r\n\r\n  addAvatar(id:string, selected:boolean) {\r\n    let avatar:any = {};\r\n    avatar.id = id;\r\n    avatar.src = this.client.getGuestAvatarUrl(id);\r\n    avatar.selected = selected;\r\n    this.avatars.push(avatar);\r\n  }\r\n\r\n  avatarClick(id) {\r\n    for(var i=0; i<this.avatars.length; i++) {\r\n      if (this.avatars[i].id === id) {\r\n        this.avatars[i].selected = true;\r\n      }\r\n      else {\r\n        this.avatars[i].selected = false;\r\n      }\r\n    }\r\n    this.user.avatar = id;\r\n  }\r\n\r\n  getMaxEndDate() {\r\n    return (new Date()).getTime() - 24 * 60 * 60 * 1000;\r\n  }\r\n\r\n  dobSelected(dateSelection) {\r\n    //Set the end date at the end of this day (e.g. 23:59:59.999)\r\n    this.user.dob = dateSelection.epochLocal;\r\n  }\r\n\r\n  setUser() {\r\n\r\n    analyticsService.track('user/set/click');\r\n    this.submitted = true;\r\n    if (!this.userForm.valid) {\r\n      return;\r\n    }\r\n\r\n    //If nothing changed - close page without saving\r\n    if (this.user.name === this.client.session.name &&\r\n      this.user.dob === this.client.session.dob &&\r\n      this.user.avatar === this.client.session.avatar.id) {\r\n      this.client.nav.pop();\r\n      return;\r\n    }\r\n\r\n    this.client.setUser(this.user).then( (contests:Array<Contest>)=> {\r\n      this.client.nav.pop();\r\n    },()=>{\r\n    });\r\n  }\r\n\r\n  facebookLogin() {\r\n    connectService.facebookLogin().then((connectInfo:ConnectInfo)=> {\r\n      this.client.upgradeGuest(connectInfo).then(()=>{\r\n        connectService.storeCredentials(connectInfo);\r\n        if (this.client.nav.canGoBack()) {\r\n          //In the scenraio of switch to another existing facebook user\r\n          //The client already popped evreything up to the root\r\n          this.client.nav.pop();\r\n        }\r\n      },()=>{\r\n      })\r\n    }, ()=> {\r\n    });\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/set-user/set-user.ts","import {Component} from '@angular/core';\r\nimport {Client} from '../../providers/client';\r\nimport * as connectService from '../../providers/connect';\r\nimport * as analyticsService from '../../providers/analytics';\r\n\r\n@Component({\r\n  templateUrl: 'settings.html'\r\n})\r\n\r\nexport class SettingsPage {\r\n\r\n  client:Client;\r\n  originalLanguage:string;\r\n\r\n  constructor() {\r\n    this.client = Client.getInstance();\r\n  }\r\n\r\n  ionViewWillEnter() {\r\n    analyticsService.track('page/settings');\r\n    this.originalLanguage = this.client.session.settings.language;\r\n  }\r\n\r\n  ionViewDidLeave() {\r\n    if (this.client.session.settings.language != this.originalLanguage) {\r\n      let directionChanged : boolean = false;\r\n      if (this.client.settings.languages[this.client.session.settings.language].direction !== this.client.settings.languages[this.originalLanguage].direction) {\r\n        directionChanged = true;\r\n      }\r\n      this.client.events.publish('app:languageChanged', directionChanged);\r\n    }\r\n  }\r\n\r\n  toggleSettings(name: string, initPushService?:boolean) {\r\n    analyticsService.track('settings/' + name + '/' + !this.client.session.settings[name]);\r\n    this.client.toggleSettings(name).then(() => {\r\n      if (initPushService) {\r\n        this.client.initPushService();\r\n      }\r\n    }, () => {\r\n      //Revert GUI on server error\r\n      let currentValue: boolean = this.client.getRecursiveProperty(this.client.session.settings, name);\r\n      this.client.setRecursiveProperty(this.client.session.settings, name, !currentValue);\r\n    });\r\n  }\r\n\r\n  switchLanguage() {\r\n    this.client.switchLanguage().then(()=> {\r\n    }, () => {\r\n    });\r\n  }\r\n\r\n  logout() {\r\n    analyticsService.track('settings/logout');\r\n    connectService.logout().then(() => {\r\n      this.client.logout();\r\n      this.client.setRootPage('LoginPage');\r\n    },()=>{\r\n    });\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/settings/settings.ts","import {Component} from '@angular/core';\r\nimport {NavParams} from 'ionic-angular';\r\nimport {Client} from '../../providers/client';\r\nimport * as analyticsService from '../../providers/analytics';\r\nimport * as shareService from '../../providers/share';\r\nimport {ShareVariables} from '../../objects/objects';\r\n\r\n@Component({\r\n  templateUrl: 'share.html'\r\n})\r\n\r\nexport class SharePage {\r\n\r\n  client:Client;\r\n  params:NavParams;\r\n  shareVariables:ShareVariables;\r\n  title:string;\r\n  isNewContest:boolean;\r\n\r\n  constructor(params:NavParams) {\r\n    this.client = Client.getInstance();\r\n    this.params = params;\r\n\r\n    this.isNewContest = (params.data.source === 'newContest');\r\n    if (this.isNewContest) {\r\n      this.title = this.client.translate('INVITE_FRIENDS_FOR_NEW_CONTEST_MESSAGE');\r\n    }\r\n    else {\r\n      this.title = this.client.translate('SHARE_WITH_FRIENDS_MESSAGE');\r\n    }\r\n\r\n    this.shareVariables = shareService.getVariables(this.params.data.contest, this.isNewContest);\r\n  }\r\n\r\n  ionViewWillEnter() {\r\n    if (this.params.data.contest) {\r\n      analyticsService.track('page/share', {\r\n        contestId: this.params.data.contest._id,\r\n        source: this.params.data.source\r\n      });\r\n    }\r\n    else {\r\n      analyticsService.track('page/share', {source: this.params.data.source});\r\n    }\r\n  }\r\n\r\n  webShare(network:any) {\r\n    analyticsService.track('share/web/' + network.name);\r\n    window.open(network.url.format({\r\n      url: this.shareVariables.shareUrl,\r\n      subject: this.shareVariables.shareSubject,\r\n      emailBody: this.shareVariables.shareBodyEmail\r\n    }), '_blank');\r\n    this.client.nav.pop();\r\n  }\r\n\r\n  mobileShare(appName?:string) {\r\n    analyticsService.track('share/mobile' + (appName ? '/' + appName : ''));\r\n    shareService.mobileShare(appName, this.params.data.contest, this.isNewContest).then(() => {\r\n    }, () => {\r\n    });\r\n    this.client.nav.pop();\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/share/share.ts","import {Client} from './client';\r\nimport {ShareVariables,ClientShareApp,ClientShareDiscoverApp,Contest} from '../objects/objects';\r\nimport * as analyticsService from './analytics';\r\n\r\nconst EMAIL_REF:string = '?ref=shareEmail';\r\n\r\nexport let getVariables = (contest?:Contest, isNewContest?:boolean) => {\r\n\r\n  var client = Client.getInstance();\r\n  let shareVariables:ShareVariables = new ShareVariables();\r\n  let subjectField:string;\r\n  let bodyField:string;\r\n\r\n  var params = {};\r\n\r\n  shareVariables.shareImage = client.settings.general.baseUrl + client.settings.general.logoUrl;\r\n\r\n  if (contest) {\r\n\r\n    params['team0'] = contest.teams[0].name.toLowerCase();\r\n    params['team1'] = contest.teams[1].name.toLowerCase();\r\n\r\n    shareVariables.shareUrl = contest.link;\r\n\r\n    if (isNewContest) {\r\n      subjectField = 'SHARE_SUBJECT_NEW_CONTEST';\r\n      bodyField = 'SHARE_BODY_NEW_CONTEST';\r\n    }\r\n    else if (contest.myTeam === 0 || contest.myTeam === 1) {\r\n      params['myTeam'] = contest.teams[contest.myTeam].name.toLowerCase();\r\n      params['otherTeam'] = contest.teams[1 - contest.myTeam].name.toLowerCase();\r\n      subjectField = 'SHARE_SUBJECT_CONTEST_JOINED';\r\n      bodyField = 'SHARE_BODY_CONTEST_JOINED';\r\n    }\r\n    else {\r\n      subjectField = 'SHARE_SUBJECT_CONTEST_NOT_JOINED';\r\n      bodyField = 'SHARE_BODY_CONTEST_NOT_JOINED';\r\n    }\r\n  }\r\n  else {\r\n    shareVariables.shareUrl = client.settings.general.downloadUrl[client.currentLanguage.value];\r\n    subjectField = 'SHARE_SUBJECT_GENERAL';\r\n    bodyField = 'SHARE_BODY_GENERAL';\r\n  }\r\n\r\n  shareVariables.shareSubject = client.translate(subjectField, params);\r\n  shareVariables.shareBodyNoUrl = client.translate(bodyField, params);\r\n  shareVariables.shareBody = shareVariables.shareBodyNoUrl + ' ' + shareVariables.shareUrl;\r\n  shareVariables.shareBodyEmail = shareVariables.shareBody + EMAIL_REF;\r\n\r\n  return shareVariables;\r\n}\r\n\r\nexport let mobileDiscoverSharingApps = () => {\r\n\r\n  var client = Client.getInstance();\r\n  let shareVariables:ShareVariables = this.getVariables();\r\n\r\n  var promises = [];\r\n  client.settings.share.mobile.discoverApps.forEach((shareApp:ClientShareDiscoverApp) => {\r\n    promises.push(this.mobileDiscoverApp(client, shareApp, shareVariables));\r\n  });\r\n\r\n  Promise.all(promises).then(() => {\r\n\r\n    for (let i:number = 0; i < client.settings.share.mobile.discoverApps.length; i++) {\r\n      if (client.settings.share.mobile.discoverApps[i].package[client.clientInfo.platform].installed && client.shareApps.length < client.settings.share.mobile.maxApps) {\r\n        client.shareApps.push(new ClientShareApp(client.settings.share.mobile.discoverApps[i].name, client.settings.share.mobile.discoverApps[i].title, client.settings.share.mobile.discoverApps[i].image));\r\n      }\r\n      else if (client.shareApps.length === client.settings.share.mobile.maxApps) {\r\n        break;\r\n      }\r\n    }\r\n\r\n    if (client.shareApps.length < client.settings.share.mobile.maxApps) {\r\n      for (let i:number = 0; i < client.settings.share.mobile.extraApps.length; i++) {\r\n        if (client.shareApps.length < client.settings.share.mobile.maxApps) {\r\n          client.shareApps.push(client.settings.share.mobile.extraApps[i])\r\n        }\r\n        else {\r\n          break;\r\n        }\r\n      }\r\n    }\r\n  },()=>{\r\n  });\r\n}\r\n\r\nexport let mobileDiscoverApp = (client:any, shareApp:ClientShareDiscoverApp, shareVariables:ShareVariables) => {\r\n\r\n  return new Promise((resolve:any, reject:any) => {\r\n\r\n    window.plugins.socialsharing.canShareVia(shareApp.package[client.clientInfo.platform].name, shareVariables.shareBodyNoUrl,\r\n      shareVariables.shareSubject,\r\n      shareVariables.shareImage,\r\n      shareVariables.shareUrl,\r\n      (result) => {\r\n        if (result === 'OK' && client.shareApps.length < client.settings.share.mobile.maxApps) {\r\n          //Not inserting directly to client.shareApps because it might be inserted not in the same\r\n          //order (async) of apps as was determined by the server\r\n          shareApp.package[client.clientInfo.platform].installed = true;\r\n        }\r\n        resolve();\r\n      },\r\n      () => {\r\n        resolve();\r\n      }\r\n    );\r\n  });\r\n}\r\n\r\nexport let mobileShare = (appName?:string, contest?:Contest, isNewContest?:boolean) => {\r\n\r\n  return new Promise((resolve:any, reject:any) => {\r\n\r\n    let shareVariables:ShareVariables = this.getVariables(contest, isNewContest);\r\n    switch (appName) {\r\n      case 'whatsapp':\r\n        window.plugins.socialsharing.shareViaWhatsApp(shareVariables.shareBodyNoUrl,\r\n          shareVariables.shareImage,\r\n          shareVariables.shareUrl,\r\n          () => {\r\n            resolve();\r\n          },\r\n          (err) => {\r\n            analyticsService.logError('WhatsApp Share', err);\r\n            reject();\r\n          }\r\n        )\r\n        break;\r\n      case 'facebook':\r\n        window.plugins.socialsharing.shareViaFacebook(shareVariables.shareBodyNoUrl,\r\n          shareVariables.shareImage,\r\n          shareVariables.shareUrl,\r\n          () => {\r\n            resolve();\r\n          },\r\n          (err) => {\r\n            analyticsService.logError('Facebook Share', err);\r\n            reject();\r\n          }\r\n        )\r\n        break;\r\n      case 'instagram':\r\n        window.plugins.socialsharing.shareViaInstagram(shareVariables.shareBody,\r\n          shareVariables.shareImage,\r\n          () => {\r\n            resolve();\r\n          },\r\n          (err) => {\r\n            analyticsService.logError('Instagram Share', err);\r\n            reject();\r\n          }\r\n        )\r\n        break;\r\n      case 'twitter':\r\n        window.plugins.socialsharing.shareViaTwitter(shareVariables.shareBodyNoUrl,\r\n          shareVariables.shareImage,\r\n          shareVariables.shareUrl,\r\n          () => {\r\n            resolve();\r\n          },\r\n          (err) => {\r\n            analyticsService.logError('Twitter Share', err);\r\n            reject();\r\n          }\r\n        )\r\n        break;\r\n      case 'sms':\r\n        window.plugins.socialsharing.shareViaSMS({'message': shareVariables.shareBody},\r\n          null, //Phone numbers - user will type\r\n          () => {\r\n            resolve();\r\n          },\r\n          (err) => {\r\n            analyticsService.logError('SMS Share', err);\r\n            reject();\r\n          }\r\n        )\r\n        break;\r\n      case 'email':\r\n        window.plugins.socialsharing.shareViaEmail(shareVariables.shareBodyEmail,\r\n          shareVariables.shareSubject,\r\n          null, //To\r\n          null, //Cc\r\n          null, //Bcc\r\n          shareVariables.shareImage,\r\n          () => {\r\n            resolve();\r\n          },\r\n          (err) => {\r\n            analyticsService.logError('Email Share', err);\r\n            reject();\r\n          }\r\n        )\r\n        break;\r\n\r\n      default:\r\n        let options:any = {};\r\n        options.message = shareVariables.shareBodyNoUrl;\r\n        options.subject = shareVariables.shareSubject;\r\n        options.files = [shareVariables.shareImage];\r\n        options.url = shareVariables.shareUrl;\r\n\r\n        window.plugins.socialsharing.shareWithOptions(options,\r\n          () => {\r\n            resolve();\r\n          },\r\n          (err) => {\r\n            analyticsService.logError('General Mobile Share', err);\r\n            reject();\r\n          }\r\n        )\r\n        break;\r\n    }\r\n  });\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/share.ts","import {Component} from '@angular/core';\r\nimport {Client} from '../../providers/client';\r\nimport * as analyticsService from '../../providers/analytics';\r\nimport * as alertService from '../../providers/alert';\r\nimport {AdminCommand} from '../../objects/objects';\r\n\r\n@Component({\r\n  templateUrl: 'system-tools.html'\r\n})\r\n\r\nexport class SystemToolsPage {\r\n\r\n  client:Client;\r\n  commandId:string;\r\n\r\n  constructor() {\r\n    this.client = Client.getInstance();\r\n\r\n    //Init with first command\r\n    this.commandId = this.client.settings.admin.commands[0].id;\r\n  }\r\n\r\n  ionViewWillEnter() {\r\n    analyticsService.track('page/systemTools');\r\n  }\r\n\r\n  runCommand() {\r\n\r\n    let command:AdminCommand;\r\n    for(var i=0; i<this.client.settings.admin.commands.length; i++) {\r\n      if (this.client.settings.admin.commands[i].id === this.commandId) {\r\n        command = this.client.settings.admin.commands[i];\r\n        break;\r\n      }\r\n    }\r\n\r\n    switch (command.type) {\r\n      case 'system':\r\n        if (command.confirm) {\r\n          alertService.confirm(command.confirm + '_TITLE', command.confirm + '_TEMPLATE').then(() => {\r\n            this.runSystemCommand(command, true);\r\n          },()=> {\r\n          });\r\n        }\r\n        else {\r\n          this.runSystemCommand(command, false);\r\n        }\r\n        break;\r\n\r\n      case 'download':\r\n        var action = command.action.replace('{{token}}',this.client.session.token);\r\n        window.open(this.client.endPoint + action, '_system', 'location=yes');\r\n        setTimeout(() => {\r\n          this.client.nav.pop();\r\n        }, 500)\r\n        break;\r\n    }\r\n  }\r\n\r\n  runSystemCommand(command:AdminCommand, confirmed: boolean) {\r\n    if (command.returnValue) {\r\n      this.client.serverPost(command.action).then((data:any) => {\r\n          this.client[command.returnValue] = data;\r\n          if (confirmed) {\r\n            setTimeout(() => {\r\n              this.client.nav.pop();\r\n            }, 500)\r\n          }\r\n          else {\r\n            this.client.nav.pop();\r\n          }\r\n        },\r\n        ()=> {\r\n        });\r\n    }\r\n    else {\r\n      this.client.serverPost(command.action).then(() => {\r\n          if (confirmed) {\r\n            setTimeout(() => {\r\n              this.client.nav.pop();\r\n            }, 500)\r\n          }\r\n          else {\r\n            this.client.nav.pop();\r\n          }\r\n        },\r\n        ()=> {\r\n        })\r\n    }\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/system-tools/system-tools.ts","import { Component, Input, Output, EventEmitter} from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'simple-tab',\r\n  templateUrl: 'simple-tab.html'\r\n})\r\n\nexport class SimpleTabComponent {\n    @Input() simpleTabTitle: string;\n    @Input() active = false;\n\n    @Output() selected = new EventEmitter();\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/simple-tab/simple-tab.ts","import { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app.module';\n\nplatformBrowserDynamic().bootstrapModule(AppModule);\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/main.ts","import { NgModule, ErrorHandler } from '@angular/core';\r\nimport { HttpModule } from '@angular/http';\r\nimport { ReactiveFormsModule } from '@angular/forms';\r\nimport { BrowserModule } from '@angular/platform-browser';\r\nimport { IonicApp, IonicModule, IonicErrorHandler } from 'ionic-angular';\r\nimport { AppVersion } from '@ionic-native/app-version';\r\n//App\r\nimport { TopTeamerApp } from './app.component';\r\n\r\n//Components\r\nimport { ContestChartComponent } from '../components/contest-chart/contest-chart';\r\nimport { ContestListComponent } from '../components/contest-list/contest-list';\r\nimport { DatePickerComponent } from '../components/date-picker/date-picker';\r\nimport { LeadersComponent } from '../components/leaders/leaders';\r\nimport { LoadingModalComponent } from '../components/loading-modal/loading-modal';\r\nimport { PlayerInfoComponent } from '../components/player-info/player-info';\r\nimport { SimpleTabComponent } from '../components/simple-tab/simple-tab';\r\nimport { SimpleTabsComponent } from '../components/simple-tabs/simple-tabs';\r\n\r\n//Pages\r\nimport { ContestPage } from '../pages/contest/contest';\r\nimport { ContestParticipantsPage } from '../pages/contest-participants/contest-participants';\r\nimport { ContestTypePage } from '../pages/contest-type/contest-type';\r\nimport { LeaderboardsPage } from '../pages/leaderboards/leaderboards';\r\nimport { LoginPage } from '../pages/login/login';\r\nimport { MainTabsPage } from '../pages/main-tabs/main-tabs';\r\nimport { MyContestsPage } from '../pages/my-contests/my-contests';\r\nimport { NewRankPage } from '../pages/new-rank/new-rank';\r\nimport { PurchaseSuccessPage } from '../pages/purchase-success/purchase-success';\r\nimport { QuestionEditorPage } from '../pages/question-editor/question-editor';\r\nimport { QuestionStatsPage } from '../pages/question-stats/question-stats';\r\nimport { QuizPage } from '../pages/quiz/quiz';\r\nimport { RunningContestsPage } from '../pages/running-contests/running-contests';\r\nimport { SearchQuestionsPage } from '../pages/search-questions/search-questions';\r\nimport { ServerPopupPage } from '../pages/server-popup/server-popup';\r\nimport { SetContestPage } from '../pages/set-contest/set-contest';\r\nimport { SetContestAdminPage } from '../pages/set-contest-admin/set-contest-admin';\r\nimport { SettingsPage } from '../pages/settings/settings';\r\nimport { SetUserPage } from '../pages/set-user/set-user';\r\nimport { SharePage } from '../pages/share/share';\r\nimport { ShareSuccessPage } from '../pages/share-success/share-success';\r\nimport { SystemToolsPage } from '../pages/system-tools/system-tools';\r\n\r\n//Providers\r\n//TODO: import { MyErrorHandler } from '../providers/exceptions';\r\nimport { Client } from '../providers/client'\r\n\r\nimport { StatusBar } from '@ionic-native/status-bar';\r\nimport { SplashScreen } from '@ionic-native/splash-screen';\r\n\r\n@NgModule({\r\n  declarations: [\r\n      TopTeamerApp,\r\n      ContestChartComponent,\r\n      ContestListComponent,\n      ContestParticipantsPage,\r\n      DatePickerComponent,\r\n      LeadersComponent,\r\n      LoadingModalComponent,\r\n      PlayerInfoComponent,\r\n      SimpleTabComponent,\r\n      SimpleTabsComponent,\r\n      ContestPage,\r\n      ContestParticipantsPage,\r\n      ContestTypePage,\r\n      LeaderboardsPage,\r\n      LoginPage,\r\n      MainTabsPage,\r\n      MyContestsPage,\r\n      NewRankPage,\r\n      PurchaseSuccessPage,\r\n      QuestionEditorPage,\r\n      QuestionStatsPage,\r\n      QuizPage,\r\n      RunningContestsPage,\r\n      SearchQuestionsPage,\r\n      ServerPopupPage,\r\n      SetContestPage,\r\n      SetContestAdminPage,\r\n      SettingsPage,\r\n      SetUserPage,\r\n      SharePage,\r\n      ShareSuccessPage,\r\n      SystemToolsPage\r\n    ],\r\n  imports: [\r\n      HttpModule,\r\n      Client,\r\n      ReactiveFormsModule,\r\n      BrowserModule,\r\n      IonicModule.forRoot(TopTeamerApp)\r\n  ],\r\n  bootstrap: [IonicApp],\r\n  entryComponents: [\r\n    TopTeamerApp,\r\n      ContestChartComponent,\r\n      ContestListComponent,\r\n      ContestParticipantsPage,\r\n      DatePickerComponent,\r\n      LeadersComponent,\r\n      LoadingModalComponent,\r\n      PlayerInfoComponent,\r\n      SimpleTabComponent,\r\n      SimpleTabsComponent,\r\n      ContestPage,\r\n      ContestTypePage,\r\n      LeaderboardsPage,\r\n      LoginPage,\r\n      MainTabsPage,\r\n      MyContestsPage,\r\n      NewRankPage,\r\n      PurchaseSuccessPage,\r\n      QuestionEditorPage,\r\n      QuestionStatsPage,\r\n      QuizPage,\r\n      RunningContestsPage,\r\n      SearchQuestionsPage,\r\n      ServerPopupPage,\r\n      SetContestPage,\r\n      SetContestAdminPage,\r\n      SettingsPage,\r\n      SetUserPage,\r\n      SharePage,\r\n      ShareSuccessPage,\r\n      SystemToolsPage\r\n  ],\r\n  providers: [\r\n      AppVersion,\r\n      StatusBar,\r\n      SplashScreen,\r\n    { provide: ErrorHandler, useClass: IonicErrorHandler }\r\n  ]\r\n})\r\nexport class AppModule {}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.module.ts","import {Client} from './client';\r\nimport {Alert} from 'ionic-angular';\r\n\r\nfunction getAlignedTitle(title) {\r\n\r\n  var client = Client.getInstance();\r\n\r\n  return '<span class=\"app-alert-' + client.currentLanguage.direction + '\">' + title + '</span>';\r\n}\r\n\r\n//------------------------------------------------------\r\n//-- alert\r\n//------------------------------------------------------\r\nexport let alert = (message:any, buttons?:any) => {\r\n\r\n  var client = Client.getInstance();\r\n\r\n  var title;\r\n  var messageText;\r\n\r\n  if (message.type) {\r\n    if (!message.additionalInfo) {\r\n      message.additionalInfo = {};\r\n    }\r\n\r\n    title = client.translate(message.type + '_TITLE', message.additionalInfo);\r\n    messageText = client.translate(message.type + '_MESSAGE', message.additionalInfo);\r\n\r\n  }\r\n  else {\r\n    messageText = message;\r\n  }\r\n\r\n  return alertTranslated(title, messageText, buttons);\r\n}\r\n\r\n//------------------------------------------------------\r\n//-- alert\r\n//------------------------------------------------------\r\nexport let alertTranslated = (title:string, message:string, buttons?:any) => {\r\n\r\n  return new Promise((resolve, reject) => {\r\n\r\n    var client = Client.getInstance();\r\n\r\n    if (!buttons) {\r\n      buttons = [\r\n        {\r\n          text: client.translate('OK'),\r\n          role: 'cancel',\r\n          handler: resolve\r\n        }\r\n      ];\r\n    }\r\n\r\n    let alert:Alert = client.createAlert({\r\n      message: message,\r\n      buttons: buttons,\r\n      cssClass: 'app-alert-' + client.currentLanguage.direction\r\n    });\r\n\r\n    if (title) {\r\n      alert.setTitle(getAlignedTitle(title));\r\n    }\r\n\r\n    alert.present();\r\n\r\n  });\r\n}\r\n\r\n\r\n//------------------------------------------------------\r\n//-- confirm\r\n//------------------------------------------------------\r\nexport let confirm = (title:string, message:string, params?:any) => {\r\n\r\n  return new Promise((resolve, reject) => {\r\n\r\n    var client = Client.getInstance();\r\n\r\n    let alert:Alert = client.createAlert({\r\n      title: getAlignedTitle(client.translate(title, params)),\r\n      message: client.translate(message, params),\r\n      buttons: [\r\n        {\r\n          text: client.translate('OK'),\r\n          handler: resolve\r\n        },\r\n        {\r\n          text: client.translate('CANCEL'),\r\n          handler: reject\r\n        }\r\n      ]\r\n    });\r\n\r\n    alert.present();\r\n\r\n  });\r\n}\r\n\r\n\r\n//------------------------------------------------------\r\n//-- confirmExitApp\r\n//------------------------------------------------------\r\nexport let confirmExitApp = () => {\r\n\r\n  return this.confirm('EXIT_APP_TITLE', 'EXIT_APP_MESSAGE', null).then(() => {\r\n    window.navigator['app'].exitApp();\r\n  },()=>{\r\n  })\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/alert.ts","import {Client} from './client';\r\nimport * as facebookService from './facebook';\r\nimport {ConnectInfo,GuestInfo} from '../objects/objects';\r\n\r\nconst CONNECT_INFO_KEY = 'connectInfo';\r\n\r\n//------------------------------------------------------\r\n//-- private functions\r\n//------------------------------------------------------\r\n\r\n//------------------------------------------------------\r\n//-- createGuest\r\n//------------------------------------------------------\r\nfunction createGuest() {\r\n\r\n  var d = new Date().getTime();\r\n  var uuid = 'xxxxxxxxxxxxxxxx'.replace(/[xy]/g, function (c) {\r\n    var r = (d + Math.random() * 16) % 16 | 0;\r\n    d = Math.floor(d / 16);\r\n    return (c == 'x' ? r : (r & 0x3 | 0x8)).toString(16);\r\n  });\r\n  let connectInfo:ConnectInfo = new ConnectInfo('guest');\r\n  connectInfo.guestInfo = new GuestInfo(uuid);\r\n\r\n  return connectInfo;\r\n}\r\n\r\n//------------------------------------------------------\r\n//-- getInfo\r\n//------------------------------------------------------\r\nfunction getInfo() {\r\n\r\n  return new Promise((resolve, reject) => {\r\n\r\n    var client = Client.getInstance();\r\n\r\n    if (client.user.credentials) {\r\n      resolve(client.user.credentials);\r\n      return;\r\n    }\r\n\r\n    let connectInfoString:string = localStorage.getItem(CONNECT_INFO_KEY);\r\n    if (connectInfoString) {\r\n      client.user.credentials = JSON.parse(connectInfoString);\r\n      resolve(client.user.credentials);\r\n      return;\r\n    }\r\n\r\n    //Legacy code - for old clients which are connected to facebook but still\r\n    //do not have anything in localStorage\r\n    facebookService.getLoginStatus().then((connectInfo:ConnectInfo) => {\r\n      resolve(connectInfo);\r\n    }, ()=> {\r\n      reject();\r\n    });\r\n  });\r\n}\r\n\r\n//------------------------------------------------------\r\n//-- public functions\r\n//------------------------------------------------------\r\n\r\n//------------------------------------------------------\r\n//-- getLoginStatus\r\n//------------------------------------------------------\r\nexport let getLoginStatus = () => {\r\n\r\n  return new Promise((resolve, reject) => {\r\n\r\n    getInfo().then((connectInfo:ConnectInfo) => {\r\n\r\n      if (!connectInfo) {\r\n        reject();\r\n        return;\r\n      }\r\n\r\n      switch (connectInfo.type) {\r\n        case 'facebook':\r\n          if (connectInfo.facebookInfo) {\r\n            resolve(connectInfo);\r\n          }\r\n          else {\r\n            facebookService.getLoginStatus().then((connectInfo:ConnectInfo)=> {\r\n              resolve(connectInfo);\r\n            }, () => {\r\n              reject();\r\n            })\r\n          }\r\n          break;\r\n        case 'guest':\r\n          resolve(connectInfo);\r\n          break;\r\n        default:\r\n          reject();\r\n          break;\r\n      }\r\n    }, () => {\r\n      reject();\r\n    })\r\n  });\r\n}\r\n\r\n//------------------------------------------------------\r\n//-- login\r\n//------------------------------------------------------\r\nexport let login = (permissions?, rerequestDeclinedPermissions?) => {\r\n\r\n  return new Promise((resolve, reject) => {\r\n\r\n    getInfo().then((connectInfo:ConnectInfo) => {\r\n      specificLogin(connectInfo, permissions, rerequestDeclinedPermissions).then((connectInfo:ConnectInfo) => {\r\n        resolve(connectInfo);\r\n      }, ()=> {\r\n        reject();\r\n      });\r\n    }, () => {\r\n      reject();\r\n    });\r\n  });\r\n}\r\n\r\nexport let facebookLogin = () => {\r\n  return this.specificLogin(new ConnectInfo('facebook'));\r\n}\r\n\r\nexport let guestLogin = () => {\r\n  return this.specificLogin(createGuest());\r\n}\r\n\r\nexport let specificLogin = (connectInfo:ConnectInfo,\r\n                            permissions?:any,\r\n                            rerequestDeclinedPermissions?:boolean) => {\r\n\r\n  return new Promise((resolve, reject) => {\r\n\r\n    switch (connectInfo.type) {\r\n      case 'facebook':\r\n        facebookService.login(permissions, rerequestDeclinedPermissions).then((connectInfo:ConnectInfo) => {\r\n          resolve(connectInfo);\r\n        }, () => {\r\n          reject();\r\n        });\r\n        break;\r\n      case 'guest':\r\n        //Immediate resolve, connectionInfo will include the uuid\r\n        //Immediatelly store credentials - new guest should not fail to connect/register in the server\r\n        storeCredentials(connectInfo);\r\n        resolve(connectInfo);\r\n        break;\r\n      default:\r\n        reject();\r\n        break;\r\n    }\r\n  });\r\n}\r\n\r\n//------------------------------------------------------\r\n//-- logout\r\n//------------------------------------------------------\r\nexport let logout = () => {\r\n\r\n  return new Promise((resolve, reject) => {\r\n\r\n    var client = Client.getInstance();\r\n\r\n    getInfo().then((connectInfo:ConnectInfo) => {\r\n      switch (connectInfo.type) {\r\n        case 'facebook':\r\n          facebookService.logout().then(()=> {\r\n            client.user.credentials = null;\r\n            localStorage.removeItem(CONNECT_INFO_KEY);\r\n            resolve();\r\n          });\r\n          break;\r\n        case 'guest':\r\n          client.user.credentials = null;\r\n          localStorage.removeItem(CONNECT_INFO_KEY);\r\n          resolve();\r\n          break;\r\n      }\r\n    }, ()=> {\r\n      reject();\r\n    });\r\n  });\r\n}\r\n\r\n//------------------------------------------------------\r\n//-- post\r\n//------------------------------------------------------\r\nexport let post = (story:any) => {\r\n\r\n  return new Promise((resolve, reject) => {\r\n\r\n    getInfo().then((connectInfo:ConnectInfo) => {\r\n      switch (connectInfo.type) {\r\n        case 'facebook':\r\n          facebookService.post(story).then(()=> {\r\n            resolve();\r\n          }, ()=> {\r\n            reject();\r\n          });\r\n          break;\r\n        case 'guest':\r\n          throw new Error('Posting in guest mode is not supported');\r\n      }\r\n    }, ()=> {\r\n      reject();\r\n    });\r\n  });\r\n};\r\n\r\n//------------------------------------------------------\r\n//-- buy\r\n//------------------------------------------------------\r\nexport let buy = (purchaseDialogData:any) => {\r\n\r\n  return new Promise((resolve, reject) => {\r\n\r\n    getInfo().then((connectInfo:ConnectInfo) => {\r\n      switch (connectInfo.type) {\r\n        case 'facebook':\r\n          facebookService.buy(purchaseDialogData).then(()=> {\r\n            resolve();\r\n          }, ()=> {\r\n            reject();\r\n          });\r\n          break;\r\n        case 'guest':\r\n          throw new Error('Buying in guest mode is not supported');\r\n      }\r\n    }, ()=> {\r\n      reject();\r\n    });\r\n  });\r\n};\r\n\r\n\r\n//------------------------------------------------------\r\n//-- storeCredentials\r\n//------------------------------------------------------\r\nexport let storeCredentials = (connectInfo:ConnectInfo) => {\r\n\r\n  var client = Client.getInstance();\r\n  var storedConnectInfo;\r\n  if (connectInfo.type === 'facebook') {\r\n    //For facebook - do not store in our storage any access token / user id\r\n    storedConnectInfo = new ConnectInfo('facebook');\r\n  }\r\n  else {\r\n    storedConnectInfo = connectInfo;\r\n  }\r\n\r\n  localStorage.setItem(CONNECT_INFO_KEY, JSON.stringify(storedConnectInfo));\r\n  client.user.credentials = connectInfo;\r\n\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/connect.ts","import { Component, ViewChild } from '@angular/core';\r\nimport { Http } from '@angular/http';\r\nimport { Platform, Config, Events, AlertController, ModalController, MenuController, App, Nav } from 'ionic-angular';\r\nimport { AppVersion } from '@ionic-native/app-version';\r\n\r\n//Components\r\nimport { LoadingModalComponent } from '../components/loading-modal/loading-modal';\r\nimport { PlayerInfoComponent } from '../components/player-info/player-info';\r\n\r\n\r\n//Objects\r\nimport { AppPage, ConnectInfo, Contest } from '../objects/objects'\r\n\r\n//Providers\r\nimport * as alertService from '../providers/alert';\r\nimport * as analyticsService from '../providers/analytics';\r\nimport { Client } from '../providers/client';\r\nimport * as connectService from '../providers/connect';\r\nimport * as contestsService from '../providers/contests';\r\nimport * as shareService from '../providers/share';\r\n\r\n@Component({\r\n    templateUrl: 'app.html'\r\n})\r\nexport class TopTeamerApp {\r\n\r\n    client: Client;\r\n    @ViewChild(Nav) nav: Nav;\r\n    @ViewChild(LoadingModalComponent) loadingModalComponent: LoadingModalComponent;\r\n    @ViewChild(PlayerInfoComponent) playerInfoComponent: PlayerInfoComponent;\r\n\r\n    app: App;\r\n    platform: Platform;\r\n    config: Config;\r\n    http: Http;\r\n    events: Events;\r\n    alertController: AlertController;\r\n    modalController: ModalController;\r\n    menuController: MenuController;\r\n    appVersion: AppVersion;\r\n\r\n    constructor(app: App,\r\n        platform: Platform,\r\n        config: Config,\r\n        http: Http,\r\n        client: Client,\r\n        events: Events,\r\n        alertController: AlertController,\r\n        modalController: ModalController,\r\n        menuController: MenuController,\r\n        appVersion: AppVersion) {\r\n\r\n        this.app = app;\r\n        this.platform = platform;\r\n        this.config = config;\r\n        this.http = http;\r\n        this.client = client;\r\n        this.events = events;\r\n        this.alertController = alertController;\r\n        this.modalController = modalController;\r\n        this.menuController = menuController;\r\n        this.appVersion = appVersion;\r\n    }\r\n\r\n    ngAfterViewInit() {\r\n        this.client.init(this.app,\r\n            this.platform,\r\n            this.config,\r\n            this.http,\r\n            this.events,\r\n            this.nav,\r\n            this.alertController,\r\n            this.modalController,\r\n            this.loadingModalComponent,\r\n            this.playerInfoComponent).then(() => {\r\n                this.initApp();\r\n            }, (err) => this.ngAfterViewInit());\r\n    }\r\n\r\n    initApp() {\r\n\r\n        //TODO: navigate to PurchaseSuccess based on url params (if coming from paypal)\r\n\r\n        this.client.platform.ready().then(() => {\r\n\r\n            this.expandStringPrototype();\r\n            this.declareRequestAnimationFrame();\r\n            this.expandDatePrototype();\r\n\r\n            this.initAnalytics();\r\n\r\n            if (!window.cordova) {\r\n                this.initWeb();\r\n            }\r\n            else {\r\n                this.initMobile();\r\n            }\r\n\r\n            this.initBranch();\r\n\r\n            if (window.StatusBar) {\r\n                // org.apache.cordova.statusbar required\r\n                window.StatusBar.styleDefault();\r\n            }\r\n\r\n            //Handle hardware back button\r\n            this.client.platform.registerBackButtonAction(() => {\r\n\r\n                var client = Client.getInstance();\r\n\r\n                //Check if modal view is displayed, currently accessing non-public members of Ionic App\r\n                //Waiting for Ionic team to expose checking if a modal view is displayed\r\n                if (this.app['_portal']._views && this.app['_portal']._views.length > 0 && this.app['_portal']._views[0].isOverlay) {\r\n                    return this.app['_portal']._views[0].dismiss();\r\n                }\r\n\r\n                //Root screen - confirm exit app\r\n                if (!client.nav.canGoBack()) {\r\n                    if (this.menuController.isOpen()) {\r\n                        //if main menu is opened - back will close it\r\n                        return this.menuController.close();\r\n                    }\r\n                    else {\r\n                        //Main menu is closed - confirm exit app\r\n                        return alertService.confirmExitApp();\r\n                    }\r\n                }\r\n\r\n                //Go back\r\n                return client.nav.pop();\r\n\r\n            });\r\n\r\n        }, () => {\r\n        });\r\n    };\r\n\r\n    initWeb() {\r\n\r\n        window.addEventListener('resize', (event) => {\r\n            var client = Client.getInstance();\r\n            client.resizeWeb();\r\n        });\r\n\r\n        this.client.resizeWeb();\r\n\r\n        //Load branch mobile script\r\n        window.loadJsFile('assets/lib/branch/web.min.js');\r\n\r\n        //init facebook javascript sdk\r\n        window.fbAsyncInit = () => {\r\n            window.FB.init({\r\n                appId: this.client.settings.facebook.appId,\r\n                xfbml: true,\r\n                cookie: true,\r\n                version: this.client.settings.facebook.version\r\n            });\r\n\r\n            this.initLoginState();\r\n        };\r\n\r\n        (function (d, s, id) {\r\n            var client = Client.getInstance();\r\n            var js, fjs = d.getElementsByTagName(s)[0];\r\n            if (d.getElementById(id)) {\r\n                return;\r\n            }\r\n            js = d.createElement(s);\r\n            js.id = id;\r\n            js.src = client.settings.facebook.sdk;\r\n            fjs.parentNode.insertBefore(js, fjs);\r\n        }(document, 'script', 'facebook-jssdk'));\r\n    }\r\n\r\n    initMobile() {\r\n\r\n        //Will discover which apps are installed (from a server list) and support sharing\r\n        shareService.mobileDiscoverSharingApps();\r\n\r\n        if (window.cordova.plugins.Keyboard) {\r\n            window.cordova.plugins.Keyboard.hideKeyboardAccessoryBar(true);\r\n            window.cordova.plugins.Keyboard.disableScroll(false);\r\n        }\r\n\r\n        //Hook into window.open\r\n        window.open = window.cordova.InAppBrowser.open;\r\n\r\n        //Load branch mobile script\r\n        window.loadJsFile('assets/lib/branch/moblie.min.js');\r\n\r\n        //Init android billing\r\n        if (this.client.platform.is('android') && typeof window.inappbilling !== 'undefined') {\r\n            window.inappbilling.init((resultInit) => {\r\n            },\r\n                (errorInit) => {\r\n                    analyticsService.logError('InAppBilling', errorInit);\r\n                }\r\n                ,\r\n                { showLog: true }, []\r\n            );\r\n        }\r\n\r\n        document.addEventListener('resume', function (event) {\r\n            if (window.initBranch) {\r\n                window.initBranch();\r\n            }\r\n        });\r\n\r\n        this.appVersion.getVersionNumber().then((version) => {\r\n            this.client.user.clientInfo.appVersion = version;\r\n            //The app version property will be sent on each event tracking\r\n            analyticsService.register({ appVersion: version });\r\n            this.initLoginState();\r\n        }, () => {\r\n        });\r\n    }\r\n\r\n    initAnalytics() {\r\n        analyticsService.init(this.client.settings.analytics.mixpanel.token)\r\n    }\r\n\r\n    initBranch() {\r\n        window.myHandleBranch = (err, data) => {\r\n            try {\r\n                if (err) {\r\n                    analyticsService.logError('BranchIoError', err);\r\n                    return;\r\n                }\r\n\r\n                if (data.data_parsed && data.data_parsed.contestId) {\r\n                    //Will go to this contest\r\n                    if (this.client.session && this.client.nav && this.client.nav.length() > 0) {\r\n                        this.client.displayContestById(data.data_parsed.contestId);\r\n                    }\r\n                    else {\r\n                        //Will be displayed on the first posibility\r\n                        this.client.deepLinkContestId = data.data_parsed.contestId;\r\n                    }\r\n                }\r\n            }\r\n            catch (e) {\r\n                analyticsService.logError('BranchIoParseDataError', { data: data, error: e });\r\n            }\r\n        }\r\n\r\n        window.initBranch = () => {\r\n            if (window.branch) {\r\n                window.branch.init(this.client.settings.branch.key, (err, data) => {\r\n                    if (window.myHandleBranch) {\r\n                        window.myHandleBranch(err, data);\r\n                    }\r\n                });\r\n            }\r\n            else {\r\n                console.log('branch script not loaded - retrying in 2000 ms.');\r\n                setTimeout(() => {\r\n                    window.initBranch();\r\n                }, 2000)\r\n            }\r\n        }\r\n\r\n        //Give the appropriate mobile/web branch js file time to load\r\n        setTimeout(() => {\r\n            window.initBranch();\r\n        }, 2000)\r\n\r\n    }\r\n\r\n    initLoginState() {\r\n        connectService.getLoginStatus().then((connectInfo: ConnectInfo) => {\r\n            if (this.client.hasCredentials(connectInfo)) {\r\n                this.client.serverConnect(connectInfo).then(() => {\r\n                    connectService.storeCredentials(connectInfo);\r\n                    this.playerInfoComponent.init(this.client);\r\n                    let appPages: Array<AppPage> = new Array<AppPage>();\r\n                    appPages.push(new AppPage('MainTabsPage', {}));\r\n                    if (this.client.deepLinkContestId) {\r\n                        contestsService.getContest(this.client.deepLinkContestId).then((contest: Contest) => {\r\n                            this.client.deepLinkContestId = null;\r\n                            appPages.push(new AppPage('ContestPage', { 'contest': contest, 'source': 'deepLink' }));\r\n                            this.client.setPages(appPages).then(() => {\r\n                                this.client.hidePreloader();\r\n                            }, () => {\r\n                            });\r\n                        })\r\n                    }\r\n                    else {\r\n                        this.client.setPages(appPages).then(() => {\r\n                            this.client.hidePreloader();\r\n                        }, () => {\r\n                        });\r\n                    }\r\n                }, () => {\r\n                    this.client.nav.setRoot(this.client.getPage('LoginPage'));\r\n                })\r\n            }\r\n            else {\r\n                this.client.nav.setRoot(this.client.getPage('LoginPage'));\r\n            }\r\n        }, () => {\r\n            this.client.nav.setRoot(this.client.getPage('LoginPage'));\r\n        });\r\n    }\r\n\r\n    declareRequestAnimationFrame() {\r\n\r\n        // Fallback where requestAnimationFrame or its equivalents are not supported in the current browser\r\n        window.myRequestAnimationFrame = (() => {\r\n            return window.requestAnimationFrame ||\r\n                window.webkitRequestAnimationFrame ||\r\n                window.mozRequestAnimationFrame ||\r\n                function (callback) {\r\n                    window.setTimeout(callback, 1000 / 60);\r\n                };\r\n        })();\r\n    }\r\n\r\n    expandStringPrototype() {\r\n\r\n        if (!String.prototype.format) {\r\n            String.prototype.format = function () {\r\n                var str = this;\r\n\r\n                function replaceByObjectProperies(obj) {\r\n                    for (var property in obj)\r\n                        if (obj.hasOwnProperty(property))\r\n                            //replace all instances case-insensitive\r\n                            str = str.replace(new RegExp(escapeRegExp('{{' + property + '}}'), 'gi'), String(obj[property]));\r\n                }\r\n\r\n                function escapeRegExp(string) {\r\n                    return string.replace(/([.*+?^=!:${{}}()|\\[\\]\\/\\\\])/g, '\\\\$1');\r\n                }\r\n\r\n                function replaceByArray(arrayLike) {\r\n                    for (var i = 0, len = arrayLike.length; i < len; i++)\r\n                        str = str.replace(new RegExp(escapeRegExp('{{' + i + '}}'), 'gi'), String(arrayLike[i]));\r\n                }\r\n\r\n                if (!arguments.length || arguments[0] === null || arguments[0] === undefined)\r\n                    return str;\r\n                else if (arguments.length == 1 && Array.isArray(arguments[0]))\r\n                    replaceByArray(arguments[0]);\r\n                else if (arguments.length == 1 && typeof arguments[0] === 'object')\r\n                    replaceByObjectProperies(arguments[0]);\r\n                else\r\n                    replaceByArray(arguments);\r\n\r\n                return str;\r\n            };\r\n        }\r\n\r\n        if (!String.prototype.replaceAll) {\r\n            String.prototype.replaceAll = function (search, replacement) {\r\n                var target = this;\r\n                return target.replace(new RegExp(search, 'g'), replacement);\r\n            };\r\n        }\r\n    }\r\n\r\n    expandDatePrototype() {\r\n        if (!Date.prototype.clearTime) {\r\n            Date.prototype.clearTime = function () {\r\n                this.setHours(0);\r\n                this.setMinutes(0);\r\n                this.setSeconds(0);\r\n                this.setMilliseconds(0);\r\n            }\r\n        }\r\n    }\r\n\r\n    newContest() {\r\n        analyticsService.track('menu/newContest');\r\n        this.client.openNewContest();\r\n    }\r\n\r\n    share() {\r\n        analyticsService.track('menu/share');\r\n        this.client.share(null, 'menu');\r\n    }\r\n\r\n    like() {\r\n        analyticsService.track('like/click');\r\n        window.open(this.client.settings.general.facebookFanPage, '_new');\r\n    }\r\n\r\n    settings() {\r\n        analyticsService.track('menu/settings');\r\n        this.client.openPage('SettingsPage');\r\n    }\r\n\r\n    systemTools() {\r\n        analyticsService.track('menu/systemTools');\r\n        this.client.openPage('SystemToolsPage');\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.component.ts","import {NgModule} from '@angular/core';\r\nimport {Http, Response, Headers} from '@angular/http';\r\nimport {Observable} from 'rxjs/Rx';\r\nimport 'rxjs/add/operator/map';\r\nimport 'rxjs/add/operator/retryWhen';\r\nimport {Push} from 'ionic-native';\r\nimport {App,Platform,Config, Nav, AlertController, ModalController, Events, AlertOptions} from 'ionic-angular';\r\nimport * as contestsService from './contests';\r\nimport * as connectService from './connect';\r\nimport * as analyticsService from './analytics';\r\nimport * as alertService from './alert';\r\nimport {User,Session,ClientInfo,Settings,Language,Contest,ClientShareApp,AppPage,ConnectInfo,Avatar} from '../objects/objects';\r\nimport {LoadingModalComponent} from '../components/loading-modal/loading-modal'\r\nimport {PlayerInfoComponent} from '../components/player-info/player-info'\r\nimport * as classesService from './classes';\r\n\r\n@NgModule()\r\nexport class Client {\r\n\r\n  static instance:any;\r\n\r\n  _languageKeys:Array<string>;\r\n\r\n  app:App;\r\n  platform:Platform;\r\n  config: Config;\n  http: Http;\r\n  events:Events;\r\n  nav:Nav;\r\n  alertController:AlertController;\r\n  modalController:ModalController;\r\n  loadingModalComponent:LoadingModalComponent;\r\n  playerInfoComponent:PlayerInfoComponent;\r\n  user:User;\r\n  session:Session;\r\n  settings:Settings;\r\n  loaded:Boolean = false;\r\n  clientInfo:ClientInfo;\r\n  _width:number;\r\n  _chartWidth:number;\r\n  _chartHeight:number;\r\n  deepLinkContestId:string;\r\n  shareApps:Array<ClientShareApp>;\r\n  appPreloading:boolean = true;\r\n  serverGateway:ServerGateway;\r\n  pushService:any;\r\n\r\n  constructor() {\r\n\r\n    if (Client.instance) {\r\n      throw new Error('You can\\'t call new in Singleton instances! Call Client.getInstance() instead.');\r\n    }\r\n\r\n    this.clientInfo = new ClientInfo();\r\n\r\n    if (!window.cordova) {\r\n      this.clientInfo.mobile = false;\r\n      if (window.self !== window.top) {\r\n        this.clientInfo.platform = 'facebook';\r\n      }\r\n      else {\r\n        this.clientInfo.platform = 'web';\r\n      }\r\n    }\r\n    else {\r\n      this.clientInfo.mobile = true;\r\n      this.clientInfo.device = window.device;\r\n    }\r\n\r\n\r\n  }\r\n\r\n  static getInstance() {\r\n    if (Client.instance == null) {\r\n      Client.instance = this;\r\n    }\r\n\r\n    return Client.instance;\r\n  }\r\n\r\n  init(app:App,\r\n       platform:Platform,\r\n       config: Config,\n       http: Http,\r\n       events:Events,\r\n       nav:Nav,\r\n       alertController:AlertController,\r\n       modalController:ModalController,\r\n       loadingModalComponent:LoadingModalComponent,\r\n       playerInfoComponent:PlayerInfoComponent) {\r\n\r\n    return new Promise((resolve, reject) => {\r\n\r\n        this.app = app;\r\n        this.platform = platform;\r\n        this.config = config;\n        this.http = http;\r\n        this.events = events;\r\n        this.nav = nav;\r\n        this.alertController = alertController;\r\n        this.modalController = modalController;\r\n        this.loadingModalComponent = loadingModalComponent;\r\n        this.playerInfoComponent = playerInfoComponent;\r\n\n        this.serverGateway = new ServerGateway(http);\r\n\r\n        if (this.clientInfo.mobile) {\r\n          this.shareApps = new Array<ClientShareApp>();\r\n          if (platform.is('android')) {\r\n            this.clientInfo.platform = 'android';\r\n          }\r\n          else if (platform.is('ios')) {\r\n            this.clientInfo.platform = 'ios';\r\n          }\r\n        }\r\n\r\n        var language = localStorage.getItem('language');\r\n\r\n        let settingsVersion: string = localStorage.getItem('settingsVersion');\r\n        if (!settingsVersion) {\r\n          settingsVersion = '0';\r\n        }\r\n\r\n        this.getSettings(settingsVersion, language).then((data) => {\r\n\r\n          if (data['settings']) {\r\n            this.settings = data['settings'];\r\n            //Save new settings in localStorage\r\n            localStorage.setItem('settings', JSON.stringify(data['settings']));\r\n            localStorage.setItem('settingsVersion', data['settings']['version']);\r\n          }\r\n          else {\r\n            this.settings = JSON.parse(localStorage.getItem('settings'));\r\n          }\r\n\r\n          this.serverGateway.retries = this.settings.general.network.retries;\r\n          this.serverGateway.initialDelay = this.settings.general.network.initialDelay;\r\n\r\n          if (!language || language === 'undefined') {\r\n            //Language was computed on the server using geoInfo or the fallback to the default language\r\n            language = data['language'];\r\n            localStorage.setItem('language', language);\r\n          }\r\n\r\n          this.initUser(language, data['geoInfo']);\r\n\r\n          this.setDirection();\r\n\r\n          this.loaded = true;\r\n\r\n          Client.instance = this;\r\n\r\n          resolve();\r\n        }, (err) => reject(err));\r\n      }\r\n    );\r\n  }\r\n\r\n  getSettings(settingsVersion:string, localStorageLanguage:string) {\r\n\r\n    var postData = {'clientInfo': this.clientInfo};\r\n\r\n    if (localStorageLanguage && localStorageLanguage !== 'undefined') {\r\n      //This will indicate to the server NOT to retrieve geo info - since language is already determined\r\n      postData['language'] = localStorageLanguage;\r\n    }\r\n    else {\r\n      //Server will try to retrieve geo info based on client ip - if fails - will revert to this default language\r\n      postData['defaultLanguage'] = this.getDefaultLanguage();\r\n    }\r\n\r\n    postData['settingsVersion'] = settingsVersion;\r\n    return this.serverPost('info/settings', postData);\r\n  }\r\n\r\n  initUser(language, geoInfo) {\r\n\r\n    this.user = new User(language, this.clientInfo, geoInfo);\r\n  }\r\n\r\n  setDirection() {\r\n    this.platform.setDir(this.currentLanguage.direction, true);\r\n    this.config.set('backButtonIcon', this.currentLanguage.backButtonIcon);\r\n  }\r\n\r\n  serverConnect(connectInfo?:ConnectInfo) {\r\n\r\n    return new Promise((resolve, reject) => {\r\n\r\n      let postData:any = {};\r\n      if (connectInfo) {\r\n        postData.user = JSON.parse(JSON.stringify(this.user));\r\n        postData.user.credentials = connectInfo;\r\n      }\r\n      else {\r\n        postData.user = this.user;\r\n      }\r\n      this.serverPost('user/connect', postData).then((data) => {\r\n\r\n        if (connectInfo) {\r\n          this.user.credentials = connectInfo;\r\n        }\r\n\r\n        if (this.user.settings.language !== data['session'].settings.language) {\r\n          this.user.settings.language = data['session'].settings.language;\r\n          this.localSwitchLanguage(this.user.settings.language);\r\n        }\r\n\r\n        this.user.settings = JSON.parse(JSON.stringify(data['session'].settings));\r\n\r\n        this.session = data['session'];\r\n        this.serverGateway.token = data['session'].token;\r\n\r\n        analyticsService.identify(data['session'].userId);\r\n        analyticsService.setUserPermanentData({\r\n          platform: this.clientInfo.platform,\r\n          $name: data['session'].name\r\n        });\r\n\r\n        if (data['session'].justRegistered) {\r\n          analyticsService.track('server/register')\r\n        }\r\n        else {\r\n          analyticsService.track('server/login')\r\n        }\r\n\r\n        this.initPushService();\r\n\r\n        resolve();\r\n\r\n      }, (err) => {\r\n        reject(err);\r\n      });\r\n\r\n    })\r\n  };\r\n\r\n  setUser(userData:any) {\r\n\r\n    return new Promise((resolve, reject) => {\r\n\r\n      let postData:any = {user: userData};\r\n      this.serverPost('user/set', postData).then((contests:any) => {\r\n        this.session.avatar.id = userData.avatar;\r\n        this.session.name = userData.name;\r\n        this.session.dob = userData.dob;\r\n        this.publishProfileChange(contests);\r\n        resolve();\r\n      }, ()=> {\r\n        reject();\r\n      });\r\n    });\r\n  }\r\n\r\n  upgradeGuest(connectInfo:ConnectInfo) {\r\n\r\n    return new Promise((resolve, reject) => {\r\n\r\n      this.serverPost('user/upgradeGuest', {user: {credentials: connectInfo}}).then((data:any) => {\r\n        this.session.avatar.type = 0; //facebook\r\n        this.session.avatar.id = connectInfo.facebookInfo.userId;\r\n        this.session.name = data.name;\r\n        this.publishProfileChange(data.contests);\r\n        resolve();\r\n      }, (err)=> {\r\n        if (err.type === 'SERVER_ERROR_FACEBOOK_EXISTS_DO_SWITCH' && err.additionalInfo && err.additionalInfo.confirmed) {\r\n          this.serverConnect(connectInfo).then(() => {\r\n            this.events.publish('app:switchedToFacebook');\r\n            this.popToRoot().then(()=> {\r\n              resolve();\r\n            }, ()=> {\r\n              reject();\r\n            })\r\n          }, () => {\r\n            reject();\r\n          })\r\n        }\r\n        else {\r\n          reject();\r\n        }\r\n      });\r\n    });\r\n  }\r\n\r\n  publishProfileChange(contests) {\r\n    for (var i = 0; i < contests.length; i++) {\r\n      contestsService.setContestClientData(contests[i]);\r\n      this.events.publish('app:contestUpdated', contests[i], contests[i].status, contests[i].status);\r\n    }\r\n    this.events.publish('app:leaderboardsUpdated');\r\n  }\r\n\r\n  serverPost(path:string, postData?:Object) {\r\n    return new Promise((resolve, reject) => {\r\n      this.showLoader();\r\n      this.serverGateway.post(path, postData).then((data) => {\r\n        this.hideLoader();\r\n        if (this.nav && this.nav.length() > 0) {\r\n          //GUI is initiated - process the events right away\r\n          this.processInternalEvents();\r\n        }\r\n        resolve(data);\r\n      }, (err) => {\r\n        this.hideLoader();\r\n        if (err && err.httpStatus === 401) {\r\n          connectService.getLoginStatus().then((connectInfo:ConnectInfo) => {\r\n            if (this.hasCredentials(connectInfo)) {\r\n              this.serverConnect().then(() => {\r\n                //Re-post last request\r\n                return this.serverPost(path, postData).then((data) => {\r\n                  resolve(data);\r\n                }, (err) => {\r\n                  reject(err);\r\n                })\r\n              }, ()=> {\r\n              });\r\n            }\r\n            else {\r\n              connectService.login().then(() => {\r\n                this.serverConnect().then(() => {\r\n                  //Re-post last request\r\n                  return this.serverPost(path, postData).then((data) => {\r\n                    resolve(data);\r\n                  }, (err) => {\r\n                    reject(err);\r\n                  })\r\n                }, ()=> {\r\n                })\r\n              }, ()=> {\r\n              })\r\n            }\r\n          }, ()=> {\r\n          });\r\n        }\r\n        else if (err.httpStatus) {\r\n          //An error coming from our server\r\n          //Display an alert or confirm message and continue the reject so further 'catch' blocks\r\n          //will be invoked if any\r\n          if (!err.additionalInfo || !err.additionalInfo.confirm) {\r\n            alertService.alert(err).then(() => {\r\n              reject(err);\r\n            }, () => {\r\n              reject(err);\r\n            });\r\n          }\r\n          else {\r\n            var title = err.type + '_TITLE';\r\n            var message = err.type + '_MESSAGE';\r\n            alertService.confirm(title, message, err.params).then(() => {\r\n              err.additionalInfo.confirmed = true;\r\n              reject(err);\r\n            }, () => {\r\n              reject(err);\r\n            });\r\n          }\r\n        }\r\n        else {\r\n          alertService.alert({'type': 'SERVER_ERROR_GENERAL'}).then(() => {\r\n            reject(err);\r\n          }, () => {\r\n            reject(err);\r\n          });\r\n        }\r\n      });\r\n    });\r\n  }\r\n\r\n  processInternalEvents() {\r\n    while (this.serverGateway.eventQueue.length > 0) {\r\n      var internalEvent = this.serverGateway.eventQueue.shift();\r\n      this.events.publish(internalEvent.eventName, internalEvent.eventData);\r\n    }\r\n  }\r\n\r\n  setPageTitle(key:string, params ?:Object) {\r\n    this.app.setTitle(this.translate(key, params));\r\n  }\r\n\r\n  openNewContest() {\n    analyticsService.track('menu/newContest');\r\n    var modal = this.createModalPage('ContestTypePage');\r\n    modal.onDidDismiss((contestTypeId) => {\r\n      if (contestTypeId) {\r\n        this.openPage('SetContestPage', {'mode': 'add', 'typeId': contestTypeId});\r\n      }\r\n    });\r\n    return modal.present();\r\n  }\r\n\r\n  displayContestById(contestId:string) {\r\n    return new Promise((resolve:any, reject:any) => {\r\n      contestsService.getContest(contestId).then((contest:Contest) => {\r\n        resolve(contest);\r\n        this.openPage('ContestPage', {'contest': contest});\r\n      }, (err) => {\r\n        reject(err)\r\n      });\r\n    });\r\n  }\r\n\r\n  showContest(contest:Contest, source:string, tryRun?:boolean) {\r\n\r\n    return new Promise((resolve:any, reject:any) => {\r\n\r\n      let now:number = (new Date()).getTime();\r\n\r\n      let eventData:any = {\r\n        'contestId': contest._id,\r\n        'team': '' + contest.myTeam,\r\n        'sourceClick': source\r\n      }\r\n\r\n      if (contest.state === 'play' && tryRun) {\r\n\r\n        analyticsService.track('contest/play', eventData);\r\n\r\n        //Joined to a contest - run it immediately (go to the quiz)\r\n        let appPages:Array<AppPage> = new Array<AppPage>();\r\n        if (now - contest.lastUpdated < this.settings.contest.refreshTresholdInMilliseconds) {\r\n          appPages.push(new AppPage('ContestPage', {'contest': contest}));\r\n          appPages.push(new AppPage('QuizPage', {'contest': contest, 'source': 'list'}));\r\n          this.insertPages(appPages);\r\n          resolve();\r\n        }\r\n        else {\r\n          contestsService.getContest(contest._id).then((serverContest:Contest) => {\r\n            resolve(serverContest);\r\n            appPages.push(new AppPage('ContestPage', {'contest': contest}));\r\n            appPages.push(new AppPage('QuizPage', {'contest': contest, 'source': 'list'}));\r\n            this.insertPages(appPages);\r\n          }, (err) => {\r\n            reject(err);\r\n          });\r\n        }\r\n      }\r\n      else if (now - contest.lastUpdated < this.settings.contest.refreshTresholdInMilliseconds) {\r\n        //Not joined and no refresh required - enter the contest with the object we have\r\n        resolve();\r\n        analyticsService.track('contest/show', eventData);\r\n        this.openPage('ContestPage', {'contest': contest});\r\n      }\r\n      else {\r\n        //Will enter the contest after retrieving it from the server\r\n        analyticsService.track('contest/show', eventData);\r\n        this.displayContestById(contest._id).then((serverContest:Contest) => {\r\n          resolve(serverContest);\r\n        }, (err) => {\r\n          reject(err);\r\n        });\r\n      }\r\n    });\r\n  }\r\n\r\n  share(contest:Contest, source) {\r\n    analyticsService.track('share', {'source': source});\r\n    this.openPage('SharePage', {'contest': contest, 'source': source});\r\n  }\r\n\r\n  getPage(name:string) {\r\n    return classesService.get(name);\r\n  }\r\n\r\n  openPage(name:string, params?:any) {\r\n    return this.nav.push(classesService.get(name), params);\r\n  }\r\n\r\n  createModalPage(name:string, params?:any) {\r\n    return this.modalController.create(classesService.get(name), params);\r\n  }\r\n\r\n  showModalPage(name:string, params?:any) {\r\n    var modal = this.createModalPage(name, params);\r\n    return modal.present();\r\n  }\r\n\r\n  createAlert(alertOptions:AlertOptions) {\r\n    return this.alertController.create(alertOptions);\r\n  }\r\n\r\n  setRootPage(name:string, params?:any) {\r\n    return this.nav.setRoot(classesService.get(name), params);\r\n  }\r\n\r\n  insertPages(pages:Array<AppPage>, index?:number) {\r\n    if (index === undefined) {\r\n      index = -1; //Will insert at the end of the stack\r\n    }\r\n\r\n    return this.nav.insertPages(index, this.getNavPages(pages));\r\n  }\r\n\r\n  setPages(pages:Array<AppPage>) {\r\n    return this.nav.setPages(this.getNavPages(pages));\r\n  }\r\n\r\n  getNavPages(pages:Array<AppPage>):Array<any> {\r\n\r\n    let navPages:Array<any> = new Array<any>();\r\n    pages.forEach((appPage:AppPage) => {\r\n      navPages.push({page: this.getPage(appPage.page), params: appPage.params});\r\n    });\r\n\r\n    return navPages;\r\n  }\r\n\r\n  hidePreloader() {\r\n    this.appPreloading = false;\r\n    document.body.className = 'app-loaded';\r\n  }\r\n\r\n  resizeWeb() {\r\n    //Resize app for web\r\n    var containerWidth = window.innerWidth;\r\n\r\n    var myApp = document.getElementById('myApp');\r\n    if (myApp) {\r\n      var minWidth = Math.min(containerWidth, this.settings.general.webCanvasWidth);\r\n      this._width = minWidth;\r\n      myApp.style.width = minWidth + 'px';\r\n      myApp.style.marginLeft = (containerWidth - minWidth) / 2 + 'px';\r\n    }\r\n\r\n    this._chartWidth = null; //Will be recalculated upon first access to chartWidth property\r\n    this._chartHeight = null; //Will be recalculated upon first access to chartHeight property\r\n\r\n    this.events.publish('app:resize');\r\n  }\r\n\r\n  get width():number {\r\n    var innerWidth = window.innerWidth;\r\n    if (this._width > 0 && this._width < innerWidth) {\r\n      return this._width;\r\n    }\r\n    else {\r\n      return innerWidth;\r\n    }\r\n  }\r\n\r\n  get height():number {\r\n    return window.innerHeight;\r\n  }\r\n\r\n  get chartWidth():number {\r\n    if (!this._chartWidth) {\r\n      this._chartWidth = this.width * this.settings.charts.contest.size.widthRatio;\r\n    }\r\n    return this._chartWidth;\r\n  }\r\n\r\n  get chartHeight():number {\r\n    if (!this._chartHeight) {\r\n      this._chartHeight = this.width * this.settings.charts.contest.size.heightRatioFromWidth;\r\n    }\r\n    return this._chartHeight;\r\n  }\r\n\r\n  showLoader() {\r\n    if (this.loadingModalComponent && !this.appPreloading) {\r\n      setTimeout(() => {\r\n        this.loadingModalComponent.show();\r\n      }, 100);\r\n    }\r\n  }\r\n\r\n  hideLoader() {\r\n    if (this.loadingModalComponent && !this.appPreloading) {\r\n      setTimeout(() => {\r\n        this.loadingModalComponent.hide();\r\n      }, 100);\r\n    }\r\n  }\r\n\r\n  popToRoot() {\r\n    if (this.nav.canGoBack()) {\r\n      return this.nav.popToRoot();\r\n    }\r\n    else {\r\n      return Promise.resolve();\r\n    }\r\n  }\r\n\r\n  private getDefaultLanguage() {\r\n      //Always return a language - get the browser's language\r\n      var language = window.navigator.languages ? navigator.languages[0].toString() : (navigator.language)\r\n    if (!language) {\r\n      language = 'en';\r\n    }\r\n    if (language.length > 2) {\r\n      language = language.toLowerCase().substring(0, 2);\r\n    }\r\n\r\n    return language;\r\n  }\r\n\r\n  get endPoint():String {\r\n    return this.serverGateway.endPoint;\r\n  }\r\n\r\n  get currentLanguage():Language {\r\n    return this.settings.languages[this.session ? this.session.settings.language : this.user.settings.language];\r\n  }\r\n\r\n  get languageKeys():Array<String> {\r\n    if (!this._languageKeys) {\r\n      this._languageKeys = Object.keys(this.settings.languages);\r\n    }\r\n    return this._languageKeys;\r\n  }\r\n\r\n  translate(key:string, params ?:Object) {\r\n    var language = (this.session ? this.session.settings.language : this.user.settings.language);\r\n    var translatedValue = this.settings.ui[language][key];\r\n    if (params) {\r\n      translatedValue = translatedValue.format(params);\r\n    }\r\n\r\n    return translatedValue;\r\n  }\r\n\r\n  toggleSettings(name:string) {\r\n    let postData:Object = {'name': name};\r\n    return this.serverPost('user/toggleSettings', postData);\r\n  }\r\n\r\n  localSwitchLanguage(language:string) {\r\n    localStorage.setItem('language', language);\r\n    this.setDirection();\r\n  }\r\n\r\n  switchLanguage() {\r\n    return new Promise((resolve, reject) => {\r\n      var postData = {'language': this.user.settings.language};\r\n      this.serverPost('user/switchLanguage', postData).then(() => {\r\n        this.session.settings.language = this.user.settings.language;\r\n        this.localSwitchLanguage(this.user.settings.language);\r\n        analyticsService.track('settings/language/change', {language: this.user.settings.language});\r\n        resolve();\r\n      }, (err) => {\r\n        this.user.settings.language = this.session.settings.language;\r\n        reject(err);\r\n      });\r\n    });\r\n  }\r\n\r\n  logout() {\r\n    this.serverPost('user/logout').then(()=> {\r\n      this.serverGateway.token = null;\r\n      this.session = null;\r\n      this.playerInfoComponent.clearXp();\r\n    }, () => {\r\n      this.serverGateway.token = null;\r\n      this.session = null;\r\n      this.playerInfoComponent.clearXp();\r\n    })\r\n  }\r\n\r\n  getRecursiveProperty(object:any, property:string):any {\r\n    if (object && property) {\r\n      let keys = property.split('.');\r\n      let currentObject:any = object;\r\n      for (var i = 0; i < keys.length; i++) {\r\n        if (!currentObject[keys[i]]) {\r\n          return null;\r\n        }\r\n        currentObject = currentObject[keys[i]];\r\n      }\r\n      return currentObject;\r\n    }\r\n  }\r\n\r\n  setRecursiveProperty(object:any, property:string, value:any):any {\r\n    if (object && property) {\r\n      let keys = property.split('.');\r\n      let currentObject:any = object;\r\n      for (var i = 0; i < keys.length; i++) {\r\n        if (!currentObject[keys[i]]) {\r\n          return;\r\n        }\r\n        if (i === keys.length - 1) {\r\n          //Last cycle - will exit loop\r\n          currentObject[keys[i]] = value;\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  initPushService() {\r\n    if (this.clientInfo.platform === 'android') {\r\n      //Push Service - init\r\n      //Will have sound/vibration only if sounds are on\r\n      this.settings.google.gcm.sound = this.session.settings.notifications.sound;\r\n      this.settings.google.gcm.vibrate = this.session.settings.notifications.vibrate;\r\n      this.pushService = Push.init(\r\n        {\r\n          'android': this.settings.google.gcm\r\n        }\r\n      );\r\n\r\n      this.pushService.on('error', (error) => {\r\n        analyticsService.logError('PushNotificationError', error);\r\n      });\r\n\r\n      //Push Service - registration\r\n      this.pushService.on('registration', (registrationData) => {\r\n\r\n        if (!registrationData || !registrationData.registrationId) {\r\n          return;\r\n        }\r\n\r\n        localStorage.setItem('gcmRegistrationId', registrationData.registrationId);\r\n        this.user.gcmRegistrationId = registrationData.registrationId;\r\n\r\n        if (this.session && this.user.gcmRegistrationId &&\r\n          (\r\n            (!this.session.gcmRegistrationId ||\r\n            this.session.gcmRegistrationId !== this.user.gcmRegistrationId)\r\n          )) {\r\n\r\n          //If client has a registration Id and server has not / server has a different one\r\n          //Update the server\r\n          this.serverPost('user/setGcmRegistration', {'registrationId': this.user.gcmRegistrationId}).then(() => {\r\n          }, () => {\r\n          });\r\n        }\r\n\r\n      });\r\n\r\n      //Push Service - notification\r\n      this.pushService.on('notification', (notificationData) => {\r\n        if (this.session && notificationData.additionalData && notificationData.additionalData.foreground) {\r\n          //App is in the foreground - popup the alert\r\n          var buttons:Array<Object> = null;\r\n          if (notificationData.additionalData['contestId']) {\r\n            buttons = new Array<Object>();\r\n            buttons.push(\r\n              {\r\n                'text': notificationData.additionalData['buttonText'],\r\n                'cssClass': notificationData.additionalData['buttonCssClass'],\r\n                'handler': () => {\r\n                  contestsService.getContest(notificationData.additionalData['contestId']).then((contest:Contest) => {\r\n                    this.showContest(contest, 'push', true);\r\n                  }, () => {\r\n                  })\r\n                }\r\n              });\r\n            if (!notificationData.additionalData['hideNotNow']) {\r\n              buttons.push(\r\n                {\r\n                  'text': this.translate('NOT_NOW'),\r\n                  'role': 'cancel'\r\n                }\r\n              );\r\n            }\r\n          }\r\n          alertService.alertTranslated(notificationData.title, notificationData.message, buttons).then(()=> {\r\n          }, ()=> {\r\n            //Notify push plugin that the 'notification' event has been handled\r\n            this.pushService.finish(()=> {\r\n            }, ()=> {\r\n            });\r\n          });\r\n        }\r\n        else if (notificationData.additionalData['contestId']) {\r\n          //App is not running or in the background\r\n          //Save deep linked contest id for later\r\n          this.deepLinkContestId = notificationData.additionalData['contestId'];\r\n          //Notify push plugin that the 'notification' event has been handled\r\n          this.pushService.finish(()=> {\r\n          }, ()=> {\r\n          });\r\n        }\r\n      });\r\n\r\n    }\r\n  }\r\n\r\n  getAvatarUrl(avatar:Avatar) {\r\n    if (avatar.type === 0) {\r\n      return this.settings.facebook.avatarTemplate.replace('{{id}}', avatar.id);\r\n    }\r\n    else if (avatar.type === 1) {\r\n      return this.getGuestAvatarUrl(avatar.id);\r\n    }\r\n    else {\r\n      return;\r\n    }\r\n  }\r\n\r\n  getGuestAvatarUrl(avatarId:string) {\r\n    return this.settings.general.avatarTemplate.replace('{{id}}', avatarId);\r\n  }\r\n\r\n\r\n  hasCredentials(connectInfo:ConnectInfo):boolean {\r\n    if (connectInfo.type === 'facebook' && connectInfo.facebookInfo) {\r\n      return true;\r\n    }\r\n    else if (connectInfo.type === 'guest' && connectInfo.guestInfo) {\r\n      return true;\r\n    }\r\n    else {\r\n      return false;\r\n    }\r\n  }\r\n}\r\n\r\nexport class ServerGateway {\r\n\r\n  http:Http;\r\n  endPoint:string;\r\n  token:string;\r\n  eventQueue:Array<InternalEvent>;\r\n  retries:number = 10;\r\n  initialDelay:number = 500;\r\n\r\n  constructor(http:Http) {\r\n    this.http = http;\r\n\r\n    if (!window.cordova) {\r\n      this.endPoint = window.location.protocol + '//' + window.location.host + '/';\r\n    }\r\n    else {\r\n      this.endPoint = 'http://www.topteamer.com/'\r\n    }\r\n\r\n    this.eventQueue = [];\r\n  }\r\n\r\n  post(path:string, postData?:Object) {\r\n\r\n    return new Promise((resolve, reject) => {\r\n\r\n      var headers = new Headers();\r\n      headers.append('Content-Type', 'application/json');\r\n\r\n      if (this.token) {\r\n        headers.append('Authorization', this.token);\r\n      }\r\n\r\n      this.http.post(this.endPoint + path, JSON.stringify(postData), {headers: headers})\r\n        .catch((err) => {\r\n          if (err['_body'] && typeof err['_body'] === 'string') {\r\n            //This is an applicative error from our server\r\n            try {\r\n              var parsedError = JSON.parse(err['_body']);\r\n              reject(parsedError);\r\n            }\r\n            catch (e) {\r\n              reject(err);\r\n            }\r\n            finally {\r\n              return Observable.empty();\r\n            }\r\n          }\r\n          else {\r\n            //Other error - ocntinue to the retryWhen\r\n            return Observable.throw(err);\r\n          }\r\n        })\r\n        .retryWhen((errors) => {\r\n          //Other network error - retry sending\r\n          return Observable.range(1, this.retries).zip(errors, (i) => {\r\n            return i;\r\n          }).flatMap((i) => {\r\n            if (i < this.retries) {\r\n              return Observable.timer(i * this.initialDelay);\r\n            }\r\n            else {\r\n              reject({'type': 'SERVER_ERROR_NETWORK_TIMEOUT', 'httpStatus': 404});\r\n              return Observable.empty();\r\n            }\r\n          })\r\n        })\r\n        .map((res:Response) => res.json())\r\n        .subscribe(\r\n          (res:Object) => {\r\n            if (res['serverPopup']) {\r\n              this.eventQueue.push(new InternalEvent('app:serverPopup', res['serverPopup']));\r\n            }\r\n            resolve(res);\r\n          }\r\n        );\r\n    });\r\n  };\r\n}\r\n\r\nexport class InternalEvent {\r\n  eventName:string;\r\n  eventData:Object;\r\n\r\n  constructor(eventName:string, eventData:Object) {\r\n    this.eventName = eventName;\r\n    this.eventData = eventData;\r\n  }\r\n}\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/client.ts","import {Client} from './client';\r\nimport {ConnectInfo,FacebookInfo} from '../objects/objects'\r\n\r\n//------------------------------------------------------\r\n//-- getLoginStatus\r\n//------------------------------------------------------\r\nexport let getLoginStatus = () => {\r\n\r\n  return new Promise((resolve, reject) => {\r\n\r\n    let connectInfo:ConnectInfo;\r\n    if (!window.cordova) {\r\n      window.FB.getLoginStatus((response:any) => {\r\n        if (response && response.status === 'connected') {\r\n          connectInfo = new ConnectInfo('facebook');\r\n          connectInfo.facebookInfo = new FacebookInfo(response.authResponse.accessToken, response.authResponse.userID);\r\n          resolve(connectInfo);\r\n        }\r\n        else {\r\n          reject();\r\n        }\r\n      });\r\n    }\r\n    else {\r\n      window.facebookConnectPlugin.getLoginStatus((response) => {\r\n        if (response && response.status === 'unknown') {\r\n          //Give it another try as facebook native is not yet initiated\r\n          setTimeout(() => {\r\n            window.facebookConnectPlugin.getLoginStatus((response) => {\r\n              if (response && response.status === 'connected') {\r\n                connectInfo = new ConnectInfo('facebook');\r\n                connectInfo.facebookInfo = new FacebookInfo(response.authResponse.accessToken, response.authResponse.userID);\r\n              }\r\n              resolve(connectInfo);\r\n            }, (error) => {\r\n              reject(error);\r\n            })\r\n          }, 500);\r\n        }\r\n        else if (response && response.status === 'connected') {\r\n          connectInfo = new ConnectInfo('facebook');\r\n          connectInfo.facebookInfo = new FacebookInfo(response.authResponse.accessToken, response.authResponse.userID);\r\n          resolve(connectInfo);\r\n        }\r\n        else {\r\n          reject();\r\n        }\r\n\r\n      }, (error) => {\r\n        reject(error);\r\n      });\r\n    }\r\n  });\r\n}\r\n\r\n//------------------------------------------------------\r\n//-- login\r\n//------------------------------------------------------\r\nexport let login = (permissions?, rerequestDeclinedPermissions?) => {\r\n\r\n  return new Promise((resolve, reject) => {\r\n\r\n    var client = Client.getInstance();\r\n\r\n    if (!permissions) {\r\n      permissions = client.settings.facebook.readPermissions;\r\n    }\r\n\r\n    let connectInfo:ConnectInfo = new ConnectInfo('facebook');\r\n\r\n    if (!window.cordova) {\r\n\r\n      var permissionObject = {};\r\n      permissionObject['scope'] = permissions.toString();\r\n      if (rerequestDeclinedPermissions) {\r\n        permissionObject['auth_type'] = 'rerequest';\r\n      }\r\n\r\n      window.FB.login((response:any) => {\r\n        if (response && response.authResponse) {\r\n          connectInfo.facebookInfo = new FacebookInfo(response.authResponse.accessToken, response.authResponse.userID);\r\n          resolve(connectInfo);\r\n        }\r\n        else {\r\n          reject(response.status);\r\n        }\r\n      },permissionObject);\r\n    }\r\n    else {\r\n      window.facebookConnectPlugin.login(client.settings.facebook.readPermissions,\r\n        (response) => {\r\n          if (response && response.authResponse) {\r\n            connectInfo.facebookInfo = new FacebookInfo(response.authResponse.accessToken, response.authResponse.userID);\r\n            resolve(connectInfo);\r\n          }\r\n        },\r\n        (err) => {\r\n          reject(err);\r\n        }\r\n      );\r\n    }\r\n  });\r\n}\r\n\r\n//------------------------------------------------------\r\n//-- logout\r\n//------------------------------------------------------\r\nexport let logout = () => {\r\n\r\n  return new Promise((resolve, reject) => {\r\n\r\n    if (!window.cordova) {\r\n\r\n      window.FB.logout((response) => {\r\n        resolve(response);\r\n      });\r\n    }\r\n    else {\r\n      window.facebookConnectPlugin.logout((response) => {\r\n          resolve(response);\r\n        }\r\n      );\r\n    }\r\n  });\r\n}\r\n\r\n//------------------------------------------------------\r\n//-- post\r\n//------------------------------------------------------\r\nexport let post = (story) => {\r\n\r\n  return new Promise((resolve, reject) => {\r\n\r\n    if (window.cordova) {\r\n      var mobilePostObject = {\r\n        'method': 'share_open_graph',\r\n        'action': story.action,\r\n        'object': JSON.stringify(story.object)\r\n      };\r\n\r\n      window.facebookConnectPlugin.showDialog(mobilePostObject, (response) => {\r\n        resolve(response);\r\n      }, (error) => {\r\n        reject(error);\r\n      })\r\n    }\r\n    else {\r\n      var webPostObject = {\r\n        'method': 'share_open_graph',\r\n        'action_type': story.action,\r\n        'action_properties': story.object\r\n      };\r\n\r\n      try {\r\n        window.FB.ui(webPostObject, (response) => {\r\n          resolve(response);\r\n        });\r\n      } catch (error) {\r\n        reject(error);\r\n      }\r\n    }\r\n  })\r\n};\r\n\r\n//------------------------------------------------------\r\n//-- buy\r\n//------------------------------------------------------\r\nexport let buy = (purchaseDialogData) => {\r\n\r\n  return new Promise((resolve, reject) => {\r\n\r\n    try {\r\n      window.FB.ui(purchaseDialogData, (response) => {\r\n        resolve(response);\r\n      });\r\n    } catch (error) {\r\n      reject(error);\r\n    }\r\n  });\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/facebook.ts","import {ContestPage} from '../pages/contest/contest';\r\nimport {ContestParticipantsPage} from '../pages/contest-participants/contest-participants';\r\nimport {ContestTypePage} from '../pages/contest-type/contest-type';\r\nimport {ShareSuccessPage} from '../pages/share-success/share-success';\r\nimport {LeaderboardsPage} from '../pages/leaderboards/leaderboards';\r\nimport {LoginPage} from '../pages/login/login';\r\nimport {MainTabsPage} from '../pages/main-tabs/main-tabs';\r\nimport {MyContestsPage} from '../pages/my-contests/my-contests';\r\nimport {NewRankPage} from '../pages/new-rank/new-rank';\r\nimport {PurchaseSuccessPage} from '../pages/purchase-success/purchase-success';\r\nimport {QuestionEditorPage} from '../pages/question-editor/question-editor';\r\nimport {QuestionStatsPage} from '../pages/question-stats/question-stats';\r\nimport {QuizPage} from '../pages/quiz/quiz';\r\nimport {RunningContestsPage} from '../pages/running-contests/running-contests';\r\nimport {SearchQuestionsPage} from '../pages/search-questions/search-questions';\r\nimport {ServerPopupPage} from '../pages/server-popup/server-popup';\r\nimport {SetContestPage} from '../pages/set-contest/set-contest';\r\nimport {SetContestAdminPage} from '../pages/set-contest-admin/set-contest-admin';\r\nimport {SetUserPage} from '../pages/set-user/set-user';\r\nimport {SettingsPage} from '../pages/settings/settings';\r\nimport {SharePage} from '../pages/share/share';\r\nimport {SystemToolsPage} from '../pages/system-tools/system-tools';\r\n\r\nlet appClasses = {\r\n  'ContestPage': <any>ContestPage,\r\n  'ContestParticipantsPage': <any>ContestParticipantsPage,\r\n  'ContestTypePage': <any>ContestTypePage,\r\n  'ShareSuccessPage': <any>ShareSuccessPage,\r\n  'LeaderboardsPage': <any>LeaderboardsPage,\r\n  'LoginPage': <any>LoginPage,\r\n  'MainTabsPage': <any>MainTabsPage,\r\n  'MyContestsPage': <any>MyContestsPage,\r\n  'NewRankPage': <any>NewRankPage,\r\n  'PurchaseSuccessPage': <any>PurchaseSuccessPage,\r\n  'QuestionEditorPage': <any>QuestionEditorPage,\r\n  'QuestionStatsPage': <any>QuestionStatsPage,\r\n  'QuizPage': <any>QuizPage,\r\n  'RunningContestsPage': <any>RunningContestsPage,\r\n  'SearchQuestionsPage': <any>SearchQuestionsPage,\r\n  'ServerPopupPage': <any>ServerPopupPage,\r\n  'SetContestPage': <any>SetContestPage,\r\n  'SetContestAdminPage': <any>SetContestAdminPage,\r\n  'SetUserPage': <any>SetUserPage,\r\n  'SettingsPage': <any>SettingsPage,\r\n  'SharePage': <any>SharePage,\r\n  'SystemToolsPage': <any>SystemToolsPage\r\n};\r\n\r\n//------------------------------------------------------\r\n//-- get\r\n//------------------------------------------------------\r\nexport let get = (className:string) => {\r\n  return appClasses[className];\r\n}\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/classes.ts","import {Client} from './client';\r\n\r\n//------------------------------------------------------\r\n//-- friends\r\n//------------------------------------------------------\r\nexport let friends = () => {\r\n  var client = Client.getInstance();\r\n  return client.serverPost('leaderboard/friends');\r\n}\r\n\r\n//------------------------------------------------------\r\n//-- weekly\r\n//------------------------------------------------------\r\nexport let weekly = () => {\r\n  var client = Client.getInstance();\r\n  return client.serverPost('leaderboard/weekly');\r\n}\r\n\r\n//------------------------------------------------------\r\n//-- contest\r\n//------------------------------------------------------\r\nexport let contest = (contestId: string, teamId? : number) => {\r\n  var postData = {'contestId' : contestId};\r\n  if (teamId === 0 || teamId === 1) {\r\n    postData['teamId'] = teamId;\r\n  }\r\n  var client = Client.getInstance();\r\n  return client.serverPost('leaderboard/contest', postData);\r\n}\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/leaderboards.ts","import {Client} from './client';\r\n\r\n//------------------------------------------------------\r\n//-- start\r\n//------------------------------------------------------\r\nexport let start = (contestId : string) => {\r\n  var postData = {'contestId': contestId};\r\n  var client = Client.getInstance();\r\n  return client.serverPost('quiz/start', postData);\r\n}\r\n\r\n//------------------------------------------------------\r\n//-- answer\r\n//------------------------------------------------------\r\nexport let answer = (answerId: number, hintUsed: boolean, answerUsed: boolean) => {\r\n  var postData = {'id': answerId};\r\n  if (hintUsed) {\r\n    postData['hintUsed'] = hintUsed;\r\n  }\r\n  if (answerUsed) {\r\n    postData['answerUsed'] = answerUsed;\r\n  }\r\n  var client = Client.getInstance();\r\n  return client.serverPost('quiz/answer', postData);\r\n}\r\n\r\n//------------------------------------------------------\r\n//-- nextQuestion\r\n//------------------------------------------------------\r\nexport let nextQuestion = () => {\r\n  var client = Client.getInstance();\r\n  return client.serverPost('quiz/nextQuestion');\r\n}\r\n\r\n//------------------------------------------------------\r\n//-- setQuestionByAdmin\r\n//------------------------------------------------------\r\nexport let setQuestionByAdmin = function (question) {\r\n  var postData = {'question': question};\r\n  var client = Client.getInstance();\r\n  return client.serverPost('quiz/setQuestionByAdmin', postData);\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/quiz.ts","import {Client} from './client';\r\nimport * as connectService from './connect';\r\nimport {Feature,PaymentData,PurchaseData} from '../objects/objects';\r\n\r\n//------------------------------------------------------\r\n//-- buy\r\n//------------------------------------------------------\r\nexport let buy = (feature:Feature, isMobile:Boolean) => new Promise((resolve, reject) => {\r\n\r\n  var client = Client.getInstance();\r\n\r\n  var method;\r\n\r\n  switch (client.user.clientInfo.platform) {\r\n    case 'web' :\r\n      var postData = {'feature': feature.name, 'language': client.session.settings.language};\r\n      method = 'paypal';\r\n      client.serverPost('payments/buy', postData).then((data) => {\r\n          if (resolve) {\r\n            resolve(new PaymentData(method, data));\r\n          }\r\n        }, (error) => {\r\n          if (reject) {\r\n            reject(error);\r\n          }\r\n        }\r\n      );\r\n      break;\r\n\r\n    case 'android' :\r\n      method = 'android';\r\n      window.inappbilling.buy((purchaseData) => {\r\n          if (resolve) {\r\n            resolve(new PaymentData(method, purchaseData));\r\n          }\r\n        },\r\n        (error) => {\r\n          //Error messages will be displayed inside google\r\n          if (reject) {\r\n            reject(error);\r\n          }\r\n        },\r\n        feature.purchaseData.productId);\r\n      break;\r\n\r\n    case 'ios' :\r\n      method = 'ios';\r\n      //TODO: Purchase in ios\r\n      alert('TBD - purchase in ios');\r\n      break;\r\n\r\n    case 'facebook' :\r\n      method = 'facebook';\r\n      var productUrl = client.endPoint + 'facebook/product/' + feature.purchaseData.productId + '/' + client.session.settings.language;\r\n      var facebookDialogData = {\r\n        'method': 'pay',\r\n        'action': 'purchaseitem',\r\n        'product': productUrl,\r\n        'request_id': feature.name + '|' + client.session.thirdParty.id + '|' + (new Date()).getTime()\r\n      };\r\n      if (isMobile && client.session.features[feature.name].purchaseData.mobilePricepointId) {\r\n        facebookDialogData['pricepoint_id'] = client.session.features[feature.name].purchaseData.mobilePricepointId;\r\n      }\r\n\r\n      connectService.buy(facebookDialogData).then((data:PurchaseData) => {\r\n        if (resolve) {\r\n          resolve(new PaymentData(method, data));\r\n        }\r\n      }, (error) => {\r\n        if (reject) {\r\n          reject(error);\r\n        }\r\n      });\r\n      break;\r\n  }\r\n\r\n});\r\n\r\n//------------------------------------------------------\r\n//-- showPurchaseSuccess\r\n//------------------------------------------------------\r\nexport let showPurchaseSuccess = (serverPurchaseData) => {\r\n\r\n  var client = Client.getInstance();\r\n\r\n  client.session.features = serverPurchaseData.features\r\n  client.openPage('PurchaseSuccessPage', {'featurePurchased': serverPurchaseData.featurePurchased});\r\n};\r\n\r\n//------------------------------------------------------\r\n//-- processPayment\r\n//------------------------------------------------------\r\nexport let processPayment = (method, purchaseData, extraPurchaseData) => {\r\n\r\n  return new Promise((resolve, reject) => {\r\n\r\n    var client = Client.getInstance();\r\n\r\n    var postData = {'method': method, 'purchaseData': purchaseData};\r\n    if (extraPurchaseData) {\r\n      postData['extraPurchaseData'] = extraPurchaseData;\r\n    }\r\n\r\n    client.serverPost('payments/process', postData).then((serverPuchaseData) => {\r\n      if (resolve) {\r\n        resolve(serverPuchaseData);\r\n      }\r\n    }, (error) => {\r\n      if (reject) {\r\n        reject(error);\r\n      }\r\n    })\r\n  });\r\n}\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/payments.ts","import {Component, Input, EventEmitter, Output} from '@angular/core';\r\nimport {Client} from '../../providers/client';\r\nimport {CalendarCell} from '../../objects/objects';\r\n\r\n\r\n@Component({\r\n  selector: 'date-picker',\r\n  templateUrl: 'date-picker.html'\r\n})\r\n\r\nexport class DatePickerComponent {\r\n\r\n  @Input() currentDateEpoch:number;\r\n  @Input() minDate:number;\r\n  @Input() maxDate:number;\r\n  @Input() currentDateClass:String;\r\n  @Output() dateSelected = new EventEmitter();\r\n\r\n  client:Client;\r\n  currentDate:Date;\r\n  hideCalendar:boolean;\r\n  displayedYear:number;\r\n  displayedMonth:number;\r\n\r\n  monthsList:Array<string>;\r\n  weekDays:Array<string>;\r\n  calendar:Array<CalendarCell>;\r\n  rows:Array<any>;\r\n  cols:Array<any>;\r\n  minEpochLocal:any;\r\n  maxEpochLocal:any;\r\n  currentDateFormatted: string;\r\n  prevMonthDisabled:boolean;\r\n  nextMonthDisabled:boolean;\r\n  prevYearDisabled:boolean;\r\n  nextYearDisabled:boolean;\r\n\r\n  constructor() {\r\n    this.client = Client.getInstance();\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.hideCalendar = true;\r\n\r\n    //Setting the input date for the date picker\r\n    if (this.currentDateEpoch) {\r\n      this.currentDate = new Date(this.currentDateEpoch);\r\n    }\r\n    else {\r\n      this.currentDate = new Date();\r\n    }\r\n    this.currentDate.clearTime();\r\n\r\n    this.displayedYear = this.currentDate.getFullYear();\r\n    this.displayedMonth = this.currentDate.getMonth();\r\n\r\n    this.monthsList = this.client.translate('DATE_PICKER_MONTH_NAMES');\r\n    this.weekDays = this.client.translate('DATE_PICKER_WEEK_DAYS');\r\n\r\n    this.rows = [];\r\n    this.cols = [];\r\n    this.rows.length = 6;\r\n    this.cols.length = 7;\r\n\r\n    this.setDateLimits();\r\n\r\n    this.formatSelectedDate();\r\n\r\n  };\r\n\r\n  toggleCalendar() {\r\n    this.hideCalendar = !this.hideCalendar;\r\n    if (!this.hideCalendar) {\r\n      this.displayedYear = this.currentDate.getFullYear();\r\n      this.displayedMonth = this.currentDate.getMonth();\r\n      this.refreshMonth();\r\n    }\r\n  }\r\n\r\n  prevMonth() {\r\n    if (this.displayedMonth === 0) {\r\n      this.displayedYear--;\r\n      this.displayedMonth = 11;\r\n    }\r\n    else {\r\n      this.displayedMonth--;\r\n    }\r\n    this.refreshMonth();\r\n  };\r\n\r\n  nextMonth() {\r\n    if (this.displayedMonth === 11) {\r\n      this.displayedYear++;\r\n      this.displayedMonth = 0;\r\n    }\r\n    else {\r\n      this.displayedMonth++;\r\n    }\r\n    this.refreshMonth();\r\n  };\r\n\r\n  prevYear() {\r\n    this.displayedYear--;\r\n    this.refreshMonth();\r\n  };\r\n\r\n  nextYear() {\r\n    this.displayedYear++;\r\n    this.refreshMonth();\r\n  };\r\n\r\n  refreshMonth() {\r\n\r\n    var firstDateOfTheMonth = new Date(this.displayedYear, this.displayedMonth, 1);\r\n    var lastDateOfTheMonth = new Date(this.displayedYear, this.displayedMonth + 1, 0);\r\n    var firstDateOfTheYear = new Date(this.displayedYear, 0, 1);\r\n    var lastDateOfTheYear = new Date(this.displayedYear, 11, 31, 23, 59, 59, 999);\r\n    var daysOffsetStart = firstDateOfTheMonth.getDay();\r\n    var firstDayOfTheCalendar = new Date(firstDateOfTheMonth.getFullYear(), firstDateOfTheMonth.getMonth(), firstDateOfTheMonth.getDate() - daysOffsetStart);\r\n    var totalDays = this.rows.length * this.cols.length;\r\n\r\n    this.calendar = [];\r\n\r\n    var today = new Date();\r\n    today.clearTime();\r\n    var todayEpoch = today.getTime();\r\n\r\n    for (var i = 0; i < totalDays; i++) {\r\n      var cellDate = new Date(firstDayOfTheCalendar.getFullYear(), firstDayOfTheCalendar.getMonth(), firstDayOfTheCalendar.getDate() + i, 0, 0, 0);\r\n      cellDate.clearTime();\r\n      var epochLocal = cellDate.getTime();\r\n\r\n      this.calendar.push({\r\n        dateObject: cellDate,\r\n        date: cellDate.getDate(),\r\n        month: cellDate.getMonth(),\r\n        year: cellDate.getFullYear(),\r\n        day: cellDate.getDay(),\r\n        dateString: cellDate.toString(),\r\n        epochLocal: epochLocal,\r\n        epochUTC: (epochLocal + (cellDate.getTimezoneOffset() * 60 * 1000)),\r\n        inMonth: (epochLocal >= firstDateOfTheMonth.getTime() && epochLocal <= lastDateOfTheMonth.getTime()),\r\n        disabled: ( (this.minEpochLocal && epochLocal < this.minEpochLocal) || (this.maxEpochLocal && epochLocal > this.maxEpochLocal) ),\r\n        selected: (epochLocal === this.currentDateEpoch),\r\n        today: (epochLocal === todayEpoch)\r\n      });\r\n    }\r\n\r\n    this.prevMonthDisabled = (this.minEpochLocal && this.minEpochLocal && firstDateOfTheMonth.getTime() < this.minEpochLocal);\r\n    this.nextMonthDisabled = (this.maxEpochLocal && this.maxEpochLocal && lastDateOfTheMonth.getTime() > this.maxEpochLocal);\r\n    this.prevYearDisabled = (this.minEpochLocal && this.minEpochLocal && firstDateOfTheYear.getTime() < this.minEpochLocal);\r\n    this.nextYearDisabled = (this.maxEpochLocal && this.maxEpochLocal && lastDateOfTheYear.getTime() > this.maxEpochLocal);\r\n\r\n  }\r\n\r\n  getCell(row, col) {\r\n    return this.calendar[(row * this.cols.length) + col];\r\n  }\r\n\r\n  pickDate(row, col) {\r\n    var cell = this.getCell(row, col);\r\n    if (!cell.disabled) {\r\n      this.currentDate = cell.dateObject;\r\n      this.currentDateEpoch = this.currentDate.getTime();\r\n      this.formatSelectedDate();\r\n      this.hideCalendar = true;\r\n      this.dateSelected.emit(cell);\r\n    }\r\n  }\r\n\r\n  formatSelectedDate() {\r\n    this.currentDateFormatted = this.currentDate.toLocaleDateString(this.client.currentLanguage.locale,this.client.currentLanguage.localeDateOptions);\r\n  }\r\n\r\n  setDateLimits() {\r\n    if (this.minDate) {\r\n      var minDate = new Date(this.minDate);\r\n      minDate.clearTime();\r\n      this.minEpochLocal = minDate.getTime();\r\n    }\r\n\r\n    if (this.maxDate) {\r\n      var maxDate = new Date(this.maxDate);\r\n      maxDate.clearTime();\r\n      //Another 24 hours to count all the hours in the max date including up to midnight (23:59:59.999)\r\n      this.maxEpochLocal = maxDate.getTime() + 24 * 60 * 60 * 1000 - 1;\r\n    }\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/date-picker/date-picker.ts","import { Component, ContentChildren, QueryList, AfterContentInit } from '@angular/core'\nimport { SimpleTabComponent } from '../simple-tab/simple-tab';\r\n\r\n@Component({\r\n    selector: 'simple-tabs',\r\n    templateUrl: 'simple-tabs.html'\r\n})\r\nexport class SimpleTabsComponent implements AfterContentInit {\r\n\r\n    @ContentChildren(SimpleTabComponent) simpleTabs: QueryList<SimpleTabComponent>;\n\n    // contentChildren are set\n    ngAfterContentInit() {\n        // get all active tabs\n        let activeTabs = this.simpleTabs.filter((simpleTab) => simpleTab.active);\n\n        // if there is no active tab set, activate the first\n        if (activeTabs.length === 0) {\n            this.selectTab(this.simpleTabs.first);\n        }\n    }\r\n\n    selectTab(simpleTab: SimpleTabComponent) {\n\n        console.log(\"begin tab selected\");\n        // deactivate all tabs\n        this.simpleTabs.toArray().forEach(tab => tab.active = false);\n\n        // activate the tab the user has clicked on.\n        simpleTab.active = true;\n\n        //Bubble the event outside\n        simpleTab.selected.emit();\n        console.log(\"end tab selected\");\n\n    }\r\n    \r\n    switchToTab(tabId: number) {\r\n        if (tabId >= 0 && tabId < this.simpleTabs.length) {\r\n            this.selectTab(this.simpleTabs.toArray()[tabId]);\r\n        }\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/simple-tabs/simple-tabs.ts"],"sourceRoot":""}